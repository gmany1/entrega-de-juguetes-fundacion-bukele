(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function IS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jp={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function sI(){if(By)return rc;By=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return rc.Fragment=e,rc.jsx=n,rc.jsxs=n,rc}var Hy;function aI(){return Hy||(Hy=1,Jp.exports=sI()),Jp.exports}var H=aI(),$p={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function oI(){if(Gy)return rt;Gy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),E=Symbol.iterator;function x(ee){return ee===null||typeof ee!="object"?null:(ee=E&&ee[E]||ee["@@iterator"],typeof ee=="function"?ee:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,I={};function q(ee,O,j){this.props=ee,this.context=O,this.refs=I,this.updater=j||R}q.prototype.isReactComponent={},q.prototype.setState=function(ee,O){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,O,"setState")},q.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function X(){}X.prototype=q.prototype;function G(ee,O,j){this.props=ee,this.context=O,this.refs=I,this.updater=j||R}var te=G.prototype=new X;te.constructor=G,A(te,q.prototype),te.isPureReactComponent=!0;var he=Array.isArray;function me(){}var N={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function D(ee,O,j){var J=j.ref;return{$$typeof:t,type:ee,key:O,ref:J!==void 0?J:null,props:j}}function k(ee,O){return D(ee.type,O,ee.props)}function F(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===t}function K(ee){var O={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(j){return O[j]})}var L=/\/+/g;function Ye(ee,O){return typeof ee=="object"&&ee!==null&&ee.key!=null?K(""+ee.key):O.toString(36)}function Ee(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(me,me):(ee.status="pending",ee.then(function(O){ee.status==="pending"&&(ee.status="fulfilled",ee.value=O)},function(O){ee.status==="pending"&&(ee.status="rejected",ee.reason=O)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function ie(ee,O,j,J,Q){var pe=typeof ee;(pe==="undefined"||pe==="boolean")&&(ee=null);var De=!1;if(ee===null)De=!0;else switch(pe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(ee.$$typeof){case t:case e:De=!0;break;case m:return De=ee._init,ie(De(ee._payload),O,j,J,Q)}}if(De)return Q=Q(ee),De=J===""?"."+Ye(ee,0):J,he(Q)?(j="",De!=null&&(j=De.replace(L,"$&/")+"/"),ie(Q,O,j,"",function(Oe){return Oe})):Q!=null&&(F(Q)&&(Q=k(Q,j+(Q.key==null||ee&&ee.key===Q.key?"":(""+Q.key).replace(L,"$&/")+"/")+De)),O.push(Q)),1;De=0;var Ue=J===""?".":J+":";if(he(ee))for(var be=0;be<ee.length;be++)J=ee[be],pe=Ue+Ye(J,be),De+=ie(J,O,j,pe,Q);else if(be=x(ee),typeof be=="function")for(ee=be.call(ee),be=0;!(J=ee.next()).done;)J=J.value,pe=Ue+Ye(J,be++),De+=ie(J,O,j,pe,Q);else if(pe==="object"){if(typeof ee.then=="function")return ie(Ee(ee),O,j,J,Q);throw O=String(ee),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return De}function we(ee,O,j){if(ee==null)return ee;var J=[],Q=0;return ie(ee,J,"","",function(pe){return O.call(j,pe,Q++)}),J}function Be(ee){if(ee._status===-1){var O=ee._result;O=O(),O.then(function(j){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=j)},function(j){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=j)}),ee._status===-1&&(ee._status=0,ee._result=O)}if(ee._status===1)return ee._result.default;throw ee._result}var Xe=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)},je={map:we,forEach:function(ee,O,j){we(ee,function(){O.apply(this,arguments)},j)},count:function(ee){var O=0;return we(ee,function(){O++}),O},toArray:function(ee){return we(ee,function(O){return O})||[]},only:function(ee){if(!F(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}};return rt.Activity=y,rt.Children=je,rt.Component=q,rt.Fragment=n,rt.Profiler=i,rt.PureComponent=G,rt.StrictMode=r,rt.Suspense=d,rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,rt.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return N.H.useMemoCache(ee)}},rt.cache=function(ee){return function(){return ee.apply(null,arguments)}},rt.cacheSignal=function(){return null},rt.cloneElement=function(ee,O,j){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var J=A({},ee.props),Q=ee.key;if(O!=null)for(pe in O.key!==void 0&&(Q=""+O.key),O)!M.call(O,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&O.ref===void 0||(J[pe]=O[pe]);var pe=arguments.length-2;if(pe===1)J.children=j;else if(1<pe){for(var De=Array(pe),Ue=0;Ue<pe;Ue++)De[Ue]=arguments[Ue+2];J.children=De}return D(ee.type,Q,J)},rt.createContext=function(ee){return ee={$$typeof:l,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:o,_context:ee},ee},rt.createElement=function(ee,O,j){var J,Q={},pe=null;if(O!=null)for(J in O.key!==void 0&&(pe=""+O.key),O)M.call(O,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(Q[J]=O[J]);var De=arguments.length-2;if(De===1)Q.children=j;else if(1<De){for(var Ue=Array(De),be=0;be<De;be++)Ue[be]=arguments[be+2];Q.children=Ue}if(ee&&ee.defaultProps)for(J in De=ee.defaultProps,De)Q[J]===void 0&&(Q[J]=De[J]);return D(ee,pe,Q)},rt.createRef=function(){return{current:null}},rt.forwardRef=function(ee){return{$$typeof:c,render:ee}},rt.isValidElement=F,rt.lazy=function(ee){return{$$typeof:m,_payload:{_status:-1,_result:ee},_init:Be}},rt.memo=function(ee,O){return{$$typeof:h,type:ee,compare:O===void 0?null:O}},rt.startTransition=function(ee){var O=N.T,j={};N.T=j;try{var J=ee(),Q=N.S;Q!==null&&Q(j,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(me,Xe)}catch(pe){Xe(pe)}finally{O!==null&&j.types!==null&&(O.types=j.types),N.T=O}},rt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},rt.use=function(ee){return N.H.use(ee)},rt.useActionState=function(ee,O,j){return N.H.useActionState(ee,O,j)},rt.useCallback=function(ee,O){return N.H.useCallback(ee,O)},rt.useContext=function(ee){return N.H.useContext(ee)},rt.useDebugValue=function(){},rt.useDeferredValue=function(ee,O){return N.H.useDeferredValue(ee,O)},rt.useEffect=function(ee,O){return N.H.useEffect(ee,O)},rt.useEffectEvent=function(ee){return N.H.useEffectEvent(ee)},rt.useId=function(){return N.H.useId()},rt.useImperativeHandle=function(ee,O,j){return N.H.useImperativeHandle(ee,O,j)},rt.useInsertionEffect=function(ee,O){return N.H.useInsertionEffect(ee,O)},rt.useLayoutEffect=function(ee,O){return N.H.useLayoutEffect(ee,O)},rt.useMemo=function(ee,O){return N.H.useMemo(ee,O)},rt.useOptimistic=function(ee,O){return N.H.useOptimistic(ee,O)},rt.useReducer=function(ee,O,j){return N.H.useReducer(ee,O,j)},rt.useRef=function(ee){return N.H.useRef(ee)},rt.useState=function(ee){return N.H.useState(ee)},rt.useSyncExternalStore=function(ee,O,j){return N.H.useSyncExternalStore(ee,O,j)},rt.useTransition=function(){return N.H.useTransition()},rt.version="19.2.1",rt}var qy;function og(){return qy||(qy=1,$p.exports=oI()),$p.exports}var qt=og();const lI=IS(qt);var Qp={exports:{}},ic={},Zp={exports:{}},jp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function uI(){return zy||(zy=1,(function(t){function e(ie,we){var Be=ie.length;ie.push(we);e:for(;0<Be;){var Xe=Be-1>>>1,je=ie[Xe];if(0<i(je,we))ie[Xe]=we,ie[Be]=je,Be=Xe;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var we=ie[0],Be=ie.pop();if(Be!==we){ie[0]=Be;e:for(var Xe=0,je=ie.length,ee=je>>>1;Xe<ee;){var O=2*(Xe+1)-1,j=ie[O],J=O+1,Q=ie[J];if(0>i(j,Be))J<je&&0>i(Q,j)?(ie[Xe]=Q,ie[J]=Be,Xe=J):(ie[Xe]=j,ie[O]=Be,Xe=O);else if(J<je&&0>i(Q,Be))ie[Xe]=Q,ie[J]=Be,Xe=J;else break e}}return we}function i(ie,we){var Be=ie.sortIndex-we.sortIndex;return Be!==0?Be:ie.id-we.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,y=null,E=3,x=!1,R=!1,A=!1,I=!1,q=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function te(ie){for(var we=n(h);we!==null;){if(we.callback===null)r(h);else if(we.startTime<=ie)r(h),we.sortIndex=we.expirationTime,e(d,we);else break;we=n(h)}}function he(ie){if(A=!1,te(ie),!R)if(n(d)!==null)R=!0,me||(me=!0,K());else{var we=n(h);we!==null&&Ee(he,we.startTime-ie)}}var me=!1,N=-1,M=5,D=-1;function k(){return I?!0:!(t.unstable_now()-D<M)}function F(){if(I=!1,me){var ie=t.unstable_now();D=ie;var we=!0;try{e:{R=!1,A&&(A=!1,X(N),N=-1),x=!0;var Be=E;try{t:{for(te(ie),y=n(d);y!==null&&!(y.expirationTime>ie&&k());){var Xe=y.callback;if(typeof Xe=="function"){y.callback=null,E=y.priorityLevel;var je=Xe(y.expirationTime<=ie);if(ie=t.unstable_now(),typeof je=="function"){y.callback=je,te(ie),we=!0;break t}y===n(d)&&r(d),te(ie)}else r(d);y=n(d)}if(y!==null)we=!0;else{var ee=n(h);ee!==null&&Ee(he,ee.startTime-ie),we=!1}}break e}finally{y=null,E=Be,x=!1}we=void 0}}finally{we?K():me=!1}}}var K;if(typeof G=="function")K=function(){G(F)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Ye=L.port2;L.port1.onmessage=F,K=function(){Ye.postMessage(null)}}else K=function(){q(F,0)};function Ee(ie,we){N=q(function(){ie(t.unstable_now())},we)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var we=3;break;default:we=E}var Be=E;E=we;try{return ie()}finally{E=Be}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(ie,we){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Be=E;E=ie;try{return we()}finally{E=Be}},t.unstable_scheduleCallback=function(ie,we,Be){var Xe=t.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?Xe+Be:Xe):Be=Xe,ie){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=Be+je,ie={id:m++,callback:we,priorityLevel:ie,startTime:Be,expirationTime:je,sortIndex:-1},Be>Xe?(ie.sortIndex=Be,e(h,ie),n(d)===null&&ie===n(h)&&(A?(X(N),N=-1):A=!0,Ee(he,Be-Xe))):(ie.sortIndex=je,e(d,ie),R||x||(R=!0,me||(me=!0,K()))),ie},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(ie){var we=E;return function(){var Be=E;E=we;try{return ie.apply(this,arguments)}finally{E=Be}}}})(jp)),jp}var Yy;function cI(){return Yy||(Yy=1,Zp.exports=uI()),Zp.exports}var em={exports:{}},rr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function fI(){if(Ky)return rr;Ky=1;var t=og();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,h,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:d,containerInfo:h,implementation:m}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rr.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},rr.flushSync=function(d){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=m,r.d.f()}},rr.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},rr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},rr.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin),E=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:E,fetchPriority:x}):m==="script"&&r.d.X(d,{crossOrigin:y,integrity:E,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},rr.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},rr.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,y=c(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},rr.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},rr.requestFormReset=function(d){r.d.r(d)},rr.unstable_batchedUpdates=function(d,h){return d(h)},rr.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},rr.useFormStatus=function(){return l.H.useHostTransitionStatus()},rr.version="19.2.1",rr}var Wy;function hI(){if(Wy)return em.exports;Wy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),em.exports=fI(),em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function dI(){if(Xy)return ic;Xy=1;var t=cI(),e=og(),n=hI();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function c(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function h(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,f=a;;){var v=u.return;if(v===null)break;var T=v.alternate;if(T===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===T.child){for(T=v.child;T;){if(T===u)return d(v),s;if(T===f)return d(v),a;T=T.sibling}throw Error(r(188))}if(u.return!==f.return)u=v,f=T;else{for(var C=!1,P=v.child;P;){if(P===u){C=!0,u=v,f=T;break}if(P===f){C=!0,f=v,u=T;break}P=P.sibling}if(!C){for(P=T.child;P;){if(P===u){C=!0,u=T,f=v;break}if(P===f){C=!0,f=T,u=v;break}P=P.sibling}if(!C)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),G=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var L=Symbol.for("react.client.reference");function Ye(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===L?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case q:return"Profiler";case I:return"StrictMode";case he:return"Suspense";case me:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case G:return s.displayName||"Context";case X:return(s._context.displayName||"Context")+".Consumer";case te:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return a=s.displayName||null,a!==null?a:Ye(s.type)||"Memo";case M:a=s._payload,s=s._init;try{return Ye(s(a))}catch{}}return null}var Ee=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be={pending:!1,data:null,method:null,action:null},Xe=[],je=-1;function ee(s){return{current:s}}function O(s){0>je||(s.current=Xe[je],Xe[je]=null,je--)}function j(s,a){je++,Xe[je]=s.current,s.current=a}var J=ee(null),Q=ee(null),pe=ee(null),De=ee(null);function Ue(s,a){switch(j(pe,a),j(Q,s),j(J,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?uy(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=uy(a),s=cy(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}O(J),j(J,s)}function be(){O(J),O(Q),O(pe)}function Oe(s){s.memoizedState!==null&&j(De,s);var a=J.current,u=cy(a,s.type);a!==u&&(j(Q,s),j(J,u))}function _t(s){Q.current===s&&(O(J),O(Q)),De.current===s&&(O(De),ju._currentValue=Be)}var lt,on;function at(s){if(lt===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);lt=a&&a[1]||"",on=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lt+s+on}var cr=!1;function It(s,a){if(!s||cr)return"";cr=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(_e){var de=_e}Reflect.construct(s,[],Se)}else{try{Se.call()}catch(_e){de=_e}s.call(Se.prototype)}}else{try{throw Error()}catch(_e){de=_e}(Se=s())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(_e){if(_e&&de&&typeof _e.stack=="string")return[_e.stack,de.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=f.DetermineComponentFrameRoot(),C=T[0],P=T[1];if(C&&P){var Z=C.split(`
`),ue=P.split(`
`);for(v=f=0;f<Z.length&&!Z[f].includes("DetermineComponentFrameRoot");)f++;for(;v<ue.length&&!ue[v].includes("DetermineComponentFrameRoot");)v++;if(f===Z.length||v===ue.length)for(f=Z.length-1,v=ue.length-1;1<=f&&0<=v&&Z[f]!==ue[v];)v--;for(;1<=f&&0<=v;f--,v--)if(Z[f]!==ue[v]){if(f!==1||v!==1)do if(f--,v--,0>v||Z[f]!==ue[v]){var Te=`
`+Z[f].replace(" at new "," at ");return s.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",s.displayName)),Te}while(1<=f&&0<=v);break}}}finally{cr=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?at(u):""}function qe(s,a){switch(s.tag){case 26:case 27:case 5:return at(s.type);case 16:return at("Lazy");case 13:return s.child!==a&&a!==null?at("Suspense Fallback"):at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return It(s.type,!1);case 11:return It(s.type.render,!1);case 1:return It(s.type,!0);case 31:return at("Activity");default:return""}}function bn(s){try{var a="",u=null;do a+=qe(s,u),u=s,s=s.return;while(s);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Nt=Object.prototype.hasOwnProperty,Yt=t.unstable_scheduleCallback,fr=t.unstable_cancelCallback,Lo=t.unstable_shouldYield,Vs=t.unstable_requestPaint,Xt=t.unstable_now,Wr=t.unstable_getCurrentPriorityLevel,Zi=t.unstable_ImmediatePriority,ji=t.unstable_UserBlockingPriority,er=t.unstable_NormalPriority,lu=t.unstable_LowPriority,Ba=t.unstable_IdlePriority,Ha=t.log,Ga=t.unstable_setDisableYieldValue,yr=null,_n=null;function hr(s){if(typeof Ha=="function"&&Ga(s),_n&&typeof _n.setStrictMode=="function")try{_n.setStrictMode(yr,s)}catch{}}var sn=Math.clz32?Math.clz32:qa,ko=Math.log,es=Math.LN2;function qa(s){return s>>>=0,s===0?32:31-(ko(s)/es|0)|0}var Mr=256,ts=262144,ln=4194304;function dr(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xr(s,a,u){var f=s.pendingLanes;if(f===0)return 0;var v=0,T=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var P=f&134217727;return P!==0?(f=P&~T,f!==0?v=dr(f):(C&=P,C!==0?v=dr(C):u||(u=P&~s,u!==0&&(v=dr(u))))):(P=f&~T,P!==0?v=dr(P):C!==0?v=dr(C):u||(u=f&~s,u!==0&&(v=dr(u)))),v===0?0:a!==0&&a!==v&&(a&T)===0&&(T=v&-v,u=a&-a,T>=u||T===32&&(u&4194048)!==0)?a:v}function br(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function uu(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var s=ln;return ln<<=1,(ln&62914560)===0&&(ln=4194304),s}function Jr(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function ns(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function cu(s,a,u,f,v,T){var C=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var P=s.entanglements,Z=s.expirationTimes,ue=s.hiddenUpdates;for(u=C&~u;0<u;){var Te=31-sn(u),Se=1<<Te;P[Te]=0,Z[Te]=-1;var de=ue[Te];if(de!==null)for(ue[Te]=null,Te=0;Te<de.length;Te++){var _e=de[Te];_e!==null&&(_e.lane&=-536870913)}u&=~Se}f!==0&&rs(s,f,0),T!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=T&~(C&~a))}function rs(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var f=31-sn(a);s.entangledLanes|=a,s.entanglements[f]=s.entanglements[f]|1073741824|u&261930}function is(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-sn(u),v=1<<f;v&a|s[f]&a&&(s[f]|=a),u&=~v}}function za(s,a){var u=a&-a;return u=(u&42)!==0?1:ss(u),(u&(s.suspendedLanes|a))!==0?0:u}function ss(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function di(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function b(){var s=we.p;return s!==0?s:(s=window.event,s===void 0?32:Py(s.type))}function Y(s,a){var u=we.p;try{return we.p=s,a()}finally{we.p=u}}var V=Math.random().toString(36).slice(2),B="__reactFiber$"+V,z="__reactProps$"+V,W="__reactContainer$"+V,oe="__reactEvents$"+V,ye="__reactListeners$"+V,le="__reactHandles$"+V,fe="__reactResources$"+V,ce="__reactMarker$"+V;function Ne(s){delete s[B],delete s[z],delete s[oe],delete s[ye],delete s[le]}function Me(s){var a=s[B];if(a)return a;for(var u=s.parentNode;u;){if(a=u[W]||u[B]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=_y(s);s!==null;){if(u=s[B])return u;s=_y(s)}return a}s=u,u=s.parentNode}return null}function Ve(s){if(s=s[B]||s[W]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Ie(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function ke(s){var a=s[fe];return a||(a=s[fe]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function We(s){s[ce]=!0}var Dt=new Set,Mt={};function Kt(s,a){tr(s,a),tr(s+"Capture",a)}function tr(s,a){for(Mt[s]=a,s=0;s<a.length;s++)Dt.add(a[s])}var pi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mi={},Pr={};function Us(s){return Nt.call(Pr,s)?!0:Nt.call(mi,s)?!1:pi.test(s)?Pr[s]=!0:(mi[s]=!0,!1)}function nr(s,a,u){if(Us(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function Fr(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function vn(s,a,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+f)}}function Pn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Bs(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function fu(s,a,u){var f=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var v=f.get,T=f.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(C){u=""+C,T.call(this,C)}}),Object.defineProperty(s,a,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function bt(s){if(!s._valueTracker){var a=Bs(s)?"checked":"value";s._valueTracker=fu(s,a,""+s[a])}}function Ya(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=Bs(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function bi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ka=/[\n"\\]/g;function Tr(s){return s.replace(Ka,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Vo(s,a,u,f,v,T,C,P){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),a!=null?C==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Pn(a)):s.value!==""+Pn(a)&&(s.value=""+Pn(a)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),a!=null?hu(s,C,Pn(a)):u!=null?hu(s,C,Pn(u)):f!=null&&s.removeAttribute("value"),v==null&&T!=null&&(s.defaultChecked=!!T),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.name=""+Pn(P):s.removeAttribute("name")}function rf(s,a,u,f,v,T,C,P){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.type=T),a!=null||u!=null){if(!(T!=="submit"&&T!=="reset"||a!=null)){bt(s);return}u=u!=null?""+Pn(u):"",a=a!=null?""+Pn(a):u,P||a===s.value||(s.value=a),s.defaultValue=a}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=P?s.checked:!!f,s.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C),bt(s)}function hu(s,a,u){a==="number"&&bi(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Hs(s,a,u,f){if(s=s.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=a.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&f&&(s[u].defaultSelected=!0)}else{for(u=""+Pn(u),a=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,f&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function sf(s,a,u){if(a!=null&&(a=""+Pn(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+Pn(u):""}function Gs(s,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(r(92));if(Ee(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=Pn(a),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f),bt(s)}function Er(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var af=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function du(s,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":f?s.setProperty(a,u):typeof u!="number"||u===0||af.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function pu(s,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var v in a)f=a[v],a.hasOwnProperty(v)&&u[v]!==f&&du(s,v,f)}else for(var T in a)a.hasOwnProperty(T)&&du(s,T,a[T])}function Uo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bo(s){return qs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function gi(){}var mu=null;function $r(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var zs=null,Pi=null;function Wa(s){var a=Ve(s);if(a&&(s=a.stateNode)){var u=s[z]||null;e:switch(s=a.stateNode,a.type){case"input":if(Vo(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Tr(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var v=f[z]||null;if(!v)throw Error(r(90));Vo(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===s.form&&Ya(f)}break e;case"textarea":sf(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Hs(s,!!u.multiple,a,!1)}}}var Ho=!1;function Ys(s,a,u){if(Ho)return s(a,u);Ho=!0;try{var f=s(a);return f}finally{if(Ho=!1,(zs!==null||Pi!==null)&&(eh(),zs&&(a=zs,s=Pi,Pi=zs=null,Wa(a),s)))for(a=0;a<s.length;a++)Wa(s[a])}}function _i(s,a){var u=s.stateNode;if(u===null)return null;var f=u[z]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=!1;if(Qr)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Xa=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch{Xa=!1}var Fi=null,gu=null,Ja=null;function _u(){if(Ja)return Ja;var s,a=gu,u=a.length,f,v="value"in Fi?Fi.value:Fi.textContent,T=v.length;for(s=0;s<u&&a[s]===v[s];s++);var C=u-s;for(f=1;f<=C&&a[u-f]===v[T-f];f++);return Ja=v.slice(s,1<f?1-f:void 0)}function $a(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function as(){return!0}function vi(){return!1}function Bn(s){function a(u,f,v,T,C){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=T,this.target=C,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(u=s[P],this[P]=u?u(T):T[P]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?as:vi,this.isPropagationStopped=vi,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),a}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Bn(os),Ks=y({},os,{view:0,detail:0}),vu=Bn(Ks),Ws,Go,ki,qo=y({},Ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ki&&(ki&&s.type==="mousemove"?(Ws=s.screenX-ki.screenX,Go=s.screenY-ki.screenY):Go=Ws=0,ki=s),Ws)},movementY:function(s){return"movementY"in s?s.movementY:Go}}),yu=Bn(qo),Qa=y({},qo,{dataTransfer:0}),lf=Bn(Qa),uf=y({},Ks,{relatedTarget:0}),Za=Bn(uf),Tu=y({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),cf=Bn(Tu),zo=y({},os,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ff=Bn(zo),hf=y({},os,{data:0}),Oi=Bn(hf),df={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gf(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=mf[s])?!!a[s]:!1}function Xs(){return gf}var pr=y({},Ks,{key:function(s){if(s.key){var a=df[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=$a(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?pf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xs,charCode:function(s){return s.type==="keypress"?$a(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$a(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_f=Bn(pr),vf=y({},qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ls=Bn(vf),_=y({},Ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xs}),S=Bn(_),w=y({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=Bn(w),se=y({},qo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ge=Bn(se),Le=y({},os,{newState:0,oldState:0}),it=Bn(Le),dn=[9,13,27,32],At=Qr&&"CompositionEvent"in window,nn=null;Qr&&"documentMode"in document&&(nn=document.documentMode);var Zr=Qr&&"TextEvent"in window&&!nn,Vi=Qr&&(!At||nn&&8<nn&&11>=nn),yi=" ",Ti=!1;function ja(s,a){switch(s){case"keyup":return dn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ko=!1;function Nw(s,a){switch(s){case"compositionend":return Yo(a);case"keypress":return a.which!==32?null:(Ti=!0,yi);case"textInput":return s=a.data,s===yi&&Ti?null:s;default:return null}}function Dw(s,a){if(Ko)return s==="compositionend"||!At&&ja(s,a)?(s=_u(),Ja=gu=Fi=null,Ko=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Vi&&a.locale!=="ko"?null:a.data;default:return null}}var Mw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T1(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Mw[s.type]:a==="textarea"}function E1(s,a,u,f){zs?Pi?Pi.push(f):Pi=[f]:zs=f,a=oh(a,"onChange"),0<a.length&&(u=new Li("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var Eu=null,xu=null;function bw(s){ry(s,0)}function yf(s){var a=Ie(s);if(Ya(a))return s}function x1(s,a){if(s==="change")return a}var S1=!1;if(Qr){var n0;if(Qr){var r0="oninput"in document;if(!r0){var A1=document.createElement("div");A1.setAttribute("oninput","return;"),r0=typeof A1.oninput=="function"}n0=r0}else n0=!1;S1=n0&&(!document.documentMode||9<document.documentMode)}function C1(){Eu&&(Eu.detachEvent("onpropertychange",w1),xu=Eu=null)}function w1(s){if(s.propertyName==="value"&&yf(xu)){var a=[];E1(a,xu,s,$r(s)),Ys(bw,a)}}function Pw(s,a,u){s==="focusin"?(C1(),Eu=a,xu=u,Eu.attachEvent("onpropertychange",w1)):s==="focusout"&&C1()}function Fw(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return yf(xu)}function Lw(s,a){if(s==="click")return yf(a)}function kw(s,a){if(s==="input"||s==="change")return yf(a)}function Ow(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Lr=typeof Object.is=="function"?Object.is:Ow;function Su(s,a){if(Lr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!Nt.call(a,v)||!Lr(s[v],a[v]))return!1}return!0}function R1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function I1(s,a){var u=R1(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=R1(u)}}function N1(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?N1(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function D1(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=bi(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=bi(s.document)}return a}function i0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var Vw=Qr&&"documentMode"in document&&11>=document.documentMode,Wo=null,s0=null,Au=null,a0=!1;function M1(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;a0||Wo==null||Wo!==bi(f)||(f=Wo,"selectionStart"in f&&i0(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Au&&Su(Au,f)||(Au=f,f=oh(s0,"onSelect"),0<f.length&&(a=new Li("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=Wo)))}function eo(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Xo={animationend:eo("Animation","AnimationEnd"),animationiteration:eo("Animation","AnimationIteration"),animationstart:eo("Animation","AnimationStart"),transitionrun:eo("Transition","TransitionRun"),transitionstart:eo("Transition","TransitionStart"),transitioncancel:eo("Transition","TransitionCancel"),transitionend:eo("Transition","TransitionEnd")},o0={},b1={};Qr&&(b1=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function to(s){if(o0[s])return o0[s];if(!Xo[s])return s;var a=Xo[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in b1)return o0[s]=a[u];return s}var P1=to("animationend"),F1=to("animationiteration"),L1=to("animationstart"),Uw=to("transitionrun"),Bw=to("transitionstart"),Hw=to("transitioncancel"),k1=to("transitionend"),O1=new Map,l0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");l0.push("scrollEnd");function Ei(s,a){O1.set(s,a),Kt(a,[s])}var Tf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},jr=[],Jo=0,u0=0;function Ef(){for(var s=Jo,a=u0=Jo=0;a<s;){var u=jr[a];jr[a++]=null;var f=jr[a];jr[a++]=null;var v=jr[a];jr[a++]=null;var T=jr[a];if(jr[a++]=null,f!==null&&v!==null){var C=f.pending;C===null?v.next=v:(v.next=C.next,C.next=v),f.pending=v}T!==0&&V1(u,v,T)}}function xf(s,a,u,f){jr[Jo++]=s,jr[Jo++]=a,jr[Jo++]=u,jr[Jo++]=f,u0|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function c0(s,a,u,f){return xf(s,a,u,f),Sf(s)}function no(s,a){return xf(s,null,null,a),Sf(s)}function V1(s,a,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var v=!1,T=s.return;T!==null;)T.childLanes|=u,f=T.alternate,f!==null&&(f.childLanes|=u),T.tag===22&&(s=T.stateNode,s===null||s._visibility&1||(v=!0)),s=T,T=T.return;return s.tag===3?(T=s.stateNode,v&&a!==null&&(v=31-sn(u),s=T.hiddenUpdates,f=s[v],f===null?s[v]=[a]:f.push(a),a.lane=u|536870912),T):null}function Sf(s){if(50<Ku)throw Ku=0,yp=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var $o={};function Gw(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(s,a,u,f){return new Gw(s,a,u,f)}function f0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function us(s,a){var u=s.alternate;return u===null?(u=kr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function U1(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Af(s,a,u,f,v,T){var C=0;if(f=s,typeof s=="function")f0(s)&&(C=1);else if(typeof s=="string")C=WR(s,u,J.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case D:return s=kr(31,u,a,v),s.elementType=D,s.lanes=T,s;case A:return ro(u.children,v,T,a);case I:C=8,v|=24;break;case q:return s=kr(12,u,a,v|2),s.elementType=q,s.lanes=T,s;case he:return s=kr(13,u,a,v),s.elementType=he,s.lanes=T,s;case me:return s=kr(19,u,a,v),s.elementType=me,s.lanes=T,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case G:C=10;break e;case X:C=9;break e;case te:C=11;break e;case N:C=14;break e;case M:C=16,f=null;break e}C=29,u=Error(r(130,s===null?"null":typeof s,"")),f=null}return a=kr(C,u,a,v),a.elementType=s,a.type=f,a.lanes=T,a}function ro(s,a,u,f){return s=kr(7,s,f,a),s.lanes=u,s}function h0(s,a,u){return s=kr(6,s,null,a),s.lanes=u,s}function B1(s){var a=kr(18,null,null,0);return a.stateNode=s,a}function d0(s,a,u){return a=kr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var H1=new WeakMap;function ei(s,a){if(typeof s=="object"&&s!==null){var u=H1.get(s);return u!==void 0?u:(a={value:s,source:a,stack:bn(a)},H1.set(s,a),a)}return{value:s,source:a,stack:bn(a)}}var Qo=[],Zo=0,Cf=null,Cu=0,ti=[],ni=0,Js=null,Ui=1,Bi="";function cs(s,a){Qo[Zo++]=Cu,Qo[Zo++]=Cf,Cf=s,Cu=a}function G1(s,a,u){ti[ni++]=Ui,ti[ni++]=Bi,ti[ni++]=Js,Js=s;var f=Ui;s=Bi;var v=32-sn(f)-1;f&=~(1<<v),u+=1;var T=32-sn(a)+v;if(30<T){var C=v-v%5;T=(f&(1<<C)-1).toString(32),f>>=C,v-=C,Ui=1<<32-sn(a)+v|u<<v|f,Bi=T+s}else Ui=1<<T|u<<v|f,Bi=s}function p0(s){s.return!==null&&(cs(s,1),G1(s,1,0))}function m0(s){for(;s===Cf;)Cf=Qo[--Zo],Qo[Zo]=null,Cu=Qo[--Zo],Qo[Zo]=null;for(;s===Js;)Js=ti[--ni],ti[ni]=null,Bi=ti[--ni],ti[ni]=null,Ui=ti[--ni],ti[ni]=null}function q1(s,a){ti[ni++]=Ui,ti[ni++]=Bi,ti[ni++]=Js,Ui=a.id,Bi=a.overflow,Js=s}var Hn=null,$t=null,gt=!1,$s=null,ri=!1,g0=Error(r(519));function Qs(s){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wu(ei(a,s)),g0}function z1(s){var a=s.stateNode,u=s.type,f=s.memoizedProps;switch(a[B]=s,a[z]=f,u){case"dialog":ft("cancel",a),ft("close",a);break;case"iframe":case"object":case"embed":ft("load",a);break;case"video":case"audio":for(u=0;u<Xu.length;u++)ft(Xu[u],a);break;case"source":ft("error",a);break;case"img":case"image":case"link":ft("error",a),ft("load",a);break;case"details":ft("toggle",a);break;case"input":ft("invalid",a),rf(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":ft("invalid",a);break;case"textarea":ft("invalid",a),Gs(a,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||oy(a.textContent,u)?(f.popover!=null&&(ft("beforetoggle",a),ft("toggle",a)),f.onScroll!=null&&ft("scroll",a),f.onScrollEnd!=null&&ft("scrollend",a),f.onClick!=null&&(a.onclick=gi),a=!0):a=!1,a||Qs(s,!0)}function Y1(s){for(Hn=s.return;Hn;)switch(Hn.tag){case 5:case 31:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:Hn=Hn.return}}function jo(s){if(s!==Hn)return!1;if(!gt)return Y1(s),gt=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Fp(s.type,s.memoizedProps)),u=!u),u&&$t&&Qs(s),Y1(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));$t=gy(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));$t=gy(s)}else a===27?(a=$t,fa(s.type)?(s=Up,Up=null,$t=s):$t=a):$t=Hn?si(s.stateNode.nextSibling):null;return!0}function io(){$t=Hn=null,gt=!1}function _0(){var s=$s;return s!==null&&(Cr===null?Cr=s:Cr.push.apply(Cr,s),$s=null),s}function wu(s){$s===null?$s=[s]:$s.push(s)}var v0=ee(null),so=null,fs=null;function Zs(s,a,u){j(v0,a._currentValue),a._currentValue=u}function hs(s){s._currentValue=v0.current,O(v0)}function y0(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function T0(s,a,u,f){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var T=v.dependencies;if(T!==null){var C=v.child;T=T.firstContext;e:for(;T!==null;){var P=T;T=v;for(var Z=0;Z<a.length;Z++)if(P.context===a[Z]){T.lanes|=u,P=T.alternate,P!==null&&(P.lanes|=u),y0(T.return,u,s),f||(C=null);break e}T=P.next}}else if(v.tag===18){if(C=v.return,C===null)throw Error(r(341));C.lanes|=u,T=C.alternate,T!==null&&(T.lanes|=u),y0(C,u,s),C=null}else C=v.child;if(C!==null)C.return=v;else for(C=v;C!==null;){if(C===s){C=null;break}if(v=C.sibling,v!==null){v.return=C.return,C=v;break}C=C.return}v=C}}function el(s,a,u,f){s=null;for(var v=a,T=!1;v!==null;){if(!T){if((v.flags&524288)!==0)T=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var C=v.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var P=v.type;Lr(v.pendingProps.value,C.value)||(s!==null?s.push(P):s=[P])}}else if(v===De.current){if(C=v.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(ju):s=[ju])}v=v.return}s!==null&&T0(a,s,u,f),a.flags|=262144}function wf(s){for(s=s.firstContext;s!==null;){if(!Lr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ao(s){so=s,fs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Gn(s){return K1(so,s)}function Rf(s,a){return so===null&&ao(s),K1(s,a)}function K1(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},fs===null){if(s===null)throw Error(r(308));fs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else fs=fs.next=a;return u}var qw=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},zw=t.unstable_scheduleCallback,Yw=t.unstable_NormalPriority,yn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function E0(){return{controller:new qw,data:new Map,refCount:0}}function Ru(s){s.refCount--,s.refCount===0&&zw(Yw,function(){s.controller.abort()})}var Iu=null,x0=0,tl=0,nl=null;function Kw(s,a){if(Iu===null){var u=Iu=[];x0=0,tl=Cp(),nl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return x0++,a.then(W1,W1),a}function W1(){if(--x0===0&&Iu!==null){nl!==null&&(nl.status="fulfilled");var s=Iu;Iu=null,tl=0,nl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function Ww(s,a){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return s.then(function(){f.status="fulfilled",f.value=a;for(var v=0;v<u.length;v++)(0,u[v])(a)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var X1=ie.S;ie.S=function(s,a){Mv=Xt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&Kw(s,a),X1!==null&&X1(s,a)};var oo=ee(null);function S0(){var s=oo.current;return s!==null?s:Wt.pooledCache}function If(s,a){a===null?j(oo,oo.current):j(oo,a.pool)}function J1(){var s=S0();return s===null?null:{parent:yn._currentValue,pool:s}}var rl=Error(r(460)),A0=Error(r(474)),Nf=Error(r(542)),Df={then:function(){}};function $1(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Q1(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(gi,gi),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,j1(s),s;default:if(typeof a.status=="string")a.then(gi,gi);else{if(s=Wt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(f){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=f}},function(f){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,j1(s),s}throw uo=a,rl}}function lo(s){try{var a=s._init;return a(s._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(uo=u,rl):u}}var uo=null;function Z1(){if(uo===null)throw Error(r(459));var s=uo;return uo=null,s}function j1(s){if(s===rl||s===Nf)throw Error(r(483))}var il=null,Nu=0;function Mf(s){var a=Nu;return Nu+=1,il===null&&(il=[]),Q1(il,s,a)}function Du(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function bf(s,a){throw a.$$typeof===E?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function e_(s){function a(re,ne){if(s){var ae=re.deletions;ae===null?(re.deletions=[ne],re.flags|=16):ae.push(ne)}}function u(re,ne){if(!s)return null;for(;ne!==null;)a(re,ne),ne=ne.sibling;return null}function f(re){for(var ne=new Map;re!==null;)re.key!==null?ne.set(re.key,re):ne.set(re.index,re),re=re.sibling;return ne}function v(re,ne){return re=us(re,ne),re.index=0,re.sibling=null,re}function T(re,ne,ae){return re.index=ae,s?(ae=re.alternate,ae!==null?(ae=ae.index,ae<ne?(re.flags|=67108866,ne):ae):(re.flags|=67108866,ne)):(re.flags|=1048576,ne)}function C(re){return s&&re.alternate===null&&(re.flags|=67108866),re}function P(re,ne,ae,xe){return ne===null||ne.tag!==6?(ne=h0(ae,re.mode,xe),ne.return=re,ne):(ne=v(ne,ae),ne.return=re,ne)}function Z(re,ne,ae,xe){var $e=ae.type;return $e===A?Te(re,ne,ae.props.children,xe,ae.key):ne!==null&&(ne.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===M&&lo($e)===ne.type)?(ne=v(ne,ae.props),Du(ne,ae),ne.return=re,ne):(ne=Af(ae.type,ae.key,ae.props,null,re.mode,xe),Du(ne,ae),ne.return=re,ne)}function ue(re,ne,ae,xe){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ae.containerInfo||ne.stateNode.implementation!==ae.implementation?(ne=d0(ae,re.mode,xe),ne.return=re,ne):(ne=v(ne,ae.children||[]),ne.return=re,ne)}function Te(re,ne,ae,xe,$e){return ne===null||ne.tag!==7?(ne=ro(ae,re.mode,xe,$e),ne.return=re,ne):(ne=v(ne,ae),ne.return=re,ne)}function Se(re,ne,ae){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=h0(""+ne,re.mode,ae),ne.return=re,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return ae=Af(ne.type,ne.key,ne.props,null,re.mode,ae),Du(ae,ne),ae.return=re,ae;case R:return ne=d0(ne,re.mode,ae),ne.return=re,ne;case M:return ne=lo(ne),Se(re,ne,ae)}if(Ee(ne)||K(ne))return ne=ro(ne,re.mode,ae,null),ne.return=re,ne;if(typeof ne.then=="function")return Se(re,Mf(ne),ae);if(ne.$$typeof===G)return Se(re,Rf(re,ne),ae);bf(re,ne)}return null}function de(re,ne,ae,xe){var $e=ne!==null?ne.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return $e!==null?null:P(re,ne,""+ae,xe);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return ae.key===$e?Z(re,ne,ae,xe):null;case R:return ae.key===$e?ue(re,ne,ae,xe):null;case M:return ae=lo(ae),de(re,ne,ae,xe)}if(Ee(ae)||K(ae))return $e!==null?null:Te(re,ne,ae,xe,null);if(typeof ae.then=="function")return de(re,ne,Mf(ae),xe);if(ae.$$typeof===G)return de(re,ne,Rf(re,ae),xe);bf(re,ae)}return null}function _e(re,ne,ae,xe,$e){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return re=re.get(ae)||null,P(ne,re,""+xe,$e);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case x:return re=re.get(xe.key===null?ae:xe.key)||null,Z(ne,re,xe,$e);case R:return re=re.get(xe.key===null?ae:xe.key)||null,ue(ne,re,xe,$e);case M:return xe=lo(xe),_e(re,ne,ae,xe,$e)}if(Ee(xe)||K(xe))return re=re.get(ae)||null,Te(ne,re,xe,$e,null);if(typeof xe.then=="function")return _e(re,ne,ae,Mf(xe),$e);if(xe.$$typeof===G)return _e(re,ne,ae,Rf(ne,xe),$e);bf(ne,xe)}return null}function Ke(re,ne,ae,xe){for(var $e=null,Tt=null,Je=ne,ot=ne=0,dt=null;Je!==null&&ot<ae.length;ot++){Je.index>ot?(dt=Je,Je=null):dt=Je.sibling;var Et=de(re,Je,ae[ot],xe);if(Et===null){Je===null&&(Je=dt);break}s&&Je&&Et.alternate===null&&a(re,Je),ne=T(Et,ne,ot),Tt===null?$e=Et:Tt.sibling=Et,Tt=Et,Je=dt}if(ot===ae.length)return u(re,Je),gt&&cs(re,ot),$e;if(Je===null){for(;ot<ae.length;ot++)Je=Se(re,ae[ot],xe),Je!==null&&(ne=T(Je,ne,ot),Tt===null?$e=Je:Tt.sibling=Je,Tt=Je);return gt&&cs(re,ot),$e}for(Je=f(Je);ot<ae.length;ot++)dt=_e(Je,re,ot,ae[ot],xe),dt!==null&&(s&&dt.alternate!==null&&Je.delete(dt.key===null?ot:dt.key),ne=T(dt,ne,ot),Tt===null?$e=dt:Tt.sibling=dt,Tt=dt);return s&&Je.forEach(function(ga){return a(re,ga)}),gt&&cs(re,ot),$e}function Ze(re,ne,ae,xe){if(ae==null)throw Error(r(151));for(var $e=null,Tt=null,Je=ne,ot=ne=0,dt=null,Et=ae.next();Je!==null&&!Et.done;ot++,Et=ae.next()){Je.index>ot?(dt=Je,Je=null):dt=Je.sibling;var ga=de(re,Je,Et.value,xe);if(ga===null){Je===null&&(Je=dt);break}s&&Je&&ga.alternate===null&&a(re,Je),ne=T(ga,ne,ot),Tt===null?$e=ga:Tt.sibling=ga,Tt=ga,Je=dt}if(Et.done)return u(re,Je),gt&&cs(re,ot),$e;if(Je===null){for(;!Et.done;ot++,Et=ae.next())Et=Se(re,Et.value,xe),Et!==null&&(ne=T(Et,ne,ot),Tt===null?$e=Et:Tt.sibling=Et,Tt=Et);return gt&&cs(re,ot),$e}for(Je=f(Je);!Et.done;ot++,Et=ae.next())Et=_e(Je,re,ot,Et.value,xe),Et!==null&&(s&&Et.alternate!==null&&Je.delete(Et.key===null?ot:Et.key),ne=T(Et,ne,ot),Tt===null?$e=Et:Tt.sibling=Et,Tt=Et);return s&&Je.forEach(function(iI){return a(re,iI)}),gt&&cs(re,ot),$e}function Gt(re,ne,ae,xe){if(typeof ae=="object"&&ae!==null&&ae.type===A&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:e:{for(var $e=ae.key;ne!==null;){if(ne.key===$e){if($e=ae.type,$e===A){if(ne.tag===7){u(re,ne.sibling),xe=v(ne,ae.props.children),xe.return=re,re=xe;break e}}else if(ne.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===M&&lo($e)===ne.type){u(re,ne.sibling),xe=v(ne,ae.props),Du(xe,ae),xe.return=re,re=xe;break e}u(re,ne);break}else a(re,ne);ne=ne.sibling}ae.type===A?(xe=ro(ae.props.children,re.mode,xe,ae.key),xe.return=re,re=xe):(xe=Af(ae.type,ae.key,ae.props,null,re.mode,xe),Du(xe,ae),xe.return=re,re=xe)}return C(re);case R:e:{for($e=ae.key;ne!==null;){if(ne.key===$e)if(ne.tag===4&&ne.stateNode.containerInfo===ae.containerInfo&&ne.stateNode.implementation===ae.implementation){u(re,ne.sibling),xe=v(ne,ae.children||[]),xe.return=re,re=xe;break e}else{u(re,ne);break}else a(re,ne);ne=ne.sibling}xe=d0(ae,re.mode,xe),xe.return=re,re=xe}return C(re);case M:return ae=lo(ae),Gt(re,ne,ae,xe)}if(Ee(ae))return Ke(re,ne,ae,xe);if(K(ae)){if($e=K(ae),typeof $e!="function")throw Error(r(150));return ae=$e.call(ae),Ze(re,ne,ae,xe)}if(typeof ae.then=="function")return Gt(re,ne,Mf(ae),xe);if(ae.$$typeof===G)return Gt(re,ne,Rf(re,ae),xe);bf(re,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,ne!==null&&ne.tag===6?(u(re,ne.sibling),xe=v(ne,ae),xe.return=re,re=xe):(u(re,ne),xe=h0(ae,re.mode,xe),xe.return=re,re=xe),C(re)):u(re,ne)}return function(re,ne,ae,xe){try{Nu=0;var $e=Gt(re,ne,ae,xe);return il=null,$e}catch(Je){if(Je===rl||Je===Nf)throw Je;var Tt=kr(29,Je,null,re.mode);return Tt.lanes=xe,Tt.return=re,Tt}finally{}}}var co=e_(!0),t_=e_(!1),js=!1;function C0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function w0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function ea(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ta(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Ct&2)!==0){var v=f.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),f.pending=a,a=Sf(s),V1(s,null,u),a}return xf(s,f,a,u),Sf(s)}function Mu(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,is(s,u)}}function R0(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,T=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};T===null?v=T=C:T=T.next=C,u=u.next}while(u!==null);T===null?v=T=a:T=T.next=a}else v=T=a;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:T,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var I0=!1;function bu(){if(I0){var s=nl;if(s!==null)throw s}}function Pu(s,a,u,f){I0=!1;var v=s.updateQueue;js=!1;var T=v.firstBaseUpdate,C=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var Z=P,ue=Z.next;Z.next=null,C===null?T=ue:C.next=ue,C=Z;var Te=s.alternate;Te!==null&&(Te=Te.updateQueue,P=Te.lastBaseUpdate,P!==C&&(P===null?Te.firstBaseUpdate=ue:P.next=ue,Te.lastBaseUpdate=Z))}if(T!==null){var Se=v.baseState;C=0,Te=ue=Z=null,P=T;do{var de=P.lane&-536870913,_e=de!==P.lane;if(_e?(ht&de)===de:(f&de)===de){de!==0&&de===tl&&(I0=!0),Te!==null&&(Te=Te.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Ke=s,Ze=P;de=a;var Gt=u;switch(Ze.tag){case 1:if(Ke=Ze.payload,typeof Ke=="function"){Se=Ke.call(Gt,Se,de);break e}Se=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=Ze.payload,de=typeof Ke=="function"?Ke.call(Gt,Se,de):Ke,de==null)break e;Se=y({},Se,de);break e;case 2:js=!0}}de=P.callback,de!==null&&(s.flags|=64,_e&&(s.flags|=8192),_e=v.callbacks,_e===null?v.callbacks=[de]:_e.push(de))}else _e={lane:de,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Te===null?(ue=Te=_e,Z=Se):Te=Te.next=_e,C|=de;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;_e=P,P=_e.next,_e.next=null,v.lastBaseUpdate=_e,v.shared.pending=null}}while(!0);Te===null&&(Z=Se),v.baseState=Z,v.firstBaseUpdate=ue,v.lastBaseUpdate=Te,T===null&&(v.shared.lanes=0),aa|=C,s.lanes=C,s.memoizedState=Se}}function n_(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function r_(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)n_(u[s],a)}var sl=ee(null),Pf=ee(0);function i_(s,a){s=Es,j(Pf,s),j(sl,a),Es=s|a.baseLanes}function N0(){j(Pf,Es),j(sl,sl.current)}function D0(){Es=Pf.current,O(sl),O(Pf)}var Or=ee(null),ii=null;function na(s){var a=s.alternate;j(pn,pn.current&1),j(Or,s),ii===null&&(a===null||sl.current!==null||a.memoizedState!==null)&&(ii=s)}function M0(s){j(pn,pn.current),j(Or,s),ii===null&&(ii=s)}function s_(s){s.tag===22?(j(pn,pn.current),j(Or,s),ii===null&&(ii=s)):ra()}function ra(){j(pn,pn.current),j(Or,Or.current)}function Vr(s){O(Or),ii===s&&(ii=null),O(pn)}var pn=ee(0);function Ff(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Op(u)||Vp(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ds=0,st=null,Bt=null,Tn=null,Lf=!1,al=!1,fo=!1,kf=0,Fu=0,ol=null,Xw=0;function un(){throw Error(r(321))}function b0(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Lr(s[u],a[u]))return!1;return!0}function P0(s,a,u,f,v,T){return ds=T,st=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ie.H=s===null||s.memoizedState===null?G_:X0,fo=!1,T=u(f,v),fo=!1,al&&(T=o_(a,u,f,v)),a_(s),T}function a_(s){ie.H=Ou;var a=Bt!==null&&Bt.next!==null;if(ds=0,Tn=Bt=st=null,Lf=!1,Fu=0,ol=null,a)throw Error(r(300));s===null||En||(s=s.dependencies,s!==null&&wf(s)&&(En=!0))}function o_(s,a,u,f){st=s;var v=0;do{if(al&&(ol=null),Fu=0,al=!1,25<=v)throw Error(r(301));if(v+=1,Tn=Bt=null,s.updateQueue!=null){var T=s.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}ie.H=q_,T=a(u,f)}while(al);return T}function Jw(){var s=ie.H,a=s.useState()[0];return a=typeof a.then=="function"?Lu(a):a,s=s.useState()[0],(Bt!==null?Bt.memoizedState:null)!==s&&(st.flags|=1024),a}function F0(){var s=kf!==0;return kf=0,s}function L0(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function k0(s){if(Lf){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Lf=!1}ds=0,Tn=Bt=st=null,al=!1,Fu=kf=0,ol=null}function mr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?st.memoizedState=Tn=s:Tn=Tn.next=s,Tn}function mn(){if(Bt===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=Bt.next;var a=Tn===null?st.memoizedState:Tn.next;if(a!==null)Tn=a,Bt=s;else{if(s===null)throw st.alternate===null?Error(r(467)):Error(r(310));Bt=s,s={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Tn===null?st.memoizedState=Tn=s:Tn=Tn.next=s}return Tn}function Of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lu(s){var a=Fu;return Fu+=1,ol===null&&(ol=[]),s=Q1(ol,s,a),a=st,(Tn===null?a.memoizedState:Tn.next)===null&&(a=a.alternate,ie.H=a===null||a.memoizedState===null?G_:X0),s}function Vf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Lu(s);if(s.$$typeof===G)return Gn(s)}throw Error(r(438,String(s)))}function O0(s){var a=null,u=st.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=st.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Of(),st.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),f=0;f<s;f++)u[f]=k;return a.index++,u}function ps(s,a){return typeof a=="function"?a(s):a}function Uf(s){var a=mn();return V0(a,Bt,s)}function V0(s,a,u){var f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var v=s.baseQueue,T=f.pending;if(T!==null){if(v!==null){var C=v.next;v.next=T.next,T.next=C}a.baseQueue=v=T,f.pending=null}if(T=s.baseState,v===null)s.memoizedState=T;else{a=v.next;var P=C=null,Z=null,ue=a,Te=!1;do{var Se=ue.lane&-536870913;if(Se!==ue.lane?(ht&Se)===Se:(ds&Se)===Se){var de=ue.revertLane;if(de===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Se===tl&&(Te=!0);else if((ds&de)===de){ue=ue.next,de===tl&&(Te=!0);continue}else Se={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Z===null?(P=Z=Se,C=T):Z=Z.next=Se,st.lanes|=de,aa|=de;Se=ue.action,fo&&u(T,Se),T=ue.hasEagerState?ue.eagerState:u(T,Se)}else de={lane:Se,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Z===null?(P=Z=de,C=T):Z=Z.next=de,st.lanes|=Se,aa|=Se;ue=ue.next}while(ue!==null&&ue!==a);if(Z===null?C=T:Z.next=P,!Lr(T,s.memoizedState)&&(En=!0,Te&&(u=nl,u!==null)))throw u;s.memoizedState=T,s.baseState=C,s.baseQueue=Z,f.lastRenderedState=T}return v===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function U0(s){var a=mn(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var f=u.dispatch,v=u.pending,T=a.memoizedState;if(v!==null){u.pending=null;var C=v=v.next;do T=s(T,C.action),C=C.next;while(C!==v);Lr(T,a.memoizedState)||(En=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),u.lastRenderedState=T}return[T,f]}function l_(s,a,u){var f=st,v=mn(),T=gt;if(T){if(u===void 0)throw Error(r(407));u=u()}else u=a();var C=!Lr((Bt||v).memoizedState,u);if(C&&(v.memoizedState=u,En=!0),v=v.queue,G0(f_.bind(null,f,v,s),[s]),v.getSnapshot!==a||C||Tn!==null&&Tn.memoizedState.tag&1){if(f.flags|=2048,ll(9,{destroy:void 0},c_.bind(null,f,v,u,a),null),Wt===null)throw Error(r(349));T||(ds&127)!==0||u_(f,a,u)}return u}function u_(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=st.updateQueue,a===null?(a=Of(),st.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function c_(s,a,u,f){a.value=u,a.getSnapshot=f,h_(a)&&d_(s)}function f_(s,a,u){return u(function(){h_(a)&&d_(s)})}function h_(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Lr(s,u)}catch{return!0}}function d_(s){var a=no(s,2);a!==null&&wr(a,s,2)}function B0(s){var a=mr();if(typeof s=="function"){var u=s;if(s=u(),fo){hr(!0);try{u()}finally{hr(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:s},a}function p_(s,a,u,f){return s.baseState=u,V0(s,Bt,typeof f=="function"?f:ps)}function $w(s,a,u,f,v){if(Gf(s))throw Error(r(485));if(s=a.action,s!==null){var T={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){T.listeners.push(C)}};ie.T!==null?u(!0):T.isTransition=!1,f(T),u=a.pending,u===null?(T.next=a.pending=T,m_(a,T)):(T.next=u.next,a.pending=u.next=T)}}function m_(s,a){var u=a.action,f=a.payload,v=s.state;if(a.isTransition){var T=ie.T,C={};ie.T=C;try{var P=u(v,f),Z=ie.S;Z!==null&&Z(C,P),g_(s,a,P)}catch(ue){H0(s,a,ue)}finally{T!==null&&C.types!==null&&(T.types=C.types),ie.T=T}}else try{T=u(v,f),g_(s,a,T)}catch(ue){H0(s,a,ue)}}function g_(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){__(s,a,f)},function(f){return H0(s,a,f)}):__(s,a,u)}function __(s,a,u){a.status="fulfilled",a.value=u,v_(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,m_(s,u)))}function H0(s,a,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,v_(a),a=a.next;while(a!==f)}s.action=null}function v_(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function y_(s,a){return a}function T_(s,a){if(gt){var u=Wt.formState;if(u!==null){e:{var f=st;if(gt){if($t){t:{for(var v=$t,T=ri;v.nodeType!==8;){if(!T){v=null;break t}if(v=si(v.nextSibling),v===null){v=null;break t}}T=v.data,v=T==="F!"||T==="F"?v:null}if(v){$t=si(v.nextSibling),f=v.data==="F!";break e}}Qs(f)}f=!1}f&&(a=u[0])}}return u=mr(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y_,lastRenderedState:a},u.queue=f,u=U_.bind(null,st,f),f.dispatch=u,f=B0(!1),T=W0.bind(null,st,!1,f.queue),f=mr(),v={state:a,dispatch:null,action:s,pending:null},f.queue=v,u=$w.bind(null,st,v,T,u),v.dispatch=u,f.memoizedState=s,[a,u,!1]}function E_(s){var a=mn();return x_(a,Bt,s)}function x_(s,a,u){if(a=V0(s,a,y_)[0],s=Uf(ps)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Lu(a)}catch(C){throw C===rl?Nf:C}else f=a;a=mn();var v=a.queue,T=v.dispatch;return u!==a.memoizedState&&(st.flags|=2048,ll(9,{destroy:void 0},Qw.bind(null,v,u),null)),[f,T,s]}function Qw(s,a){s.action=a}function S_(s){var a=mn(),u=Bt;if(u!==null)return x_(a,u,s);mn(),a=a.memoizedState,u=mn();var f=u.queue.dispatch;return u.memoizedState=s,[a,f,!1]}function ll(s,a,u,f){return s={tag:s,create:u,deps:f,inst:a,next:null},a=st.updateQueue,a===null&&(a=Of(),st.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s),s}function A_(){return mn().memoizedState}function Bf(s,a,u,f){var v=mr();st.flags|=s,v.memoizedState=ll(1|a,{destroy:void 0},u,f===void 0?null:f)}function Hf(s,a,u,f){var v=mn();f=f===void 0?null:f;var T=v.memoizedState.inst;Bt!==null&&f!==null&&b0(f,Bt.memoizedState.deps)?v.memoizedState=ll(a,T,u,f):(st.flags|=s,v.memoizedState=ll(1|a,T,u,f))}function C_(s,a){Bf(8390656,8,s,a)}function G0(s,a){Hf(2048,8,s,a)}function Zw(s){st.flags|=4;var a=st.updateQueue;if(a===null)a=Of(),st.updateQueue=a,a.events=[s];else{var u=a.events;u===null?a.events=[s]:u.push(s)}}function w_(s){var a=mn().memoizedState;return Zw({ref:a,nextImpl:s}),function(){if((Ct&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function R_(s,a){return Hf(4,2,s,a)}function I_(s,a){return Hf(4,4,s,a)}function N_(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function D_(s,a,u){u=u!=null?u.concat([s]):null,Hf(4,4,N_.bind(null,a,s),u)}function q0(){}function M_(s,a){var u=mn();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&b0(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function b_(s,a){var u=mn();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&b0(a,f[1]))return f[0];if(f=s(),fo){hr(!0);try{s()}finally{hr(!1)}}return u.memoizedState=[f,a],f}function z0(s,a,u){return u===void 0||(ds&1073741824)!==0&&(ht&261930)===0?s.memoizedState=a:(s.memoizedState=u,s=Pv(),st.lanes|=s,aa|=s,u)}function P_(s,a,u,f){return Lr(u,a)?u:sl.current!==null?(s=z0(s,u,f),Lr(s,a)||(En=!0),s):(ds&42)===0||(ds&1073741824)!==0&&(ht&261930)===0?(En=!0,s.memoizedState=u):(s=Pv(),st.lanes|=s,aa|=s,a)}function F_(s,a,u,f,v){var T=we.p;we.p=T!==0&&8>T?T:8;var C=ie.T,P={};ie.T=P,W0(s,!1,a,u);try{var Z=v(),ue=ie.S;if(ue!==null&&ue(P,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var Te=Ww(Z,f);ku(s,a,Te,Hr(s))}else ku(s,a,f,Hr(s))}catch(Se){ku(s,a,{then:function(){},status:"rejected",reason:Se},Hr())}finally{we.p=T,C!==null&&P.types!==null&&(C.types=P.types),ie.T=C}}function jw(){}function Y0(s,a,u,f){if(s.tag!==5)throw Error(r(476));var v=L_(s).queue;F_(s,v,a,Be,u===null?jw:function(){return k_(s),u(f)})}function L_(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:Be,baseState:Be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:Be},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function k_(s){var a=L_(s);a.next===null&&(a=s.alternate.memoizedState),ku(s,a.next.queue,{},Hr())}function K0(){return Gn(ju)}function O_(){return mn().memoizedState}function V_(){return mn().memoizedState}function eR(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=Hr();s=ea(u);var f=ta(a,s,u);f!==null&&(wr(f,a,u),Mu(f,a,u)),a={cache:E0()},s.payload=a;return}a=a.return}}function tR(s,a,u){var f=Hr();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Gf(s)?B_(a,u):(u=c0(s,a,u,f),u!==null&&(wr(u,s,f),H_(u,a,f)))}function U_(s,a,u){var f=Hr();ku(s,a,u,f)}function ku(s,a,u,f){var v={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Gf(s))B_(a,v);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var C=a.lastRenderedState,P=T(C,u);if(v.hasEagerState=!0,v.eagerState=P,Lr(P,C))return xf(s,a,v,0),Wt===null&&Ef(),!1}catch{}finally{}if(u=c0(s,a,v,f),u!==null)return wr(u,s,f),H_(u,a,f),!0}return!1}function W0(s,a,u,f){if(f={lane:2,revertLane:Cp(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Gf(s)){if(a)throw Error(r(479))}else a=c0(s,u,f,2),a!==null&&wr(a,s,2)}function Gf(s){var a=s.alternate;return s===st||a!==null&&a===st}function B_(s,a){al=Lf=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function H_(s,a,u){if((u&4194048)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,is(s,u)}}var Ou={readContext:Gn,use:Vf,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useLayoutEffect:un,useInsertionEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useSyncExternalStore:un,useId:un,useHostTransitionStatus:un,useFormState:un,useActionState:un,useOptimistic:un,useMemoCache:un,useCacheRefresh:un};Ou.useEffectEvent=un;var G_={readContext:Gn,use:Vf,useCallback:function(s,a){return mr().memoizedState=[s,a===void 0?null:a],s},useContext:Gn,useEffect:C_,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,Bf(4194308,4,N_.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Bf(4194308,4,s,a)},useInsertionEffect:function(s,a){Bf(4,2,s,a)},useMemo:function(s,a){var u=mr();a=a===void 0?null:a;var f=s();if(fo){hr(!0);try{s()}finally{hr(!1)}}return u.memoizedState=[f,a],f},useReducer:function(s,a,u){var f=mr();if(u!==void 0){var v=u(a);if(fo){hr(!0);try{u(a)}finally{hr(!1)}}}else v=a;return f.memoizedState=f.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},f.queue=s,s=s.dispatch=tR.bind(null,st,s),[f.memoizedState,s]},useRef:function(s){var a=mr();return s={current:s},a.memoizedState=s},useState:function(s){s=B0(s);var a=s.queue,u=U_.bind(null,st,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:q0,useDeferredValue:function(s,a){var u=mr();return z0(u,s,a)},useTransition:function(){var s=B0(!1);return s=F_.bind(null,st,s.queue,!0,!1),mr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var f=st,v=mr();if(gt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),Wt===null)throw Error(r(349));(ht&127)!==0||u_(f,a,u)}v.memoizedState=u;var T={value:u,getSnapshot:a};return v.queue=T,C_(f_.bind(null,f,T,s),[s]),f.flags|=2048,ll(9,{destroy:void 0},c_.bind(null,f,T,u,a),null),u},useId:function(){var s=mr(),a=Wt.identifierPrefix;if(gt){var u=Bi,f=Ui;u=(f&~(1<<32-sn(f)-1)).toString(32)+u,a="_"+a+"R_"+u,u=kf++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=Xw++,a="_"+a+"r_"+u.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:K0,useFormState:T_,useActionState:T_,useOptimistic:function(s){var a=mr();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=W0.bind(null,st,!0,u),u.dispatch=a,[s,a]},useMemoCache:O0,useCacheRefresh:function(){return mr().memoizedState=eR.bind(null,st)},useEffectEvent:function(s){var a=mr(),u={impl:s};return a.memoizedState=u,function(){if((Ct&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},X0={readContext:Gn,use:Vf,useCallback:M_,useContext:Gn,useEffect:G0,useImperativeHandle:D_,useInsertionEffect:R_,useLayoutEffect:I_,useMemo:b_,useReducer:Uf,useRef:A_,useState:function(){return Uf(ps)},useDebugValue:q0,useDeferredValue:function(s,a){var u=mn();return P_(u,Bt.memoizedState,s,a)},useTransition:function(){var s=Uf(ps)[0],a=mn().memoizedState;return[typeof s=="boolean"?s:Lu(s),a]},useSyncExternalStore:l_,useId:O_,useHostTransitionStatus:K0,useFormState:E_,useActionState:E_,useOptimistic:function(s,a){var u=mn();return p_(u,Bt,s,a)},useMemoCache:O0,useCacheRefresh:V_};X0.useEffectEvent=w_;var q_={readContext:Gn,use:Vf,useCallback:M_,useContext:Gn,useEffect:G0,useImperativeHandle:D_,useInsertionEffect:R_,useLayoutEffect:I_,useMemo:b_,useReducer:U0,useRef:A_,useState:function(){return U0(ps)},useDebugValue:q0,useDeferredValue:function(s,a){var u=mn();return Bt===null?z0(u,s,a):P_(u,Bt.memoizedState,s,a)},useTransition:function(){var s=U0(ps)[0],a=mn().memoizedState;return[typeof s=="boolean"?s:Lu(s),a]},useSyncExternalStore:l_,useId:O_,useHostTransitionStatus:K0,useFormState:S_,useActionState:S_,useOptimistic:function(s,a){var u=mn();return Bt!==null?p_(u,Bt,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:O0,useCacheRefresh:V_};q_.useEffectEvent=w_;function J0(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:y({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var $0={enqueueSetState:function(s,a,u){s=s._reactInternals;var f=Hr(),v=ea(f);v.payload=a,u!=null&&(v.callback=u),a=ta(s,v,f),a!==null&&(wr(a,s,f),Mu(a,s,f))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=Hr(),v=ea(f);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=ta(s,v,f),a!==null&&(wr(a,s,f),Mu(a,s,f))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Hr(),f=ea(u);f.tag=2,a!=null&&(f.callback=a),a=ta(s,f,u),a!==null&&(wr(a,s,u),Mu(a,s,u))}};function z_(s,a,u,f,v,T,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,T,C):a.prototype&&a.prototype.isPureReactComponent?!Su(u,f)||!Su(v,T):!0}function Y_(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&$0.enqueueReplaceState(a,a.state,null)}function ho(s,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(s=s.defaultProps){u===a&&(u=y({},u));for(var v in s)u[v]===void 0&&(u[v]=s[v])}return u}function K_(s){Tf(s)}function W_(s){console.error(s)}function X_(s){Tf(s)}function qf(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function J_(s,a,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Q0(s,a,u){return u=ea(u),u.tag=3,u.payload={element:null},u.callback=function(){qf(s,a)},u}function $_(s){return s=ea(s),s.tag=3,s}function Q_(s,a,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var T=f.value;s.payload=function(){return v(T)},s.callback=function(){J_(a,u,f)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){J_(a,u,f),typeof v!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var P=f.stack;this.componentDidCatch(f.value,{componentStack:P!==null?P:""})})}function nR(s,a,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&el(a,u,v,!0),u=Or.current,u!==null){switch(u.tag){case 31:case 13:return ii===null?th():u.alternate===null&&cn===0&&(cn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===Df?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),xp(s,f,v)),!1;case 22:return u.flags|=65536,f===Df?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),xp(s,f,v)),!1}throw Error(r(435,u.tag))}return xp(s,f,v),th(),!1}if(gt)return a=Or.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,f!==g0&&(s=Error(r(422),{cause:f}),wu(ei(s,u)))):(f!==g0&&(a=Error(r(423),{cause:f}),wu(ei(a,u))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,f=ei(f,u),v=Q0(s.stateNode,f,v),R0(s,v),cn!==4&&(cn=2)),!1;var T=Error(r(520),{cause:f});if(T=ei(T,u),Yu===null?Yu=[T]:Yu.push(T),cn!==4&&(cn=2),a===null)return!0;f=ei(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=v&-v,u.lanes|=s,s=Q0(u.stateNode,f,s),R0(u,s),!1;case 1:if(a=u.type,T=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(oa===null||!oa.has(T))))return u.flags|=65536,v&=-v,u.lanes|=v,v=$_(v),Q_(v,s,u,f),R0(u,v),!1}u=u.return}while(u!==null);return!1}var Z0=Error(r(461)),En=!1;function qn(s,a,u,f){a.child=s===null?t_(a,null,u,f):co(a,s.child,u,f)}function Z_(s,a,u,f,v){u=u.render;var T=a.ref;if("ref"in f){var C={};for(var P in f)P!=="ref"&&(C[P]=f[P])}else C=f;return ao(a),f=P0(s,a,u,C,T,v),P=F0(),s!==null&&!En?(L0(s,a,v),ms(s,a,v)):(gt&&P&&p0(a),a.flags|=1,qn(s,a,f,v),a.child)}function j_(s,a,u,f,v){if(s===null){var T=u.type;return typeof T=="function"&&!f0(T)&&T.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=T,ev(s,a,T,f,v)):(s=Af(u.type,null,f,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(T=s.child,!ap(s,v)){var C=T.memoizedProps;if(u=u.compare,u=u!==null?u:Su,u(C,f)&&s.ref===a.ref)return ms(s,a,v)}return a.flags|=1,s=us(T,f),s.ref=a.ref,s.return=a,a.child=s}function ev(s,a,u,f,v){if(s!==null){var T=s.memoizedProps;if(Su(T,f)&&s.ref===a.ref)if(En=!1,a.pendingProps=f=T,ap(s,v))(s.flags&131072)!==0&&(En=!0);else return a.lanes=s.lanes,ms(s,a,v)}return j0(s,a,u,f,v)}function tv(s,a,u,f){var v=f.children,T=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(T=T!==null?T.baseLanes|u:u,s!==null){for(f=a.child=s.child,v=0;f!==null;)v=v|f.lanes|f.childLanes,f=f.sibling;f=v&~T}else f=0,a.child=null;return nv(s,a,T,u,f)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&If(a,T!==null?T.cachePool:null),T!==null?i_(a,T):N0(),s_(a);else return f=a.lanes=536870912,nv(s,a,T!==null?T.baseLanes|u:u,u,f)}else T!==null?(If(a,T.cachePool),i_(a,T),ra(),a.memoizedState=null):(s!==null&&If(a,null),N0(),ra());return qn(s,a,v,u),a.child}function Vu(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function nv(s,a,u,f,v){var T=S0();return T=T===null?null:{parent:yn._currentValue,pool:T},a.memoizedState={baseLanes:u,cachePool:T},s!==null&&If(a,null),N0(),s_(a),s!==null&&el(s,a,f,!0),a.childLanes=v,null}function zf(s,a){return a=Kf({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function rv(s,a,u){return co(a,s.child,null,u),s=zf(a,a.pendingProps),s.flags|=2,Vr(a),a.memoizedState=null,s}function rR(s,a,u){var f=a.pendingProps,v=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(gt){if(f.mode==="hidden")return s=zf(a,f),a.lanes=536870912,Vu(null,s);if(M0(a),(s=$t)?(s=my(s,ri),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Js!==null?{id:Ui,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},u=B1(s),u.return=a,a.child=u,Hn=a,$t=null)):s=null,s===null)throw Qs(a);return a.lanes=536870912,null}return zf(a,f)}var T=s.memoizedState;if(T!==null){var C=T.dehydrated;if(M0(a),v)if(a.flags&256)a.flags&=-257,a=rv(s,a,u);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(r(558));else if(En||el(s,a,u,!1),v=(u&s.childLanes)!==0,En||v){if(f=Wt,f!==null&&(C=za(f,u),C!==0&&C!==T.retryLane))throw T.retryLane=C,no(s,C),wr(f,s,C),Z0;th(),a=rv(s,a,u)}else s=T.treeContext,$t=si(C.nextSibling),Hn=a,gt=!0,$s=null,ri=!1,s!==null&&q1(a,s),a=zf(a,f),a.flags|=4096;return a}return s=us(s.child,{mode:f.mode,children:f.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Yf(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function j0(s,a,u,f,v){return ao(a),u=P0(s,a,u,f,void 0,v),f=F0(),s!==null&&!En?(L0(s,a,v),ms(s,a,v)):(gt&&f&&p0(a),a.flags|=1,qn(s,a,u,v),a.child)}function iv(s,a,u,f,v,T){return ao(a),a.updateQueue=null,u=o_(a,f,u,v),a_(s),f=F0(),s!==null&&!En?(L0(s,a,T),ms(s,a,T)):(gt&&f&&p0(a),a.flags|=1,qn(s,a,u,T),a.child)}function sv(s,a,u,f,v){if(ao(a),a.stateNode===null){var T=$o,C=u.contextType;typeof C=="object"&&C!==null&&(T=Gn(C)),T=new u(f,T),a.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=$0,a.stateNode=T,T._reactInternals=a,T=a.stateNode,T.props=f,T.state=a.memoizedState,T.refs={},C0(a),C=u.contextType,T.context=typeof C=="object"&&C!==null?Gn(C):$o,T.state=a.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(J0(a,u,C,f),T.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(C=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),C!==T.state&&$0.enqueueReplaceState(T,T.state,null),Pu(a,f,T,v),bu(),T.state=a.memoizedState),typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(s===null){T=a.stateNode;var P=a.memoizedProps,Z=ho(u,P);T.props=Z;var ue=T.context,Te=u.contextType;C=$o,typeof Te=="object"&&Te!==null&&(C=Gn(Te));var Se=u.getDerivedStateFromProps;Te=typeof Se=="function"||typeof T.getSnapshotBeforeUpdate=="function",P=a.pendingProps!==P,Te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P||ue!==C)&&Y_(a,T,f,C),js=!1;var de=a.memoizedState;T.state=de,Pu(a,f,T,v),bu(),ue=a.memoizedState,P||de!==ue||js?(typeof Se=="function"&&(J0(a,u,Se,f),ue=a.memoizedState),(Z=js||z_(a,u,Z,f,de,ue,C))?(Te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=ue),T.props=f,T.state=ue,T.context=C,f=Z):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{T=a.stateNode,w0(s,a),C=a.memoizedProps,Te=ho(u,C),T.props=Te,Se=a.pendingProps,de=T.context,ue=u.contextType,Z=$o,typeof ue=="object"&&ue!==null&&(Z=Gn(ue)),P=u.getDerivedStateFromProps,(ue=typeof P=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==Se||de!==Z)&&Y_(a,T,f,Z),js=!1,de=a.memoizedState,T.state=de,Pu(a,f,T,v),bu();var _e=a.memoizedState;C!==Se||de!==_e||js||s!==null&&s.dependencies!==null&&wf(s.dependencies)?(typeof P=="function"&&(J0(a,u,P,f),_e=a.memoizedState),(Te=js||z_(a,u,Te,f,de,_e,Z)||s!==null&&s.dependencies!==null&&wf(s.dependencies))?(ue||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,_e,Z),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,_e,Z)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||C===s.memoizedProps&&de===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&de===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=_e),T.props=f,T.state=_e,T.context=Z,f=Te):(typeof T.componentDidUpdate!="function"||C===s.memoizedProps&&de===s.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&de===s.memoizedState||(a.flags|=1024),f=!1)}return T=f,Yf(s,a),f=(a.flags&128)!==0,T||f?(T=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:T.render(),a.flags|=1,s!==null&&f?(a.child=co(a,s.child,null,v),a.child=co(a,null,u,v)):qn(s,a,u,v),a.memoizedState=T.state,s=a.child):s=ms(s,a,v),s}function av(s,a,u,f){return io(),a.flags|=256,qn(s,a,u,f),a.child}var ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tp(s){return{baseLanes:s,cachePool:J1()}}function np(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=Br),s}function ov(s,a,u){var f=a.pendingProps,v=!1,T=(a.flags&128)!==0,C;if((C=T)||(C=s!==null&&s.memoizedState===null?!1:(pn.current&2)!==0),C&&(v=!0,a.flags&=-129),C=(a.flags&32)!==0,a.flags&=-33,s===null){if(gt){if(v?na(a):ra(),(s=$t)?(s=my(s,ri),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Js!==null?{id:Ui,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},u=B1(s),u.return=a,a.child=u,Hn=a,$t=null)):s=null,s===null)throw Qs(a);return Vp(s)?a.lanes=32:a.lanes=536870912,null}var P=f.children;return f=f.fallback,v?(ra(),v=a.mode,P=Kf({mode:"hidden",children:P},v),f=ro(f,v,u,null),P.return=a,f.return=a,P.sibling=f,a.child=P,f=a.child,f.memoizedState=tp(u),f.childLanes=np(s,C,u),a.memoizedState=ep,Vu(null,f)):(na(a),rp(a,P))}var Z=s.memoizedState;if(Z!==null&&(P=Z.dehydrated,P!==null)){if(T)a.flags&256?(na(a),a.flags&=-257,a=ip(s,a,u)):a.memoizedState!==null?(ra(),a.child=s.child,a.flags|=128,a=null):(ra(),P=f.fallback,v=a.mode,f=Kf({mode:"visible",children:f.children},v),P=ro(P,v,u,null),P.flags|=2,f.return=a,P.return=a,f.sibling=P,a.child=f,co(a,s.child,null,u),f=a.child,f.memoizedState=tp(u),f.childLanes=np(s,C,u),a.memoizedState=ep,a=Vu(null,f));else if(na(a),Vp(P)){if(C=P.nextSibling&&P.nextSibling.dataset,C)var ue=C.dgst;C=ue,f=Error(r(419)),f.stack="",f.digest=C,wu({value:f,source:null,stack:null}),a=ip(s,a,u)}else if(En||el(s,a,u,!1),C=(u&s.childLanes)!==0,En||C){if(C=Wt,C!==null&&(f=za(C,u),f!==0&&f!==Z.retryLane))throw Z.retryLane=f,no(s,f),wr(C,s,f),Z0;Op(P)||th(),a=ip(s,a,u)}else Op(P)?(a.flags|=192,a.child=s.child,a=null):(s=Z.treeContext,$t=si(P.nextSibling),Hn=a,gt=!0,$s=null,ri=!1,s!==null&&q1(a,s),a=rp(a,f.children),a.flags|=4096);return a}return v?(ra(),P=f.fallback,v=a.mode,Z=s.child,ue=Z.sibling,f=us(Z,{mode:"hidden",children:f.children}),f.subtreeFlags=Z.subtreeFlags&65011712,ue!==null?P=us(ue,P):(P=ro(P,v,u,null),P.flags|=2),P.return=a,f.return=a,f.sibling=P,a.child=f,Vu(null,f),f=a.child,P=s.child.memoizedState,P===null?P=tp(u):(v=P.cachePool,v!==null?(Z=yn._currentValue,v=v.parent!==Z?{parent:Z,pool:Z}:v):v=J1(),P={baseLanes:P.baseLanes|u,cachePool:v}),f.memoizedState=P,f.childLanes=np(s,C,u),a.memoizedState=ep,Vu(s.child,f)):(na(a),u=s.child,s=u.sibling,u=us(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,s!==null&&(C=a.deletions,C===null?(a.deletions=[s],a.flags|=16):C.push(s)),a.child=u,a.memoizedState=null,u)}function rp(s,a){return a=Kf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Kf(s,a){return s=kr(22,s,null,a),s.lanes=0,s}function ip(s,a,u){return co(a,s.child,null,u),s=rp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function lv(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),y0(s.return,a,u)}function sp(s,a,u,f,v,T){var C=s.memoizedState;C===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v,treeForkCount:T}:(C.isBackwards=a,C.rendering=null,C.renderingStartTime=0,C.last=f,C.tail=u,C.tailMode=v,C.treeForkCount=T)}function uv(s,a,u){var f=a.pendingProps,v=f.revealOrder,T=f.tail;f=f.children;var C=pn.current,P=(C&2)!==0;if(P?(C=C&1|2,a.flags|=128):C&=1,j(pn,C),qn(s,a,f,u),f=gt?Cu:0,!P&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&lv(s,u,a);else if(s.tag===19)lv(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(v){case"forwards":for(u=a.child,v=null;u!==null;)s=u.alternate,s!==null&&Ff(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),sp(a,!1,v,u,T,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&Ff(s)===null){a.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}sp(a,!0,u,null,T,f);break;case"together":sp(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function ms(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),aa|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(el(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=us(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=us(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function ap(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&wf(s)))}function iR(s,a,u){switch(a.tag){case 3:Ue(a,a.stateNode.containerInfo),Zs(a,yn,s.memoizedState.cache),io();break;case 27:case 5:Oe(a);break;case 4:Ue(a,a.stateNode.containerInfo);break;case 10:Zs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,M0(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(na(a),a.flags|=128,null):(u&a.child.childLanes)!==0?ov(s,a,u):(na(a),s=ms(s,a,u),s!==null?s.sibling:null);na(a);break;case 19:var v=(s.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(el(s,a,u,!1),f=(u&a.childLanes)!==0),v){if(f)return uv(s,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),j(pn,pn.current),f)break;return null;case 22:return a.lanes=0,tv(s,a,u,a.pendingProps);case 24:Zs(a,yn,s.memoizedState.cache)}return ms(s,a,u)}function cv(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)En=!0;else{if(!ap(s,u)&&(a.flags&128)===0)return En=!1,iR(s,a,u);En=(s.flags&131072)!==0}else En=!1,gt&&(a.flags&1048576)!==0&&G1(a,Cu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(s=lo(a.elementType),a.type=s,typeof s=="function")f0(s)?(f=ho(s,f),a.tag=1,a=sv(null,a,s,f,u)):(a.tag=0,a=j0(null,a,s,f,u));else{if(s!=null){var v=s.$$typeof;if(v===te){a.tag=11,a=Z_(null,a,s,f,u);break e}else if(v===N){a.tag=14,a=j_(null,a,s,f,u);break e}}throw a=Ye(s)||s,Error(r(306,a,""))}}return a;case 0:return j0(s,a,a.type,a.pendingProps,u);case 1:return f=a.type,v=ho(f,a.pendingProps),sv(s,a,f,v,u);case 3:e:{if(Ue(a,a.stateNode.containerInfo),s===null)throw Error(r(387));f=a.pendingProps;var T=a.memoizedState;v=T.element,w0(s,a),Pu(a,f,null,u);var C=a.memoizedState;if(f=C.cache,Zs(a,yn,f),f!==T.cache&&T0(a,[yn],u,!0),bu(),f=C.element,T.isDehydrated)if(T={element:f,isDehydrated:!1,cache:C.cache},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){a=av(s,a,f,u);break e}else if(f!==v){v=ei(Error(r(424)),a),wu(v),a=av(s,a,f,u);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for($t=si(s.firstChild),Hn=a,gt=!0,$s=null,ri=!0,u=t_(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(io(),f===v){a=ms(s,a,u);break e}qn(s,a,f,u)}a=a.child}return a;case 26:return Yf(s,a),s===null?(u=Ey(a.type,null,a.pendingProps,null))?a.memoizedState=u:gt||(u=a.type,s=a.pendingProps,f=lh(pe.current).createElement(u),f[B]=a,f[z]=s,zn(f,u,s),We(f),a.stateNode=f):a.memoizedState=Ey(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Oe(a),s===null&&gt&&(f=a.stateNode=vy(a.type,a.pendingProps,pe.current),Hn=a,ri=!0,v=$t,fa(a.type)?(Up=v,$t=si(f.firstChild)):$t=v),qn(s,a,a.pendingProps.children,u),Yf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&gt&&((v=f=$t)&&(f=FR(f,a.type,a.pendingProps,ri),f!==null?(a.stateNode=f,Hn=a,$t=si(f.firstChild),ri=!1,v=!0):v=!1),v||Qs(a)),Oe(a),v=a.type,T=a.pendingProps,C=s!==null?s.memoizedProps:null,f=T.children,Fp(v,T)?f=null:C!==null&&Fp(v,C)&&(a.flags|=32),a.memoizedState!==null&&(v=P0(s,a,Jw,null,null,u),ju._currentValue=v),Yf(s,a),qn(s,a,f,u),a.child;case 6:return s===null&&gt&&((s=u=$t)&&(u=LR(u,a.pendingProps,ri),u!==null?(a.stateNode=u,Hn=a,$t=null,s=!0):s=!1),s||Qs(a)),null;case 13:return ov(s,a,u);case 4:return Ue(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=co(a,null,f,u):qn(s,a,f,u),a.child;case 11:return Z_(s,a,a.type,a.pendingProps,u);case 7:return qn(s,a,a.pendingProps,u),a.child;case 8:return qn(s,a,a.pendingProps.children,u),a.child;case 12:return qn(s,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,Zs(a,a.type,f.value),qn(s,a,f.children,u),a.child;case 9:return v=a.type._context,f=a.pendingProps.children,ao(a),v=Gn(v),f=f(v),a.flags|=1,qn(s,a,f,u),a.child;case 14:return j_(s,a,a.type,a.pendingProps,u);case 15:return ev(s,a,a.type,a.pendingProps,u);case 19:return uv(s,a,u);case 31:return rR(s,a,u);case 22:return tv(s,a,u,a.pendingProps);case 24:return ao(a),f=Gn(yn),s===null?(v=S0(),v===null&&(v=Wt,T=E0(),v.pooledCache=T,T.refCount++,T!==null&&(v.pooledCacheLanes|=u),v=T),a.memoizedState={parent:f,cache:v},C0(a),Zs(a,yn,v)):((s.lanes&u)!==0&&(w0(s,a),Pu(a,null,null,u),bu()),v=s.memoizedState,T=a.memoizedState,v.parent!==f?(v={parent:f,cache:f},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),Zs(a,yn,f)):(f=T.cache,Zs(a,yn,f),f!==v.cache&&T0(a,[yn],u,!0))),qn(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function gs(s){s.flags|=4}function op(s,a,u,f,v){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(v&335544128)===v)if(s.stateNode.complete)s.flags|=8192;else if(Ov())s.flags|=8192;else throw uo=Df,A0}else s.flags&=-16777217}function fv(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!wy(a))if(Ov())s.flags|=8192;else throw uo=Df,A0}function Wf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Oo():536870912,s.lanes|=a,hl|=a)}function Uu(s,a){if(!gt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function Qt(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function sR(s,a,u){var f=a.pendingProps;switch(m0(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(a),null;case 1:return Qt(a),null;case 3:return u=a.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),hs(yn),be(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(jo(a)?gs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_0())),Qt(a),null;case 26:var v=a.type,T=a.memoizedState;return s===null?(gs(a),T!==null?(Qt(a),fv(a,T)):(Qt(a),op(a,v,null,f,u))):T?T!==s.memoizedState?(gs(a),Qt(a),fv(a,T)):(Qt(a),a.flags&=-16777217):(s=s.memoizedProps,s!==f&&gs(a),Qt(a),op(a,v,s,f,u)),null;case 27:if(_t(a),u=pe.current,v=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&gs(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Qt(a),null}s=J.current,jo(a)?z1(a):(s=vy(v,f,u),a.stateNode=s,gs(a))}return Qt(a),null;case 5:if(_t(a),v=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&gs(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return Qt(a),null}if(T=J.current,jo(a))z1(a);else{var C=lh(pe.current);switch(T){case 1:T=C.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:T=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":T=C.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":T=C.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":T=C.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof f.is=="string"?C.createElement("select",{is:f.is}):C.createElement("select"),f.multiple?T.multiple=!0:f.size&&(T.size=f.size);break;default:T=typeof f.is=="string"?C.createElement(v,{is:f.is}):C.createElement(v)}}T[B]=a,T[z]=f;e:for(C=a.child;C!==null;){if(C.tag===5||C.tag===6)T.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===a)break e;for(;C.sibling===null;){if(C.return===null||C.return===a)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}a.stateNode=T;e:switch(zn(T,v,f),v){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&gs(a)}}return Qt(a),op(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,u),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==f&&gs(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(s=pe.current,jo(a)){if(s=a.stateNode,u=a.memoizedProps,f=null,v=Hn,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}s[B]=a,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||oy(s.nodeValue,u)),s||Qs(a,!0)}else s=lh(s).createTextNode(f),s[B]=a,a.stateNode=s}return Qt(a),null;case 31:if(u=a.memoizedState,s===null||s.memoizedState!==null){if(f=jo(a),u!==null){if(s===null){if(!f)throw Error(r(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[B]=a}else io(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qt(a),s=!1}else u=_0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=u),s=!0;if(!s)return a.flags&256?(Vr(a),a):(Vr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Qt(a),null;case 13:if(f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=jo(a),f!==null&&f.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[B]=a}else io(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Qt(a),v=!1}else v=_0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Vr(a),a):(Vr(a),null)}return Vr(a),(a.flags&128)!==0?(a.lanes=u,a):(u=f!==null,s=s!==null&&s.memoizedState!==null,u&&(f=a.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool),T=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(T=f.memoizedState.cachePool.pool),T!==v&&(f.flags|=2048)),u!==s&&u&&(a.child.flags|=8192),Wf(a,a.updateQueue),Qt(a),null);case 4:return be(),s===null&&Np(a.stateNode.containerInfo),Qt(a),null;case 10:return hs(a.type),Qt(a),null;case 19:if(O(pn),f=a.memoizedState,f===null)return Qt(a),null;if(v=(a.flags&128)!==0,T=f.rendering,T===null)if(v)Uu(f,!1);else{if(cn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(T=Ff(s),T!==null){for(a.flags|=128,Uu(f,!1),s=T.updateQueue,a.updateQueue=s,Wf(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)U1(u,s),u=u.sibling;return j(pn,pn.current&1|2),gt&&cs(a,f.treeForkCount),a.child}s=s.sibling}f.tail!==null&&Xt()>Zf&&(a.flags|=128,v=!0,Uu(f,!1),a.lanes=4194304)}else{if(!v)if(s=Ff(T),s!==null){if(a.flags|=128,v=!0,s=s.updateQueue,a.updateQueue=s,Wf(a,s),Uu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!T.alternate&&!gt)return Qt(a),null}else 2*Xt()-f.renderingStartTime>Zf&&u!==536870912&&(a.flags|=128,v=!0,Uu(f,!1),a.lanes=4194304);f.isBackwards?(T.sibling=a.child,a.child=T):(s=f.last,s!==null?s.sibling=T:a.child=T,f.last=T)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Xt(),s.sibling=null,u=pn.current,j(pn,v?u&1|2:u&1),gt&&cs(a,f.treeForkCount),s):(Qt(a),null);case 22:case 23:return Vr(a),D0(),f=a.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(Qt(a),a.subtreeFlags&6&&(a.flags|=8192)):Qt(a),u=a.updateQueue,u!==null&&Wf(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),s!==null&&O(oo),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),hs(yn),Qt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function aR(s,a){switch(m0(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return hs(yn),be(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return _t(a),null;case 31:if(a.memoizedState!==null){if(Vr(a),a.alternate===null)throw Error(r(340));io()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Vr(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));io()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return O(pn),null;case 4:return be(),null;case 10:return hs(a.type),null;case 22:case 23:return Vr(a),D0(),s!==null&&O(oo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return hs(yn),null;case 25:return null;default:return null}}function hv(s,a){switch(m0(a),a.tag){case 3:hs(yn),be();break;case 26:case 27:case 5:_t(a);break;case 4:be();break;case 31:a.memoizedState!==null&&Vr(a);break;case 13:Vr(a);break;case 19:O(pn);break;case 10:hs(a.type);break;case 22:case 23:Vr(a),D0(),s!==null&&O(oo);break;case 24:hs(yn)}}function Bu(s,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&s)===s){f=void 0;var T=u.create,C=u.inst;f=T(),C.destroy=f}u=u.next}while(u!==v)}}catch(P){Ft(a,a.return,P)}}function ia(s,a,u){try{var f=a.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var T=v.next;f=T;do{if((f.tag&s)===s){var C=f.inst,P=C.destroy;if(P!==void 0){C.destroy=void 0,v=a;var Z=u,ue=P;try{ue()}catch(Te){Ft(v,Z,Te)}}}f=f.next}while(f!==T)}}catch(Te){Ft(a,a.return,Te)}}function dv(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{r_(a,u)}catch(f){Ft(s,s.return,f)}}}function pv(s,a,u){u.props=ho(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){Ft(s,a,f)}}function Hu(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(v){Ft(s,a,v)}}function Hi(s,a){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){Ft(s,a,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Ft(s,a,v)}else u.current=null}function mv(s){var a=s.type,u=s.memoizedProps,f=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){Ft(s,s.return,v)}}function lp(s,a,u){try{var f=s.stateNode;IR(f,s.type,u,a),f[z]=a}catch(v){Ft(s,s.return,v)}}function gv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&fa(s.type)||s.tag===4}function up(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||gv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&fa(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cp(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=gi));else if(f!==4&&(f===27&&fa(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(cp(s,a,u),s=s.sibling;s!==null;)cp(s,a,u),s=s.sibling}function Xf(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(f===27&&fa(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Xf(s,a,u),s=s.sibling;s!==null;)Xf(s,a,u),s=s.sibling}function _v(s){var a=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);zn(a,f,u),a[B]=s,a[z]=u}catch(T){Ft(s,s.return,T)}}var _s=!1,xn=!1,fp=!1,vv=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function oR(s,a){if(s=s.containerInfo,bp=mh,s=D1(s),i0(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,T=f.focusNode;f=f.focusOffset;try{u.nodeType,T.nodeType}catch{u=null;break e}var C=0,P=-1,Z=-1,ue=0,Te=0,Se=s,de=null;t:for(;;){for(var _e;Se!==u||v!==0&&Se.nodeType!==3||(P=C+v),Se!==T||f!==0&&Se.nodeType!==3||(Z=C+f),Se.nodeType===3&&(C+=Se.nodeValue.length),(_e=Se.firstChild)!==null;)de=Se,Se=_e;for(;;){if(Se===s)break t;if(de===u&&++ue===v&&(P=C),de===T&&++Te===f&&(Z=C),(_e=Se.nextSibling)!==null)break;Se=de,de=Se.parentNode}Se=_e}u=P===-1||Z===-1?null:{start:P,end:Z}}else u=null}u=u||{start:0,end:0}}else u=null;for(Pp={focusedElem:s,selectionRange:u},mh=!1,Fn=a;Fn!==null;)if(a=Fn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Fn=s;else for(;Fn!==null;){switch(a=Fn,T=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(u=0;u<s.length;u++)v=s[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&T!==null){s=void 0,u=a,v=T.memoizedProps,T=T.memoizedState,f=u.stateNode;try{var Ke=ho(u.type,v);s=f.getSnapshotBeforeUpdate(Ke,T),f.__reactInternalSnapshotBeforeUpdate=s}catch(Ze){Ft(u,u.return,Ze)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)kp(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":kp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,Fn=s;break}Fn=a.return}}function yv(s,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:ys(s,u),f&4&&Bu(5,u);break;case 1:if(ys(s,u),f&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(C){Ft(u,u.return,C)}else{var v=ho(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(v,a,s.__reactInternalSnapshotBeforeUpdate)}catch(C){Ft(u,u.return,C)}}f&64&&dv(u),f&512&&Hu(u,u.return);break;case 3:if(ys(s,u),f&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{r_(s,a)}catch(C){Ft(u,u.return,C)}}break;case 27:a===null&&f&4&&_v(u);case 26:case 5:ys(s,u),a===null&&f&4&&mv(u),f&512&&Hu(u,u.return);break;case 12:ys(s,u);break;case 31:ys(s,u),f&4&&xv(s,u);break;case 13:ys(s,u),f&4&&Sv(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=gR.bind(null,u),kR(s,u))));break;case 22:if(f=u.memoizedState!==null||_s,!f){a=a!==null&&a.memoizedState!==null||xn,v=_s;var T=xn;_s=f,(xn=a)&&!T?Ts(s,u,(u.subtreeFlags&8772)!==0):ys(s,u),_s=v,xn=T}break;case 30:break;default:ys(s,u)}}function Tv(s){var a=s.alternate;a!==null&&(s.alternate=null,Tv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ne(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var rn=null,xr=!1;function vs(s,a,u){for(u=u.child;u!==null;)Ev(s,a,u),u=u.sibling}function Ev(s,a,u){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(yr,u)}catch{}switch(u.tag){case 26:xn||Hi(u,a),vs(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:xn||Hi(u,a);var f=rn,v=xr;fa(u.type)&&(rn=u.stateNode,xr=!1),vs(s,a,u),$u(u.stateNode),rn=f,xr=v;break;case 5:xn||Hi(u,a);case 6:if(f=rn,v=xr,rn=null,vs(s,a,u),rn=f,xr=v,rn!==null)if(xr)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(u.stateNode)}catch(T){Ft(u,a,T)}else try{rn.removeChild(u.stateNode)}catch(T){Ft(u,a,T)}break;case 18:rn!==null&&(xr?(s=rn,dy(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Tl(s)):dy(rn,u.stateNode));break;case 4:f=rn,v=xr,rn=u.stateNode.containerInfo,xr=!0,vs(s,a,u),rn=f,xr=v;break;case 0:case 11:case 14:case 15:ia(2,u,a),xn||ia(4,u,a),vs(s,a,u);break;case 1:xn||(Hi(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&pv(u,a,f)),vs(s,a,u);break;case 21:vs(s,a,u);break;case 22:xn=(f=xn)||u.memoizedState!==null,vs(s,a,u),xn=f;break;default:vs(s,a,u)}}function xv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Tl(s)}catch(u){Ft(a,a.return,u)}}}function Sv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Tl(s)}catch(u){Ft(a,a.return,u)}}function lR(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new vv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new vv),a;default:throw Error(r(435,s.tag))}}function Jf(s,a){var u=lR(s);a.forEach(function(f){if(!u.has(f)){u.add(f);var v=_R.bind(null,s,f);f.then(v,v)}})}function Sr(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],T=s,C=a,P=C;e:for(;P!==null;){switch(P.tag){case 27:if(fa(P.type)){rn=P.stateNode,xr=!1;break e}break;case 5:rn=P.stateNode,xr=!1;break e;case 3:case 4:rn=P.stateNode.containerInfo,xr=!0;break e}P=P.return}if(rn===null)throw Error(r(160));Ev(T,C,v),rn=null,xr=!1,T=v.alternate,T!==null&&(T.return=null),v.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Av(a,s),a=a.sibling}var xi=null;function Av(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Sr(a,s),Ar(s),f&4&&(ia(3,s,s.return),Bu(3,s),ia(5,s,s.return));break;case 1:Sr(a,s),Ar(s),f&512&&(xn||u===null||Hi(u,u.return)),f&64&&_s&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=xi;if(Sr(a,s),Ar(s),f&512&&(xn||u===null||Hi(u,u.return)),f&4){var T=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){e:{f=s.type,u=s.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":T=v.getElementsByTagName("title")[0],(!T||T[ce]||T[B]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=v.createElement(f),v.head.insertBefore(T,v.querySelector("head > title"))),zn(T,f,u),T[B]=s,We(T),f=T;break e;case"link":var C=Ay("link","href",v).get(f+(u.href||""));if(C){for(var P=0;P<C.length;P++)if(T=C[P],T.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&T.getAttribute("rel")===(u.rel==null?null:u.rel)&&T.getAttribute("title")===(u.title==null?null:u.title)&&T.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(P,1);break t}}T=v.createElement(f),zn(T,f,u),v.head.appendChild(T);break;case"meta":if(C=Ay("meta","content",v).get(f+(u.content||""))){for(P=0;P<C.length;P++)if(T=C[P],T.getAttribute("content")===(u.content==null?null:""+u.content)&&T.getAttribute("name")===(u.name==null?null:u.name)&&T.getAttribute("property")===(u.property==null?null:u.property)&&T.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&T.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(P,1);break t}}T=v.createElement(f),zn(T,f,u),v.head.appendChild(T);break;default:throw Error(r(468,f))}T[B]=s,We(T),f=T}s.stateNode=f}else Cy(v,s.type,s.stateNode);else s.stateNode=Sy(v,f,s.memoizedProps);else T!==f?(T===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):T.count--,f===null?Cy(v,s.type,s.stateNode):Sy(v,f,s.memoizedProps)):f===null&&s.stateNode!==null&&lp(s,s.memoizedProps,u.memoizedProps)}break;case 27:Sr(a,s),Ar(s),f&512&&(xn||u===null||Hi(u,u.return)),u!==null&&f&4&&lp(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Sr(a,s),Ar(s),f&512&&(xn||u===null||Hi(u,u.return)),s.flags&32){v=s.stateNode;try{Er(v,"")}catch(Ke){Ft(s,s.return,Ke)}}f&4&&s.stateNode!=null&&(v=s.memoizedProps,lp(s,v,u!==null?u.memoizedProps:v)),f&1024&&(fp=!0);break;case 6:if(Sr(a,s),Ar(s),f&4){if(s.stateNode===null)throw Error(r(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(Ke){Ft(s,s.return,Ke)}}break;case 3:if(fh=null,v=xi,xi=uh(a.containerInfo),Sr(a,s),xi=v,Ar(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Tl(a.containerInfo)}catch(Ke){Ft(s,s.return,Ke)}fp&&(fp=!1,Cv(s));break;case 4:f=xi,xi=uh(s.stateNode.containerInfo),Sr(a,s),Ar(s),xi=f;break;case 12:Sr(a,s),Ar(s);break;case 31:Sr(a,s),Ar(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Jf(s,f)));break;case 13:Sr(a,s),Ar(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Qf=Xt()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Jf(s,f)));break;case 22:v=s.memoizedState!==null;var Z=u!==null&&u.memoizedState!==null,ue=_s,Te=xn;if(_s=ue||v,xn=Te||Z,Sr(a,s),xn=Te,_s=ue,Ar(s),f&8192)e:for(a=s.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(u===null||Z||_s||xn||po(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){Z=u=a;try{if(T=Z.stateNode,v)C=T.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{P=Z.stateNode;var Se=Z.memoizedProps.style,de=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;P.style.display=de==null||typeof de=="boolean"?"":(""+de).trim()}}catch(Ke){Ft(Z,Z.return,Ke)}}}else if(a.tag===6){if(u===null){Z=a;try{Z.stateNode.nodeValue=v?"":Z.memoizedProps}catch(Ke){Ft(Z,Z.return,Ke)}}}else if(a.tag===18){if(u===null){Z=a;try{var _e=Z.stateNode;v?py(_e,!0):py(Z.stateNode,!1)}catch(Ke){Ft(Z,Z.return,Ke)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Jf(s,u))));break;case 19:Sr(a,s),Ar(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Jf(s,f)));break;case 30:break;case 21:break;default:Sr(a,s),Ar(s)}}function Ar(s){var a=s.flags;if(a&2){try{for(var u,f=s.return;f!==null;){if(gv(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,T=up(s);Xf(s,T,v);break;case 5:var C=u.stateNode;u.flags&32&&(Er(C,""),u.flags&=-33);var P=up(s);Xf(s,P,C);break;case 3:case 4:var Z=u.stateNode.containerInfo,ue=up(s);cp(s,ue,Z);break;default:throw Error(r(161))}}catch(Te){Ft(s,s.return,Te)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Cv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Cv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ys(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)yv(s,a.alternate,a),a=a.sibling}function po(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ia(4,a,a.return),po(a);break;case 1:Hi(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&pv(a,a.return,u),po(a);break;case 27:$u(a.stateNode);case 26:case 5:Hi(a,a.return),po(a);break;case 22:a.memoizedState===null&&po(a);break;case 30:po(a);break;default:po(a)}s=s.sibling}}function Ts(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,v=s,T=a,C=T.flags;switch(T.tag){case 0:case 11:case 15:Ts(v,T,u),Bu(4,T);break;case 1:if(Ts(v,T,u),f=T,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ue){Ft(f,f.return,ue)}if(f=T,v=f.updateQueue,v!==null){var P=f.stateNode;try{var Z=v.shared.hiddenCallbacks;if(Z!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Z.length;v++)n_(Z[v],P)}catch(ue){Ft(f,f.return,ue)}}u&&C&64&&dv(T),Hu(T,T.return);break;case 27:_v(T);case 26:case 5:Ts(v,T,u),u&&f===null&&C&4&&mv(T),Hu(T,T.return);break;case 12:Ts(v,T,u);break;case 31:Ts(v,T,u),u&&C&4&&xv(v,T);break;case 13:Ts(v,T,u),u&&C&4&&Sv(v,T);break;case 22:T.memoizedState===null&&Ts(v,T,u),Hu(T,T.return);break;case 30:break;default:Ts(v,T,u)}a=a.sibling}}function hp(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Ru(u))}function dp(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ru(s))}function Si(s,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)wv(s,a,u,f),a=a.sibling}function wv(s,a,u,f){var v=a.flags;switch(a.tag){case 0:case 11:case 15:Si(s,a,u,f),v&2048&&Bu(9,a);break;case 1:Si(s,a,u,f);break;case 3:Si(s,a,u,f),v&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ru(s)));break;case 12:if(v&2048){Si(s,a,u,f),s=a.stateNode;try{var T=a.memoizedProps,C=T.id,P=T.onPostCommit;typeof P=="function"&&P(C,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Z){Ft(a,a.return,Z)}}else Si(s,a,u,f);break;case 31:Si(s,a,u,f);break;case 13:Si(s,a,u,f);break;case 23:break;case 22:T=a.stateNode,C=a.alternate,a.memoizedState!==null?T._visibility&2?Si(s,a,u,f):Gu(s,a):T._visibility&2?Si(s,a,u,f):(T._visibility|=2,ul(s,a,u,f,(a.subtreeFlags&10256)!==0||!1)),v&2048&&hp(C,a);break;case 24:Si(s,a,u,f),v&2048&&dp(a.alternate,a);break;default:Si(s,a,u,f)}}function ul(s,a,u,f,v){for(v=v&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var T=s,C=a,P=u,Z=f,ue=C.flags;switch(C.tag){case 0:case 11:case 15:ul(T,C,P,Z,v),Bu(8,C);break;case 23:break;case 22:var Te=C.stateNode;C.memoizedState!==null?Te._visibility&2?ul(T,C,P,Z,v):Gu(T,C):(Te._visibility|=2,ul(T,C,P,Z,v)),v&&ue&2048&&hp(C.alternate,C);break;case 24:ul(T,C,P,Z,v),v&&ue&2048&&dp(C.alternate,C);break;default:ul(T,C,P,Z,v)}a=a.sibling}}function Gu(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,f=a,v=f.flags;switch(f.tag){case 22:Gu(u,f),v&2048&&hp(f.alternate,f);break;case 24:Gu(u,f),v&2048&&dp(f.alternate,f);break;default:Gu(u,f)}a=a.sibling}}var qu=8192;function cl(s,a,u){if(s.subtreeFlags&qu)for(s=s.child;s!==null;)Rv(s,a,u),s=s.sibling}function Rv(s,a,u){switch(s.tag){case 26:cl(s,a,u),s.flags&qu&&s.memoizedState!==null&&XR(u,xi,s.memoizedState,s.memoizedProps);break;case 5:cl(s,a,u);break;case 3:case 4:var f=xi;xi=uh(s.stateNode.containerInfo),cl(s,a,u),xi=f;break;case 22:s.memoizedState===null&&(f=s.alternate,f!==null&&f.memoizedState!==null?(f=qu,qu=16777216,cl(s,a,u),qu=f):cl(s,a,u));break;default:cl(s,a,u)}}function Iv(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function zu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Fn=f,Dv(f,s)}Iv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Nv(s),s=s.sibling}function Nv(s){switch(s.tag){case 0:case 11:case 15:zu(s),s.flags&2048&&ia(9,s,s.return);break;case 3:zu(s);break;case 12:zu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,$f(s)):zu(s);break;default:zu(s)}}function $f(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Fn=f,Dv(f,s)}Iv(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ia(8,a,a.return),$f(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,$f(a));break;default:$f(a)}s=s.sibling}}function Dv(s,a){for(;Fn!==null;){var u=Fn;switch(u.tag){case 0:case 11:case 15:ia(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ru(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Fn=f;else e:for(u=s;Fn!==null;){f=Fn;var v=f.sibling,T=f.return;if(Tv(f),f===u){Fn=null;break e}if(v!==null){v.return=T,Fn=v;break e}Fn=T}}}var uR={getCacheForType:function(s){var a=Gn(yn),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u},cacheSignal:function(){return Gn(yn).controller.signal}},cR=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Wt=null,ct=null,ht=0,Pt=0,Ur=null,sa=!1,fl=!1,pp=!1,Es=0,cn=0,aa=0,mo=0,mp=0,Br=0,hl=0,Yu=null,Cr=null,gp=!1,Qf=0,Mv=0,Zf=1/0,jf=null,oa=null,Nn=0,la=null,dl=null,xs=0,_p=0,vp=null,bv=null,Ku=0,yp=null;function Hr(){return(Ct&2)!==0&&ht!==0?ht&-ht:ie.T!==null?Cp():b()}function Pv(){if(Br===0)if((ht&536870912)===0||gt){var s=ts;ts<<=1,(ts&3932160)===0&&(ts=262144),Br=s}else Br=536870912;return s=Or.current,s!==null&&(s.flags|=32),Br}function wr(s,a,u){(s===Wt&&(Pt===2||Pt===9)||s.cancelPendingCommit!==null)&&(pl(s,0),ua(s,ht,Br,!1)),ns(s,u),((Ct&2)===0||s!==Wt)&&(s===Wt&&((Ct&2)===0&&(mo|=u),cn===4&&ua(s,ht,Br,!1)),Gi(s))}function Fv(s,a,u){if((Ct&6)!==0)throw Error(r(327));var f=!u&&(a&127)===0&&(a&s.expiredLanes)===0||br(s,a),v=f?dR(s,a):Ep(s,a,!0),T=f;do{if(v===0){fl&&!f&&ua(s,a,0,!1);break}else{if(u=s.current.alternate,T&&!fR(u)){v=Ep(s,a,!1),T=!1;continue}if(v===2){if(T=a,s.errorRecoveryDisabledLanes&T)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){a=C;e:{var P=s;v=Yu;var Z=P.current.memoizedState.isDehydrated;if(Z&&(pl(P,C).flags|=256),C=Ep(P,C,!1),C!==2){if(pp&&!Z){P.errorRecoveryDisabledLanes|=T,mo|=T,v=4;break e}T=Cr,Cr=v,T!==null&&(Cr===null?Cr=T:Cr.push.apply(Cr,T))}v=C}if(T=!1,v!==2)continue}}if(v===1){pl(s,0),ua(s,a,0,!0);break}e:{switch(f=s,T=v,T){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:ua(f,a,Br,!sa);break e;case 2:Cr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(v=Qf+300-Xt(),10<v)){if(ua(f,a,Br,!sa),Xr(f,0,!0)!==0)break e;xs=a,f.timeoutHandle=fy(Lv.bind(null,f,u,Cr,jf,gp,a,Br,mo,hl,sa,T,"Throttled",-0,0),v);break e}Lv(f,u,Cr,jf,gp,a,Br,mo,hl,sa,T,null,-0,0)}}break}while(!0);Gi(s)}function Lv(s,a,u,f,v,T,C,P,Z,ue,Te,Se,de,_e){if(s.timeoutHandle=-1,Se=a.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gi},Rv(a,T,Se);var Ke=(T&62914560)===T?Qf-Xt():(T&4194048)===T?Mv-Xt():0;if(Ke=JR(Se,Ke),Ke!==null){xs=T,s.cancelPendingCommit=Ke(qv.bind(null,s,a,T,u,f,v,C,P,Z,Te,Se,null,de,_e)),ua(s,T,C,!ue);return}}qv(s,a,T,u,f,v,C,P,Z)}function fR(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],T=v.getSnapshot;v=v.value;try{if(!Lr(T(),v))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ua(s,a,u,f){a&=~mp,a&=~mo,s.suspendedLanes|=a,s.pingedLanes&=~a,f&&(s.warmLanes|=a),f=s.expirationTimes;for(var v=a;0<v;){var T=31-sn(v),C=1<<T;f[T]=-1,v&=~C}u!==0&&rs(s,u,a)}function eh(){return(Ct&6)===0?(Wu(0),!1):!0}function Tp(){if(ct!==null){if(Pt===0)var s=ct.return;else s=ct,fs=so=null,k0(s),il=null,Nu=0,s=ct;for(;s!==null;)hv(s.alternate,s),s=s.return;ct=null}}function pl(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,MR(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),xs=0,Tp(),Wt=s,ct=u=us(s.current,null),ht=a,Pt=0,Ur=null,sa=!1,fl=br(s,a),pp=!1,hl=Br=mp=mo=aa=cn=0,Cr=Yu=null,gp=!1,(a&8)!==0&&(a|=a&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=a;0<f;){var v=31-sn(f),T=1<<v;a|=s[v],f&=~T}return Es=a,Ef(),u}function kv(s,a){st=null,ie.H=Ou,a===rl||a===Nf?(a=Z1(),Pt=3):a===A0?(a=Z1(),Pt=4):Pt=a===Z0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ur=a,ct===null&&(cn=1,qf(s,ei(a,s.current)))}function Ov(){var s=Or.current;return s===null?!0:(ht&4194048)===ht?ii===null:(ht&62914560)===ht||(ht&536870912)!==0?s===ii:!1}function Vv(){var s=ie.H;return ie.H=Ou,s===null?Ou:s}function Uv(){var s=ie.A;return ie.A=uR,s}function th(){cn=4,sa||(ht&4194048)!==ht&&Or.current!==null||(fl=!0),(aa&134217727)===0&&(mo&134217727)===0||Wt===null||ua(Wt,ht,Br,!1)}function Ep(s,a,u){var f=Ct;Ct|=2;var v=Vv(),T=Uv();(Wt!==s||ht!==a)&&(jf=null,pl(s,a)),a=!1;var C=cn;e:do try{if(Pt!==0&&ct!==null){var P=ct,Z=Ur;switch(Pt){case 8:Tp(),C=6;break e;case 3:case 2:case 9:case 6:Or.current===null&&(a=!0);var ue=Pt;if(Pt=0,Ur=null,ml(s,P,Z,ue),u&&fl){C=0;break e}break;default:ue=Pt,Pt=0,Ur=null,ml(s,P,Z,ue)}}hR(),C=cn;break}catch(Te){kv(s,Te)}while(!0);return a&&s.shellSuspendCounter++,fs=so=null,Ct=f,ie.H=v,ie.A=T,ct===null&&(Wt=null,ht=0,Ef()),C}function hR(){for(;ct!==null;)Bv(ct)}function dR(s,a){var u=Ct;Ct|=2;var f=Vv(),v=Uv();Wt!==s||ht!==a?(jf=null,Zf=Xt()+500,pl(s,a)):fl=br(s,a);e:do try{if(Pt!==0&&ct!==null){a=ct;var T=Ur;t:switch(Pt){case 1:Pt=0,Ur=null,ml(s,a,T,1);break;case 2:case 9:if($1(T)){Pt=0,Ur=null,Hv(a);break}a=function(){Pt!==2&&Pt!==9||Wt!==s||(Pt=7),Gi(s)},T.then(a,a);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:$1(T)?(Pt=0,Ur=null,Hv(a)):(Pt=0,Ur=null,ml(s,a,T,7));break;case 5:var C=null;switch(ct.tag){case 26:C=ct.memoizedState;case 5:case 27:var P=ct;if(C?wy(C):P.stateNode.complete){Pt=0,Ur=null;var Z=P.sibling;if(Z!==null)ct=Z;else{var ue=P.return;ue!==null?(ct=ue,nh(ue)):ct=null}break t}}Pt=0,Ur=null,ml(s,a,T,5);break;case 6:Pt=0,Ur=null,ml(s,a,T,6);break;case 8:Tp(),cn=6;break e;default:throw Error(r(462))}}pR();break}catch(Te){kv(s,Te)}while(!0);return fs=so=null,ie.H=f,ie.A=v,Ct=u,ct!==null?0:(Wt=null,ht=0,Ef(),cn)}function pR(){for(;ct!==null&&!Lo();)Bv(ct)}function Bv(s){var a=cv(s.alternate,s,Es);s.memoizedProps=s.pendingProps,a===null?nh(s):ct=a}function Hv(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=iv(u,a,a.pendingProps,a.type,void 0,ht);break;case 11:a=iv(u,a,a.pendingProps,a.type.render,a.ref,ht);break;case 5:k0(a);default:hv(u,a),a=ct=U1(a,Es),a=cv(u,a,Es)}s.memoizedProps=s.pendingProps,a===null?nh(s):ct=a}function ml(s,a,u,f){fs=so=null,k0(a),il=null,Nu=0;var v=a.return;try{if(nR(s,v,a,u,ht)){cn=1,qf(s,ei(u,s.current)),ct=null;return}}catch(T){if(v!==null)throw ct=v,T;cn=1,qf(s,ei(u,s.current)),ct=null;return}a.flags&32768?(gt||f===1?s=!0:fl||(ht&536870912)!==0?s=!1:(sa=s=!0,(f===2||f===9||f===3||f===6)&&(f=Or.current,f!==null&&f.tag===13&&(f.flags|=16384))),Gv(a,s)):nh(a)}function nh(s){var a=s;do{if((a.flags&32768)!==0){Gv(a,sa);return}s=a.return;var u=sR(a.alternate,a,Es);if(u!==null){ct=u;return}if(a=a.sibling,a!==null){ct=a;return}ct=a=s}while(a!==null);cn===0&&(cn=5)}function Gv(s,a){do{var u=aR(s.alternate,s);if(u!==null){u.flags&=32767,ct=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){ct=s;return}ct=s=u}while(s!==null);cn=6,ct=null}function qv(s,a,u,f,v,T,C,P,Z){s.cancelPendingCommit=null;do rh();while(Nn!==0);if((Ct&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(T=a.lanes|a.childLanes,T|=u0,cu(s,u,T,C,P,Z),s===Wt&&(ct=Wt=null,ht=0),dl=a,la=s,xs=u,_p=T,vp=v,bv=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,vR(er,function(){return Xv(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=ie.T,ie.T=null,v=we.p,we.p=2,C=Ct,Ct|=4;try{oR(s,a,u)}finally{Ct=C,we.p=v,ie.T=f}}Nn=1,zv(),Yv(),Kv()}}function zv(){if(Nn===1){Nn=0;var s=la,a=dl,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=ie.T,ie.T=null;var f=we.p;we.p=2;var v=Ct;Ct|=4;try{Av(a,s);var T=Pp,C=D1(s.containerInfo),P=T.focusedElem,Z=T.selectionRange;if(C!==P&&P&&P.ownerDocument&&N1(P.ownerDocument.documentElement,P)){if(Z!==null&&i0(P)){var ue=Z.start,Te=Z.end;if(Te===void 0&&(Te=ue),"selectionStart"in P)P.selectionStart=ue,P.selectionEnd=Math.min(Te,P.value.length);else{var Se=P.ownerDocument||document,de=Se&&Se.defaultView||window;if(de.getSelection){var _e=de.getSelection(),Ke=P.textContent.length,Ze=Math.min(Z.start,Ke),Gt=Z.end===void 0?Ze:Math.min(Z.end,Ke);!_e.extend&&Ze>Gt&&(C=Gt,Gt=Ze,Ze=C);var re=I1(P,Ze),ne=I1(P,Gt);if(re&&ne&&(_e.rangeCount!==1||_e.anchorNode!==re.node||_e.anchorOffset!==re.offset||_e.focusNode!==ne.node||_e.focusOffset!==ne.offset)){var ae=Se.createRange();ae.setStart(re.node,re.offset),_e.removeAllRanges(),Ze>Gt?(_e.addRange(ae),_e.extend(ne.node,ne.offset)):(ae.setEnd(ne.node,ne.offset),_e.addRange(ae))}}}}for(Se=[],_e=P;_e=_e.parentNode;)_e.nodeType===1&&Se.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Se.length;P++){var xe=Se[P];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}mh=!!bp,Pp=bp=null}finally{Ct=v,we.p=f,ie.T=u}}s.current=a,Nn=2}}function Yv(){if(Nn===2){Nn=0;var s=la,a=dl,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=ie.T,ie.T=null;var f=we.p;we.p=2;var v=Ct;Ct|=4;try{yv(s,a.alternate,a)}finally{Ct=v,we.p=f,ie.T=u}}Nn=3}}function Kv(){if(Nn===4||Nn===3){Nn=0,Vs();var s=la,a=dl,u=xs,f=bv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Nn=5:(Nn=0,dl=la=null,Wv(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(oa=null),di(u),a=a.stateNode,_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(yr,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=ie.T,v=we.p,we.p=2,ie.T=null;try{for(var T=s.onRecoverableError,C=0;C<f.length;C++){var P=f[C];T(P.value,{componentStack:P.stack})}}finally{ie.T=a,we.p=v}}(xs&3)!==0&&rh(),Gi(s),v=s.pendingLanes,(u&261930)!==0&&(v&42)!==0?s===yp?Ku++:(Ku=0,yp=s):Ku=0,Wu(0)}}function Wv(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Ru(a)))}function rh(){return zv(),Yv(),Kv(),Xv()}function Xv(){if(Nn!==5)return!1;var s=la,a=_p;_p=0;var u=di(xs),f=ie.T,v=we.p;try{we.p=32>u?32:u,ie.T=null,u=vp,vp=null;var T=la,C=xs;if(Nn=0,dl=la=null,xs=0,(Ct&6)!==0)throw Error(r(331));var P=Ct;if(Ct|=4,Nv(T.current),wv(T,T.current,C,u),Ct=P,Wu(0,!1),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(yr,T)}catch{}return!0}finally{we.p=v,ie.T=f,Wv(s,a)}}function Jv(s,a,u){a=ei(u,a),a=Q0(s.stateNode,a,2),s=ta(s,a,2),s!==null&&(ns(s,2),Gi(s))}function Ft(s,a,u){if(s.tag===3)Jv(s,s,u);else for(;a!==null;){if(a.tag===3){Jv(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(oa===null||!oa.has(f))){s=ei(u,s),u=$_(2),f=ta(a,u,2),f!==null&&(Q_(u,f,a,s),ns(f,2),Gi(f));break}}a=a.return}}function xp(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new cR;var v=new Set;f.set(a,v)}else v=f.get(a),v===void 0&&(v=new Set,f.set(a,v));v.has(u)||(pp=!0,v.add(u),s=mR.bind(null,s,a,u),a.then(s,s))}function mR(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,Wt===s&&(ht&u)===u&&(cn===4||cn===3&&(ht&62914560)===ht&&300>Xt()-Qf?(Ct&2)===0&&pl(s,0):mp|=u,hl===ht&&(hl=0)),Gi(s)}function $v(s,a){a===0&&(a=Oo()),s=no(s,a),s!==null&&(ns(s,a),Gi(s))}function gR(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),$v(s,u)}function _R(s,a){var u=0;switch(s.tag){case 31:case 13:var f=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),$v(s,u)}function vR(s,a){return Yt(s,a)}var ih=null,gl=null,Sp=!1,sh=!1,Ap=!1,ca=0;function Gi(s){s!==gl&&s.next===null&&(gl===null?ih=gl=s:gl=gl.next=s),sh=!0,Sp||(Sp=!0,TR())}function Wu(s,a){if(!Ap&&sh){Ap=!0;do for(var u=!1,f=ih;f!==null;){if(s!==0){var v=f.pendingLanes;if(v===0)var T=0;else{var C=f.suspendedLanes,P=f.pingedLanes;T=(1<<31-sn(42|s)+1)-1,T&=v&~(C&~P),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(u=!0,ey(f,T))}else T=ht,T=Xr(f,f===Wt?T:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(T&3)===0||br(f,T)||(u=!0,ey(f,T));f=f.next}while(u);Ap=!1}}function yR(){Qv()}function Qv(){sh=Sp=!1;var s=0;ca!==0&&DR()&&(s=ca);for(var a=Xt(),u=null,f=ih;f!==null;){var v=f.next,T=Zv(f,a);T===0?(f.next=null,u===null?ih=v:u.next=v,v===null&&(gl=u)):(u=f,(s!==0||(T&3)!==0)&&(sh=!0)),f=v}Nn!==0&&Nn!==5||Wu(s),ca!==0&&(ca=0)}function Zv(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,v=s.expirationTimes,T=s.pendingLanes&-62914561;0<T;){var C=31-sn(T),P=1<<C,Z=v[C];Z===-1?((P&u)===0||(P&f)!==0)&&(v[C]=uu(P,a)):Z<=a&&(s.expiredLanes|=P),T&=~P}if(a=Wt,u=ht,u=Xr(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===a&&(Pt===2||Pt===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&fr(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||br(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(f!==null&&fr(f),di(u)){case 2:case 8:u=ji;break;case 32:u=er;break;case 268435456:u=Ba;break;default:u=er}return f=jv.bind(null,s),u=Yt(u,f),s.callbackPriority=a,s.callbackNode=u,a}return f!==null&&f!==null&&fr(f),s.callbackPriority=2,s.callbackNode=null,2}function jv(s,a){if(Nn!==0&&Nn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(rh()&&s.callbackNode!==u)return null;var f=ht;return f=Xr(s,s===Wt?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(Fv(s,f,a),Zv(s,Xt()),s.callbackNode!=null&&s.callbackNode===u?jv.bind(null,s):null)}function ey(s,a){if(rh())return null;Fv(s,a,!0)}function TR(){bR(function(){(Ct&6)!==0?Yt(Zi,yR):Qv()})}function Cp(){if(ca===0){var s=tl;s===0&&(s=Mr,Mr<<=1,(Mr&261888)===0&&(Mr=256)),ca=s}return ca}function ty(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Bo(""+s)}function ny(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function ER(s,a,u,f,v){if(a==="submit"&&u&&u.stateNode===v){var T=ty((v[z]||null).action),C=f.submitter;C&&(a=(a=C[z]||null)?ty(a.formAction):C.getAttribute("formAction"),a!==null&&(T=a,C=null));var P=new Li("action","action",null,f,v);s.push({event:P,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(ca!==0){var Z=C?ny(v,C):new FormData(v);Y0(u,{pending:!0,data:Z,method:v.method,action:T},null,Z)}}else typeof T=="function"&&(P.preventDefault(),Z=C?ny(v,C):new FormData(v),Y0(u,{pending:!0,data:Z,method:v.method,action:T},T,Z))},currentTarget:v}]})}}for(var wp=0;wp<l0.length;wp++){var Rp=l0[wp],xR=Rp.toLowerCase(),SR=Rp[0].toUpperCase()+Rp.slice(1);Ei(xR,"on"+SR)}Ei(P1,"onAnimationEnd"),Ei(F1,"onAnimationIteration"),Ei(L1,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(Uw,"onTransitionRun"),Ei(Bw,"onTransitionStart"),Ei(Hw,"onTransitionCancel"),Ei(k1,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),Kt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xu));function ry(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],v=f.event;f=f.listeners;e:{var T=void 0;if(a)for(var C=f.length-1;0<=C;C--){var P=f[C],Z=P.instance,ue=P.currentTarget;if(P=P.listener,Z!==T&&v.isPropagationStopped())break e;T=P,v.currentTarget=ue;try{T(v)}catch(Te){Tf(Te)}v.currentTarget=null,T=Z}else for(C=0;C<f.length;C++){if(P=f[C],Z=P.instance,ue=P.currentTarget,P=P.listener,Z!==T&&v.isPropagationStopped())break e;T=P,v.currentTarget=ue;try{T(v)}catch(Te){Tf(Te)}v.currentTarget=null,T=Z}}}}function ft(s,a){var u=a[oe];u===void 0&&(u=a[oe]=new Set);var f=s+"__bubble";u.has(f)||(iy(a,s,2,!1),u.add(f))}function Ip(s,a,u){var f=0;a&&(f|=4),iy(u,s,f,a)}var ah="_reactListening"+Math.random().toString(36).slice(2);function Np(s){if(!s[ah]){s[ah]=!0,Dt.forEach(function(u){u!=="selectionchange"&&(AR.has(u)||Ip(u,!1,s),Ip(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[ah]||(a[ah]=!0,Ip("selectionchange",!1,a))}}function iy(s,a,u,f){switch(Py(a)){case 2:var v=ZR;break;case 8:v=jR;break;default:v=zp}u=v.bind(null,a,u,s),v=void 0,!Xa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),f?v!==void 0?s.addEventListener(a,u,{capture:!0,passive:v}):s.addEventListener(a,u,!0):v!==void 0?s.addEventListener(a,u,{passive:v}):s.addEventListener(a,u,!1)}function Dp(s,a,u,f,v){var T=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var P=f.stateNode.containerInfo;if(P===v)break;if(C===4)for(C=f.return;C!==null;){var Z=C.tag;if((Z===3||Z===4)&&C.stateNode.containerInfo===v)return;C=C.return}for(;P!==null;){if(C=Me(P),C===null)return;if(Z=C.tag,Z===5||Z===6||Z===26||Z===27){f=T=C;continue e}P=P.parentNode}}f=f.return}Ys(function(){var ue=T,Te=$r(u),Se=[];e:{var de=O1.get(s);if(de!==void 0){var _e=Li,Ke=s;switch(s){case"keypress":if($a(u)===0)break e;case"keydown":case"keyup":_e=_f;break;case"focusin":Ke="focus",_e=Za;break;case"focusout":Ke="blur",_e=Za;break;case"beforeblur":case"afterblur":_e=Za;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=S;break;case P1:case F1:case L1:_e=cf;break;case k1:_e=U;break;case"scroll":case"scrollend":_e=vu;break;case"wheel":_e=ge;break;case"copy":case"cut":case"paste":_e=ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=ls;break;case"toggle":case"beforetoggle":_e=it}var Ze=(a&4)!==0,Gt=!Ze&&(s==="scroll"||s==="scrollend"),re=Ze?de!==null?de+"Capture":null:de;Ze=[];for(var ne=ue,ae;ne!==null;){var xe=ne;if(ae=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||ae===null||re===null||(xe=_i(ne,re),xe!=null&&Ze.push(Ju(ne,xe,ae))),Gt)break;ne=ne.return}0<Ze.length&&(de=new _e(de,Ke,null,u,Te),Se.push({event:de,listeners:Ze}))}}if((a&7)===0){e:{if(de=s==="mouseover"||s==="pointerover",_e=s==="mouseout"||s==="pointerout",de&&u!==mu&&(Ke=u.relatedTarget||u.fromElement)&&(Me(Ke)||Ke[W]))break e;if((_e||de)&&(de=Te.window===Te?Te:(de=Te.ownerDocument)?de.defaultView||de.parentWindow:window,_e?(Ke=u.relatedTarget||u.toElement,_e=ue,Ke=Ke?Me(Ke):null,Ke!==null&&(Gt=o(Ke),Ze=Ke.tag,Ke!==Gt||Ze!==5&&Ze!==27&&Ze!==6)&&(Ke=null)):(_e=null,Ke=ue),_e!==Ke)){if(Ze=yu,xe="onMouseLeave",re="onMouseEnter",ne="mouse",(s==="pointerout"||s==="pointerover")&&(Ze=ls,xe="onPointerLeave",re="onPointerEnter",ne="pointer"),Gt=_e==null?de:Ie(_e),ae=Ke==null?de:Ie(Ke),de=new Ze(xe,ne+"leave",_e,u,Te),de.target=Gt,de.relatedTarget=ae,xe=null,Me(Te)===ue&&(Ze=new Ze(re,ne+"enter",Ke,u,Te),Ze.target=ae,Ze.relatedTarget=Gt,xe=Ze),Gt=xe,_e&&Ke)t:{for(Ze=CR,re=_e,ne=Ke,ae=0,xe=re;xe;xe=Ze(xe))ae++;xe=0;for(var $e=ne;$e;$e=Ze($e))xe++;for(;0<ae-xe;)re=Ze(re),ae--;for(;0<xe-ae;)ne=Ze(ne),xe--;for(;ae--;){if(re===ne||ne!==null&&re===ne.alternate){Ze=re;break t}re=Ze(re),ne=Ze(ne)}Ze=null}else Ze=null;_e!==null&&sy(Se,de,_e,Ze,!1),Ke!==null&&Gt!==null&&sy(Se,Gt,Ke,Ze,!0)}}e:{if(de=ue?Ie(ue):window,_e=de.nodeName&&de.nodeName.toLowerCase(),_e==="select"||_e==="input"&&de.type==="file")var Tt=x1;else if(T1(de))if(S1)Tt=kw;else{Tt=Fw;var Je=Pw}else _e=de.nodeName,!_e||_e.toLowerCase()!=="input"||de.type!=="checkbox"&&de.type!=="radio"?ue&&Uo(ue.elementType)&&(Tt=x1):Tt=Lw;if(Tt&&(Tt=Tt(s,ue))){E1(Se,Tt,u,Te);break e}Je&&Je(s,de,ue),s==="focusout"&&ue&&de.type==="number"&&ue.memoizedProps.value!=null&&hu(de,"number",de.value)}switch(Je=ue?Ie(ue):window,s){case"focusin":(T1(Je)||Je.contentEditable==="true")&&(Wo=Je,s0=ue,Au=null);break;case"focusout":Au=s0=Wo=null;break;case"mousedown":a0=!0;break;case"contextmenu":case"mouseup":case"dragend":a0=!1,M1(Se,u,Te);break;case"selectionchange":if(Vw)break;case"keydown":case"keyup":M1(Se,u,Te)}var ot;if(At)e:{switch(s){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else Ko?ja(s,u)&&(dt="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(dt="onCompositionStart");dt&&(Vi&&u.locale!=="ko"&&(Ko||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Ko&&(ot=_u()):(Fi=Te,gu="value"in Fi?Fi.value:Fi.textContent,Ko=!0)),Je=oh(ue,dt),0<Je.length&&(dt=new Oi(dt,s,null,u,Te),Se.push({event:dt,listeners:Je}),ot?dt.data=ot:(ot=Yo(u),ot!==null&&(dt.data=ot)))),(ot=Zr?Nw(s,u):Dw(s,u))&&(dt=oh(ue,"onBeforeInput"),0<dt.length&&(Je=new Oi("onBeforeInput","beforeinput",null,u,Te),Se.push({event:Je,listeners:dt}),Je.data=ot)),ER(Se,s,ue,u,Te)}ry(Se,a)})}function Ju(s,a,u){return{instance:s,listener:a,currentTarget:u}}function oh(s,a){for(var u=a+"Capture",f=[];s!==null;){var v=s,T=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||T===null||(v=_i(s,u),v!=null&&f.unshift(Ju(s,v,T)),v=_i(s,a),v!=null&&f.push(Ju(s,v,T))),s.tag===3)return f;s=s.return}return[]}function CR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function sy(s,a,u,f,v){for(var T=a._reactName,C=[];u!==null&&u!==f;){var P=u,Z=P.alternate,ue=P.stateNode;if(P=P.tag,Z!==null&&Z===f)break;P!==5&&P!==26&&P!==27||ue===null||(Z=ue,v?(ue=_i(u,T),ue!=null&&C.unshift(Ju(u,ue,Z))):v||(ue=_i(u,T),ue!=null&&C.push(Ju(u,ue,Z)))),u=u.return}C.length!==0&&s.push({event:a,listeners:C})}var wR=/\r\n?/g,RR=/\u0000|\uFFFD/g;function ay(s){return(typeof s=="string"?s:""+s).replace(wR,`
`).replace(RR,"")}function oy(s,a){return a=ay(a),ay(s)===a}function Ht(s,a,u,f,v,T){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||Er(s,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&Er(s,""+f);break;case"className":Fr(s,"class",f);break;case"tabIndex":Fr(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Fr(s,u,f);break;case"style":pu(s,f,T);break;case"data":if(a!=="object"){Fr(s,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Bo(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(u==="formAction"?(a!=="input"&&Ht(s,a,"name",v.name,v,null),Ht(s,a,"formEncType",v.formEncType,v,null),Ht(s,a,"formMethod",v.formMethod,v,null),Ht(s,a,"formTarget",v.formTarget,v,null)):(Ht(s,a,"encType",v.encType,v,null),Ht(s,a,"method",v.method,v,null),Ht(s,a,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Bo(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=gi);break;case"onScroll":f!=null&&ft("scroll",s);break;case"onScrollEnd":f!=null&&ft("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=Bo(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":ft("beforetoggle",s),ft("toggle",s),nr(s,"popover",f);break;case"xlinkActuate":vn(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":vn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":vn(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":vn(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":vn(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":vn(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":vn(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":vn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":vn(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":nr(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=of.get(u)||u,nr(s,u,f))}}function Mp(s,a,u,f,v,T){switch(u){case"style":pu(s,f,T);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof f=="string"?Er(s,f):(typeof f=="number"||typeof f=="bigint")&&Er(s,""+f);break;case"onScroll":f!=null&&ft("scroll",s);break;case"onScrollEnd":f!=null&&ft("scrollend",s);break;case"onClick":f!=null&&(s.onclick=gi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mt.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),a=u.slice(2,v?u.length-7:void 0),T=s[z]||null,T=T!=null?T[u]:null,typeof T=="function"&&s.removeEventListener(a,T,v),typeof f=="function")){typeof T!="function"&&T!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,f,v);break e}u in s?s[u]=f:f===!0?s.setAttribute(u,""):nr(s,u,f)}}}function zn(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",s),ft("load",s);var f=!1,v=!1,T;for(T in u)if(u.hasOwnProperty(T)){var C=u[T];if(C!=null)switch(T){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ht(s,a,T,C,u,null)}}v&&Ht(s,a,"srcSet",u.srcSet,u,null),f&&Ht(s,a,"src",u.src,u,null);return;case"input":ft("invalid",s);var P=T=C=v=null,Z=null,ue=null;for(f in u)if(u.hasOwnProperty(f)){var Te=u[f];if(Te!=null)switch(f){case"name":v=Te;break;case"type":C=Te;break;case"checked":Z=Te;break;case"defaultChecked":ue=Te;break;case"value":T=Te;break;case"defaultValue":P=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(137,a));break;default:Ht(s,a,f,Te,u,null)}}rf(s,T,P,Z,ue,C,v,!1);return;case"select":ft("invalid",s),f=C=T=null;for(v in u)if(u.hasOwnProperty(v)&&(P=u[v],P!=null))switch(v){case"value":T=P;break;case"defaultValue":C=P;break;case"multiple":f=P;default:Ht(s,a,v,P,u,null)}a=T,u=C,s.multiple=!!f,a!=null?Hs(s,!!f,a,!1):u!=null&&Hs(s,!!f,u,!0);return;case"textarea":ft("invalid",s),T=v=f=null;for(C in u)if(u.hasOwnProperty(C)&&(P=u[C],P!=null))switch(C){case"value":f=P;break;case"defaultValue":v=P;break;case"children":T=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:Ht(s,a,C,P,u,null)}Gs(s,f,v,T);return;case"option":for(Z in u)if(u.hasOwnProperty(Z)&&(f=u[Z],f!=null))switch(Z){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ht(s,a,Z,f,u,null)}return;case"dialog":ft("beforetoggle",s),ft("toggle",s),ft("cancel",s),ft("close",s);break;case"iframe":case"object":ft("load",s);break;case"video":case"audio":for(f=0;f<Xu.length;f++)ft(Xu[f],s);break;case"image":ft("error",s),ft("load",s);break;case"details":ft("toggle",s);break;case"embed":case"source":case"link":ft("error",s),ft("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in u)if(u.hasOwnProperty(ue)&&(f=u[ue],f!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Ht(s,a,ue,f,u,null)}return;default:if(Uo(a)){for(Te in u)u.hasOwnProperty(Te)&&(f=u[Te],f!==void 0&&Mp(s,a,Te,f,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(f=u[P],f!=null&&Ht(s,a,P,f,u,null))}function IR(s,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,T=null,C=null,P=null,Z=null,ue=null,Te=null;for(_e in u){var Se=u[_e];if(u.hasOwnProperty(_e)&&Se!=null)switch(_e){case"checked":break;case"value":break;case"defaultValue":Z=Se;default:f.hasOwnProperty(_e)||Ht(s,a,_e,null,f,Se)}}for(var de in f){var _e=f[de];if(Se=u[de],f.hasOwnProperty(de)&&(_e!=null||Se!=null))switch(de){case"type":T=_e;break;case"name":v=_e;break;case"checked":ue=_e;break;case"defaultChecked":Te=_e;break;case"value":C=_e;break;case"defaultValue":P=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,a));break;default:_e!==Se&&Ht(s,a,de,_e,f,Se)}}Vo(s,C,P,Z,ue,Te,T,v);return;case"select":_e=C=P=de=null;for(T in u)if(Z=u[T],u.hasOwnProperty(T)&&Z!=null)switch(T){case"value":break;case"multiple":_e=Z;default:f.hasOwnProperty(T)||Ht(s,a,T,null,f,Z)}for(v in f)if(T=f[v],Z=u[v],f.hasOwnProperty(v)&&(T!=null||Z!=null))switch(v){case"value":de=T;break;case"defaultValue":P=T;break;case"multiple":C=T;default:T!==Z&&Ht(s,a,v,T,f,Z)}a=P,u=C,f=_e,de!=null?Hs(s,!!u,de,!1):!!f!=!!u&&(a!=null?Hs(s,!!u,a,!0):Hs(s,!!u,u?[]:"",!1));return;case"textarea":_e=de=null;for(P in u)if(v=u[P],u.hasOwnProperty(P)&&v!=null&&!f.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Ht(s,a,P,null,f,v)}for(C in f)if(v=f[C],T=u[C],f.hasOwnProperty(C)&&(v!=null||T!=null))switch(C){case"value":de=v;break;case"defaultValue":_e=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==T&&Ht(s,a,C,v,f,T)}sf(s,de,_e);return;case"option":for(var Ke in u)if(de=u[Ke],u.hasOwnProperty(Ke)&&de!=null&&!f.hasOwnProperty(Ke))switch(Ke){case"selected":s.selected=!1;break;default:Ht(s,a,Ke,null,f,de)}for(Z in f)if(de=f[Z],_e=u[Z],f.hasOwnProperty(Z)&&de!==_e&&(de!=null||_e!=null))switch(Z){case"selected":s.selected=de&&typeof de!="function"&&typeof de!="symbol";break;default:Ht(s,a,Z,de,f,_e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in u)de=u[Ze],u.hasOwnProperty(Ze)&&de!=null&&!f.hasOwnProperty(Ze)&&Ht(s,a,Ze,null,f,de);for(ue in f)if(de=f[ue],_e=u[ue],f.hasOwnProperty(ue)&&de!==_e&&(de!=null||_e!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,a));break;default:Ht(s,a,ue,de,f,_e)}return;default:if(Uo(a)){for(var Gt in u)de=u[Gt],u.hasOwnProperty(Gt)&&de!==void 0&&!f.hasOwnProperty(Gt)&&Mp(s,a,Gt,void 0,f,de);for(Te in f)de=f[Te],_e=u[Te],!f.hasOwnProperty(Te)||de===_e||de===void 0&&_e===void 0||Mp(s,a,Te,de,f,_e);return}}for(var re in u)de=u[re],u.hasOwnProperty(re)&&de!=null&&!f.hasOwnProperty(re)&&Ht(s,a,re,null,f,de);for(Se in f)de=f[Se],_e=u[Se],!f.hasOwnProperty(Se)||de===_e||de==null&&_e==null||Ht(s,a,Se,de,f,_e)}function ly(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var v=u[f],T=v.transferSize,C=v.initiatorType,P=v.duration;if(T&&P&&ly(C)){for(C=0,P=v.responseEnd,f+=1;f<u.length;f++){var Z=u[f],ue=Z.startTime;if(ue>P)break;var Te=Z.transferSize,Se=Z.initiatorType;Te&&ly(Se)&&(Z=Z.responseEnd,C+=Te*(Z<P?1:(P-ue)/(Z-ue)))}if(--f,a+=8*(T+C)/(v.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var bp=null,Pp=null;function lh(s){return s.nodeType===9?s:s.ownerDocument}function uy(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cy(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Fp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Lp=null;function DR(){var s=window.event;return s&&s.type==="popstate"?s===Lp?!1:(Lp=s,!0):(Lp=null,!1)}var fy=typeof setTimeout=="function"?setTimeout:void 0,MR=typeof clearTimeout=="function"?clearTimeout:void 0,hy=typeof Promise=="function"?Promise:void 0,bR=typeof queueMicrotask=="function"?queueMicrotask:typeof hy<"u"?function(s){return hy.resolve(null).then(s).catch(PR)}:fy;function PR(s){setTimeout(function(){throw s})}function fa(s){return s==="head"}function dy(s,a){var u=a,f=0;do{var v=u.nextSibling;if(s.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(f===0){s.removeChild(v),Tl(a);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")$u(s.ownerDocument.documentElement);else if(u==="head"){u=s.ownerDocument.head,$u(u);for(var T=u.firstChild;T;){var C=T.nextSibling,P=T.nodeName;T[ce]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&T.rel.toLowerCase()==="stylesheet"||u.removeChild(T),T=C}}else u==="body"&&$u(s.ownerDocument.body);u=v}while(u);Tl(a)}function py(s,a){var u=s;s=0;do{var f=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(s===0)break;s--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||s++;u=f}while(u)}function kp(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":kp(u),Ne(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function FR(s,a,u,f){for(;s.nodeType===1;){var v=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[ce])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(T=s.getAttribute("rel"),T==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(T!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(T=s.getAttribute("src"),(T!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&T&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var T=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===T)return s}else return s;if(s=si(s.nextSibling),s===null)break}return null}function LR(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=si(s.nextSibling),s===null))return null;return s}function my(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=si(s.nextSibling),s===null))return null;return s}function Op(s){return s.data==="$?"||s.data==="$~"}function Vp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function kR(s,a){var u=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||u.readyState!=="loading")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function si(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Up=null;function gy(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"||u==="/&"){if(a===0)return si(s.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}s=s.nextSibling}return null}function _y(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return s;a--}else u!=="/$"&&u!=="/&"||a++}s=s.previousSibling}return null}function vy(s,a,u){switch(a=lh(u),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function $u(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Ne(s)}var ai=new Map,yy=new Set;function uh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ss=we.d;we.d={f:OR,r:VR,D:UR,C:BR,L:HR,m:GR,X:zR,S:qR,M:YR};function OR(){var s=Ss.f(),a=eh();return s||a}function VR(s){var a=Ve(s);a!==null&&a.tag===5&&a.type==="form"?k_(a):Ss.r(s)}var _l=typeof document>"u"?null:document;function Ty(s,a,u){var f=_l;if(f&&typeof a=="string"&&a){var v=Tr(a);v='link[rel="'+s+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),yy.has(v)||(yy.add(v),s={rel:s,crossOrigin:u,href:a},f.querySelector(v)===null&&(a=f.createElement("link"),zn(a,"link",s),We(a),f.head.appendChild(a)))}}function UR(s){Ss.D(s),Ty("dns-prefetch",s,null)}function BR(s,a){Ss.C(s,a),Ty("preconnect",s,a)}function HR(s,a,u){Ss.L(s,a,u);var f=_l;if(f&&s&&a){var v='link[rel="preload"][as="'+Tr(a)+'"]';a==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Tr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Tr(u.imageSizes)+'"]')):v+='[href="'+Tr(s)+'"]';var T=v;switch(a){case"style":T=vl(s);break;case"script":T=yl(s)}ai.has(T)||(s=y({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),ai.set(T,s),f.querySelector(v)!==null||a==="style"&&f.querySelector(Qu(T))||a==="script"&&f.querySelector(Zu(T))||(a=f.createElement("link"),zn(a,"link",s),We(a),f.head.appendChild(a)))}}function GR(s,a){Ss.m(s,a);var u=_l;if(u&&s){var f=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Tr(f)+'"][href="'+Tr(s)+'"]',T=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=yl(s)}if(!ai.has(T)&&(s=y({rel:"modulepreload",href:s},a),ai.set(T,s),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Zu(T)))return}f=u.createElement("link"),zn(f,"link",s),We(f),u.head.appendChild(f)}}}function qR(s,a,u){Ss.S(s,a,u);var f=_l;if(f&&s){var v=ke(f).hoistableStyles,T=vl(s);a=a||"default";var C=v.get(T);if(!C){var P={loading:0,preload:null};if(C=f.querySelector(Qu(T)))P.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},u),(u=ai.get(T))&&Bp(s,u);var Z=C=f.createElement("link");We(Z),zn(Z,"link",s),Z._p=new Promise(function(ue,Te){Z.onload=ue,Z.onerror=Te}),Z.addEventListener("load",function(){P.loading|=1}),Z.addEventListener("error",function(){P.loading|=2}),P.loading|=4,ch(C,a,f)}C={type:"stylesheet",instance:C,count:1,state:P},v.set(T,C)}}}function zR(s,a){Ss.X(s,a);var u=_l;if(u&&s){var f=ke(u).hoistableScripts,v=yl(s),T=f.get(v);T||(T=u.querySelector(Zu(v)),T||(s=y({src:s,async:!0},a),(a=ai.get(v))&&Hp(s,a),T=u.createElement("script"),We(T),zn(T,"link",s),u.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},f.set(v,T))}}function YR(s,a){Ss.M(s,a);var u=_l;if(u&&s){var f=ke(u).hoistableScripts,v=yl(s),T=f.get(v);T||(T=u.querySelector(Zu(v)),T||(s=y({src:s,async:!0,type:"module"},a),(a=ai.get(v))&&Hp(s,a),T=u.createElement("script"),We(T),zn(T,"link",s),u.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},f.set(v,T))}}function Ey(s,a,u,f){var v=(v=pe.current)?uh(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=vl(u.href),u=ke(v).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=vl(u.href);var T=ke(v).hoistableStyles,C=T.get(s);if(C||(v=v.ownerDocument||v,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(s,C),(T=v.querySelector(Qu(s)))&&!T._p&&(C.instance=T,C.state.loading=5),ai.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ai.set(s,u),T||KR(v,s,u,C.state))),a&&f===null)throw Error(r(528,""));return C}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=yl(u),u=ke(v).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function vl(s){return'href="'+Tr(s)+'"'}function Qu(s){return'link[rel="stylesheet"]['+s+"]"}function xy(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function KR(s,a,u,f){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=s.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),zn(a,"link",u),We(a),s.head.appendChild(a))}function yl(s){return'[src="'+Tr(s)+'"]'}function Zu(s){return"script[async]"+s}function Sy(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=s.querySelector('style[data-href~="'+Tr(u.href)+'"]');if(f)return a.instance=f,We(f),f;var v=y({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),We(f),zn(f,"style",v),ch(f,u.precedence,s),a.instance=f;case"stylesheet":v=vl(u.href);var T=s.querySelector(Qu(v));if(T)return a.state.loading|=4,a.instance=T,We(T),T;f=xy(u),(v=ai.get(v))&&Bp(f,v),T=(s.ownerDocument||s).createElement("link"),We(T);var C=T;return C._p=new Promise(function(P,Z){C.onload=P,C.onerror=Z}),zn(T,"link",f),a.state.loading|=4,ch(T,u.precedence,s),a.instance=T;case"script":return T=yl(u.src),(v=s.querySelector(Zu(T)))?(a.instance=v,We(v),v):(f=u,(v=ai.get(T))&&(f=y({},u),Hp(f,v)),s=s.ownerDocument||s,v=s.createElement("script"),We(v),zn(v,"link",f),s.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,ch(f,u.precedence,s));return a.instance}function ch(s,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,T=v,C=0;C<f.length;C++){var P=f[C];if(P.dataset.precedence===a)T=P;else if(T!==v)break}T?T.parentNode.insertBefore(s,T.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function Bp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Hp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var fh=null;function Ay(s,a,u){if(fh===null){var f=new Map,v=fh=new Map;v.set(u,f)}else v=fh,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),v=0;v<u.length;v++){var T=u[v];if(!(T[ce]||T[B]||s==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var C=T.getAttribute(a)||"";C=s+C;var P=f.get(C);P?P.push(T):f.set(C,[T])}}return f}function Cy(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function WR(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function wy(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function XR(s,a,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=vl(f.href),T=a.querySelector(Qu(v));if(T){a=T._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=hh.bind(s),a.then(s,s)),u.state.loading|=4,u.instance=T,We(T);return}T=a.ownerDocument||a,f=xy(f),(v=ai.get(v))&&Bp(f,v),T=T.createElement("link"),We(T);var C=T;C._p=new Promise(function(P,Z){C.onload=P,C.onerror=Z}),zn(T,"link",f),u.instance=T}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(s.count++,u=hh.bind(s),a.addEventListener("load",u),a.addEventListener("error",u))}}var Gp=0;function JR(s,a){return s.stylesheets&&s.count===0&&ph(s,s.stylesheets),0<s.count||0<s.imgCount?function(u){var f=setTimeout(function(){if(s.stylesheets&&ph(s,s.stylesheets),s.unsuspend){var T=s.unsuspend;s.unsuspend=null,T()}},6e4+a);0<s.imgBytes&&Gp===0&&(Gp=62500*NR());var v=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ph(s,s.stylesheets),s.unsuspend)){var T=s.unsuspend;s.unsuspend=null,T()}},(s.imgBytes>Gp?50:800)+a);return s.unsuspend=u,function(){s.unsuspend=null,clearTimeout(f),clearTimeout(v)}}:null}function hh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var dh=null;function ph(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,dh=new Map,a.forEach($R,s),dh=null,hh.call(s))}function $R(s,a){if(!(a.state.loading&4)){var u=dh.get(s);if(u)var f=u.get(null);else{u=new Map,dh.set(s,u);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<v.length;T++){var C=v[T];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),f=C)}f&&u.set(null,f)}v=a.instance,C=v.getAttribute("data-precedence"),T=u.get(C)||f,T===f&&u.set(null,v),u.set(C,v),this.count++,f=hh.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),T?T.parentNode.insertBefore(v,T.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),a.state.loading|=4}}var ju={$$typeof:G,Provider:null,Consumer:null,_currentValue:Be,_currentValue2:Be,_threadCount:0};function QR(s,a,u,f,v,T,C,P,Z){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=T,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function Ry(s,a,u,f,v,T,C,P,Z,ue,Te,Se){return s=new QR(s,a,u,C,Z,ue,Te,Se,P),a=1,T===!0&&(a|=24),T=kr(3,null,null,a),s.current=T,T.stateNode=s,a=E0(),a.refCount++,s.pooledCache=a,a.refCount++,T.memoizedState={element:f,isDehydrated:u,cache:a},C0(T),s}function Iy(s){return s?(s=$o,s):$o}function Ny(s,a,u,f,v,T){v=Iy(v),f.context===null?f.context=v:f.pendingContext=v,f=ea(a),f.payload={element:u},T=T===void 0?null:T,T!==null&&(f.callback=T),u=ta(s,f,a),u!==null&&(wr(u,s,a),Mu(u,s,a))}function Dy(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function qp(s,a){Dy(s,a),(s=s.alternate)&&Dy(s,a)}function My(s){if(s.tag===13||s.tag===31){var a=no(s,67108864);a!==null&&wr(a,s,67108864),qp(s,67108864)}}function by(s){if(s.tag===13||s.tag===31){var a=Hr();a=ss(a);var u=no(s,a);u!==null&&wr(u,s,a),qp(s,a)}}var mh=!0;function ZR(s,a,u,f){var v=ie.T;ie.T=null;var T=we.p;try{we.p=2,zp(s,a,u,f)}finally{we.p=T,ie.T=v}}function jR(s,a,u,f){var v=ie.T;ie.T=null;var T=we.p;try{we.p=8,zp(s,a,u,f)}finally{we.p=T,ie.T=v}}function zp(s,a,u,f){if(mh){var v=Yp(f);if(v===null)Dp(s,a,f,gh,u),Fy(s,f);else if(tI(v,s,a,u,f))f.stopPropagation();else if(Fy(s,f),a&4&&-1<eI.indexOf(s)){for(;v!==null;){var T=Ve(v);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var C=dr(T.pendingLanes);if(C!==0){var P=T;for(P.pendingLanes|=2,P.entangledLanes|=2;C;){var Z=1<<31-sn(C);P.entanglements[1]|=Z,C&=~Z}Gi(T),(Ct&6)===0&&(Zf=Xt()+500,Wu(0))}}break;case 31:case 13:P=no(T,2),P!==null&&wr(P,T,2),eh(),qp(T,2)}if(T=Yp(f),T===null&&Dp(s,a,f,gh,u),T===v)break;v=T}v!==null&&f.stopPropagation()}else Dp(s,a,f,null,u)}}function Yp(s){return s=$r(s),Kp(s)}var gh=null;function Kp(s){if(gh=null,s=Me(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=l(a),s!==null)return s;s=null}else if(u===31){if(s=c(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return gh=s,null}function Py(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wr()){case Zi:return 2;case ji:return 8;case er:case lu:return 32;case Ba:return 268435456;default:return 32}default:return 32}}var Wp=!1,ha=null,da=null,pa=null,ec=new Map,tc=new Map,ma=[],eI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fy(s,a){switch(s){case"focusin":case"focusout":ha=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":pa=null;break;case"pointerover":case"pointerout":ec.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(a.pointerId)}}function nc(s,a,u,f,v,T){return s===null||s.nativeEvent!==T?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:T,targetContainers:[v]},a!==null&&(a=Ve(a),a!==null&&My(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function tI(s,a,u,f,v){switch(a){case"focusin":return ha=nc(ha,s,a,u,f,v),!0;case"dragenter":return da=nc(da,s,a,u,f,v),!0;case"mouseover":return pa=nc(pa,s,a,u,f,v),!0;case"pointerover":var T=v.pointerId;return ec.set(T,nc(ec.get(T)||null,s,a,u,f,v)),!0;case"gotpointercapture":return T=v.pointerId,tc.set(T,nc(tc.get(T)||null,s,a,u,f,v)),!0}return!1}function Ly(s){var a=Me(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){s.blockedOn=a,Y(s.priority,function(){by(u)});return}}else if(a===31){if(a=c(u),a!==null){s.blockedOn=a,Y(s.priority,function(){by(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _h(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Yp(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);mu=f,u.target.dispatchEvent(f),mu=null}else return a=Ve(u),a!==null&&My(a),s.blockedOn=u,!1;a.shift()}return!0}function ky(s,a,u){_h(s)&&u.delete(a)}function nI(){Wp=!1,ha!==null&&_h(ha)&&(ha=null),da!==null&&_h(da)&&(da=null),pa!==null&&_h(pa)&&(pa=null),ec.forEach(ky),tc.forEach(ky)}function vh(s,a){s.blockedOn===a&&(s.blockedOn=null,Wp||(Wp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,nI)))}var yh=null;function Oy(s){yh!==s&&(yh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yh===s&&(yh=null);for(var a=0;a<s.length;a+=3){var u=s[a],f=s[a+1],v=s[a+2];if(typeof f!="function"){if(Kp(f||u)===null)continue;break}var T=Ve(u);T!==null&&(s.splice(a,3),a-=3,Y0(T,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function Tl(s){function a(Z){return vh(Z,s)}ha!==null&&vh(ha,s),da!==null&&vh(da,s),pa!==null&&vh(pa,s),ec.forEach(a),tc.forEach(a);for(var u=0;u<ma.length;u++){var f=ma[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<ma.length&&(u=ma[0],u.blockedOn===null);)Ly(u),u.blockedOn===null&&ma.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],T=u[f+1],C=v[z]||null;if(typeof T=="function")C||Oy(u);else if(C){var P=null;if(T&&T.hasAttribute("formAction")){if(v=T,C=T[z]||null)P=C.formAction;else if(Kp(v)!==null)continue}else P=C.action;typeof P=="function"?u[f+1]=P:(u.splice(f,3),f-=3),Oy(u)}}}function Vy(){function s(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(C){return v=C})},focusReset:"manual",scroll:"manual"})}function a(){v!==null&&(v(),v=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,v=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),v!==null&&(v(),v=null)}}}function Xp(s){this._internalRoot=s}Th.prototype.render=Xp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,f=Hr();Ny(u,f,s,a,null,null)},Th.prototype.unmount=Xp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ny(s.current,2,null,s,null,null),eh(),a[W]=null}};function Th(s){this._internalRoot=s}Th.prototype.unstable_scheduleHydration=function(s){if(s){var a=b();s={blockedOn:null,target:s,priority:a};for(var u=0;u<ma.length&&a!==0&&a<ma[u].priority;u++);ma.splice(u,0,s),u===0&&Ly(s)}};var Uy=e.version;if(Uy!=="19.2.1")throw Error(r(527,Uy,"19.2.1"));we.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=h(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var rI={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{yr=Eh.inject(rI),_n=Eh}catch{}}return ic.createRoot=function(s,a){if(!i(s))throw Error(r(299));var u=!1,f="",v=K_,T=W_,C=X_;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),a=Ry(s,1,!1,null,null,u,f,null,v,T,C,Vy),s[W]=a.current,Np(s),new Xp(a)},ic.hydrateRoot=function(s,a,u){if(!i(s))throw Error(r(299));var f=!1,v="",T=K_,C=W_,P=X_,Z=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(T=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.formState!==void 0&&(Z=u.formState)),a=Ry(s,1,!0,a,u??null,f,v,Z,T,C,P,Vy),a.context=Iy(null),u=a.current,f=Hr(),f=ss(f),v=ea(f),v.callback=null,ta(u,v,f),u=f,a.current.lanes=u,ns(a,u),Gi(a),s[W]=a.current,Np(s),new Th(a)},ic.version="19.2.1",ic}var Jy;function pI(){if(Jy)return Qp.exports;Jy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qp.exports=dI(),Qp.exports}var mI=pI();const gI=IS(mI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),$y=t=>{const e=vI(t);return e.charAt(0).toUpperCase()+e.slice(1)},NS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),yI=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=qt.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},d)=>qt.createElement("svg",{ref:d,...TI,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:NS("lucide",i),...!o&&!yI(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,m])=>qt.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=(t,e)=>{const n=qt.forwardRef(({className:r,...i},o)=>qt.createElement(EI,{ref:o,iconNode:e,className:NS(`lucide-${_I($y(t))}`,`lucide-${t}`,r),...i}));return n.displayName=$y(t),n};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],SI=tn("arrow-right",xI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],CI=tn("calendar",AI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qy=tn("circle-alert",wI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],II=tn("circle-check",RI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],tm=tn("database",NI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Zy=tn("download",DI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],bI=tn("gift",MI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],FI=tn("heart",PI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],jy=tn("image",LI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],OI=tn("info",kI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],UI=tn("key",VI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],DS=tn("loader-circle",BI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Am=tn("lock",HI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MS=tn("map-pin",GI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],zI=tn("message-circle",qI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],eT=tn("message-square",YI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],WI=tn("rotate-ccw",KI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],JI=tn("send",XI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xh=tn("settings",$I);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tT=tn("sparkles",QI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],nT=tn("type",ZI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],e4=tn("upload",jI);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],n4=tn("user",t4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],i4=tn("users",r4);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],rT=tn("x",s4),a4=["Ahuachapn","Cabaas","Chalatenango","Cuscatln","La Libertad","La Paz","La Unin","Morazn","San Miguel","San Salvador","San Vicente","Santa Ana","Sonsonate","Usulutn"],nm={eventDate:"23 de Diciembre",maxRegistrations:1e3,isRegistrationOpen:!0,heroTitle:"Llevando Sonrisas a El Salvador",heroSubtitle:"Gran Entrega de Juguetes 2025 - Fundacin Bukele",heroBackgroundImage:"",infoTargetTitle:"Para quin es?",infoTargetDescription:"Exclusivo para nios y nias salvadoreos de 0 a 10 aos de edad. Queremos que los ms pequeos disfruten la magia de la Navidad.",infoRequirementsTitle:"Requisitos",infoRequirementsDescription:"Es indispensable contar con tu Nmero de Invitacin vlido y registrar un nmero de WhatsApp activo para recibir la confirmacin.",infoLocationTitle:"Lugar y Hora",infoLocationDescription:"Por seguridad y orden, la ubicacin exacta y la hora de tu turno sern enviadas exclusivamente a tu WhatsApp registrado.",defaultDepartment:"Santa Ana",defaultMunicipality:"Santa Ana Este",defaultDistrict:"El Congo",orgPhoneNumber:"50360605555",whatsappTemplate:"Hola {name}, hemos recibido tu registro para la entrega de juguetes de la Fundacin Bukele. Has inscrito {count} {gender}. El evento se realizar el da {date}. Los detalles de lugar y hora te los enviaremos por este mismo medio. Te sugerimos guardar este nmero para futuras comunicaciones. Bendiciones para tu familia!"},bS=qt.createContext(void 0),rm="juguetes_app_config_v1",o4=({children:t})=>{const[e,n]=qt.useState(nm);qt.useEffect(()=>{const o=localStorage.getItem(rm);if(o)try{n({...nm,...JSON.parse(o)})}catch(l){console.error("Failed to parse config",l)}},[]);const r=o=>{n(l=>{const c={...l,...o};return localStorage.setItem(rm,JSON.stringify(c)),c})},i=()=>{n(nm),localStorage.removeItem(rm)};return H.jsx(bS.Provider,{value:{config:e,updateConfig:r,resetConfig:i},children:t})},Rd=()=>{const t=qt.useContext(bS);if(!t)throw new Error("useConfig must be used within a ConfigProvider");return t},l4=()=>{const{config:t}=Rd(),e=t.heroBackgroundImage?{backgroundImage:`linear-gradient(rgba(30, 58, 138, 0.8), rgba(30, 58, 138, 0.9)), url(${t.heroBackgroundImage})`,backgroundSize:"cover",backgroundPosition:"center"}:{background:`
          linear-gradient(135deg, rgba(30, 58, 138, 1) 0%, rgba(30, 64, 175, 1) 100%),
          url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")
        `};return H.jsxs("div",{className:"relative text-white overflow-hidden",style:e,children:[!t.heroBackgroundImage&&H.jsx("div",{className:"absolute top-0 right-0 -mt-20 -mr-20 w-96 h-96 bg-white opacity-5 rounded-full blur-3xl pointer-events-none"}),H.jsxs("div",{className:"container mx-auto px-4 py-16 md:py-24 relative z-10 text-center",children:[H.jsx("div",{className:"flex justify-center mb-6",children:H.jsx("div",{className:"bg-white/20 p-4 rounded-full backdrop-blur-sm shadow-xl animate-fade-in-up",children:H.jsx(bI,{className:"w-12 h-12 md:w-16 md:h-16 text-yellow-300"})})}),H.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 tracking-tight leading-tight drop-shadow-md animate-fade-in-up delay-100",children:t.heroTitle}),H.jsx("h2",{className:"text-xl md:text-2xl font-light text-blue-100 mb-8 max-w-3xl mx-auto drop-shadow-sm animate-fade-in-up delay-200",children:t.heroSubtitle}),H.jsxs("div",{className:"flex flex-col md:flex-row justify-center gap-4 md:gap-8 items-center text-blue-50 animate-fade-in-up delay-300",children:[H.jsxs("div",{className:"flex items-center gap-2 bg-blue-800/50 px-6 py-2 rounded-full backdrop-blur-md border border-blue-400/30 shadow-sm",children:[H.jsx(CI,{className:"w-5 h-5"}),H.jsx("span",{className:"font-semibold",children:t.eventDate})]}),H.jsxs("div",{className:"flex items-center gap-2 drop-shadow-sm",children:[H.jsx(FI,{className:"w-5 h-5 text-red-400 fill-current"}),H.jsx("span",{children:"Un compromiso con nuestra niez"})]})]})]})]})},u4=()=>{const{config:t}=Rd();return H.jsx("section",{className:"py-12 bg-white border-b border-slate-200",children:H.jsxs("div",{className:"container mx-auto px-4",children:[H.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-center md:text-left",children:[H.jsxs("div",{className:"p-6 bg-slate-50 rounded-xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow",children:[H.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-lg flex items-center justify-center mb-4 mx-auto md:mx-0",children:H.jsx(i4,{className:"text-blue-600 w-6 h-6"})}),H.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:t.infoTargetTitle}),H.jsx("p",{className:"text-slate-600 text-sm leading-relaxed whitespace-pre-wrap",children:t.infoTargetDescription})]}),H.jsxs("div",{className:"p-6 bg-slate-50 rounded-xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow",children:[H.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-lg flex items-center justify-center mb-4 mx-auto md:mx-0",children:H.jsx(OI,{className:"text-blue-600 w-6 h-6"})}),H.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:t.infoRequirementsTitle}),H.jsx("p",{className:"text-slate-600 text-sm leading-relaxed whitespace-pre-wrap",children:t.infoRequirementsDescription})]}),H.jsxs("div",{className:"p-6 bg-slate-50 rounded-xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow",children:[H.jsx("div",{className:"bg-blue-100 w-12 h-12 rounded-lg flex items-center justify-center mb-4 mx-auto md:mx-0",children:H.jsx(MS,{className:"text-blue-600 w-6 h-6"})}),H.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:t.infoLocationTitle}),H.jsx("p",{className:"text-slate-600 text-sm leading-relaxed whitespace-pre-wrap",children:t.infoLocationDescription})]})]}),H.jsxs("div",{className:"mt-8 bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-start gap-3",children:[H.jsx(zI,{className:"text-amber-600 w-5 h-5 flex-shrink-0 mt-0.5"}),H.jsxs("p",{className:"text-amber-800 text-sm",children:[H.jsx("strong",{children:"Importante:"})," Mantente atento a tu WhatsApp. Toda la comunicacin oficial se realizar por ese medio digital."]})]})]})})},c4=()=>{};var iT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},f4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},FS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,m=o>>2,y=(o&3)<<4|c>>4;let E=(c&15)<<2|h>>6,x=h&63;d||(x=64,l||(E=64)),r.push(n[m],n[y],n[E],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):f4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||h==null||y==null)throw new h4;const E=o<<2|c>>4;if(r.push(E),h!==64){const x=c<<4&240|h>>2;if(r.push(x),y!==64){const R=h<<6&192|y;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class h4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d4=function(t){const e=PS(t);return FS.encodeByteArray(e,!0)},Kh=function(t){return d4(t).replace(/\./g,"")},p4=function(t){try{return FS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=()=>m4().__FIREBASE_DEFAULTS__,_4=()=>{if(typeof process>"u"||typeof iT>"u")return;const t=iT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&p4(t[1]);return e&&JSON.parse(e)},lg=()=>{try{return c4()||g4()||_4()||v4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},y4=t=>{var e,n;return(n=(e=lg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},T4=t=>{const e=y4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LS=()=>{var t;return(t=lg())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Kh(JSON.stringify(n)),Kh(JSON.stringify(l)),""].join(".")}const pc={};function A4(){const t={prod:[],emulator:[]};for(const e of Object.keys(pc))pc[e]?t.emulator.push(e):t.prod.push(e);return t}function C4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sT=!1;function w4(t,e){if(typeof window>"u"||typeof document>"u"||!ug(window.location.host)||pc[t]===e||pc[t]||sT)return;pc[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",o=A4().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function c(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function d(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function h(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{sT=!0,l()},E}function m(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function y(){const E=C4(r),x=n("text"),R=document.getElementById(x)||document.createElement("span"),A=n("learnmore"),I=document.getElementById(A)||document.createElement("a"),q=n("preprendIcon"),X=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const G=E.element;c(G),m(I,A);const te=h();d(X,q),G.append(X,R,I,te),document.body.appendChild(G)}o?(R.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I4(){var e;const t=(e=lg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N4(){return!I4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D4(){try{return typeof indexedDB=="object"}catch{return!1}}function M4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="FirebaseError";class Jl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=b4,Object.setPrototypeOf(this,Jl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kS.prototype.create)}}class kS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?P4(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Jl(i,c,r)}}function P4(t,e){return t.replace(F4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const F4=/\{\$([^}]+)}/g;function Wh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(aT(o)&&aT(l)){if(!Wh(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function aT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){return t&&t._delegate?t._delegate:t}class Nc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new E4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O4(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k4(t){return t===go?void 0:t}function O4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new L4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yt||(yt={}));const U4={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},B4=yt.INFO,H4={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},G4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=H4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class OS{constructor(e){this.name=e,this._logLevel=B4,this._logHandler=G4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const q4=(t,e)=>e.some(n=>t instanceof n);let oT,lT;function z4(){return oT||(oT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y4(){return lT||(lT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VS=new WeakMap,Cm=new WeakMap,US=new WeakMap,im=new WeakMap,cg=new WeakMap;function K4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Aa(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&VS.set(n,t)}).catch(()=>{}),cg.set(e,t),e}function W4(t){if(Cm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Cm.set(t,e)}let wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||US.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Aa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function X4(t){wm=t(wm)}function J4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sm(this),e,...n);return US.set(r,e.sort?e.sort():[e]),Aa(r)}:Y4().includes(t)?function(...e){return t.apply(sm(this),e),Aa(VS.get(this))}:function(...e){return Aa(t.apply(sm(this),e))}}function $4(t){return typeof t=="function"?J4(t):(t instanceof IDBTransaction&&W4(t),q4(t,z4())?new Proxy(t,wm):t)}function Aa(t){if(t instanceof IDBRequest)return K4(t);if(im.has(t))return im.get(t);const e=$4(t);return e!==t&&(im.set(t,e),cg.set(e,t)),e}const sm=t=>cg.get(t);function Q4(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=Aa(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Aa(l.result),d.oldVersion,d.newVersion,Aa(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const Z4=["get","getKey","getAll","getAllKeys","count"],j4=["put","add","delete","clear"],am=new Map;function uT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=j4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Z4.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&d.done]))[0]};return am.set(e,o),o}X4(t=>({...t,get:(e,n,r)=>uT(e,n)||t.get(e,n,r),has:(e,n)=>!!uT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rm="@firebase/app",cT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new OS("@firebase/app"),nN="@firebase/app-compat",rN="@firebase/analytics-compat",iN="@firebase/analytics",sN="@firebase/app-check-compat",aN="@firebase/app-check",oN="@firebase/auth",lN="@firebase/auth-compat",uN="@firebase/database",cN="@firebase/data-connect",fN="@firebase/database-compat",hN="@firebase/functions",dN="@firebase/functions-compat",pN="@firebase/installations",mN="@firebase/installations-compat",gN="@firebase/messaging",_N="@firebase/messaging-compat",vN="@firebase/performance",yN="@firebase/performance-compat",TN="@firebase/remote-config",EN="@firebase/remote-config-compat",xN="@firebase/storage",SN="@firebase/storage-compat",AN="@firebase/firestore",CN="@firebase/ai",wN="@firebase/firestore-compat",RN="firebase",IN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",NN={[Rm]:"fire-core",[nN]:"fire-core-compat",[iN]:"fire-analytics",[rN]:"fire-analytics-compat",[aN]:"fire-app-check",[sN]:"fire-app-check-compat",[oN]:"fire-auth",[lN]:"fire-auth-compat",[uN]:"fire-rtdb",[cN]:"fire-data-connect",[fN]:"fire-rtdb-compat",[hN]:"fire-fn",[dN]:"fire-fn-compat",[pN]:"fire-iid",[mN]:"fire-iid-compat",[gN]:"fire-fcm",[_N]:"fire-fcm-compat",[vN]:"fire-perf",[yN]:"fire-perf-compat",[TN]:"fire-rc",[EN]:"fire-rc-compat",[xN]:"fire-gcs",[SN]:"fire-gcs-compat",[AN]:"fire-fst",[wN]:"fire-fst-compat",[CN]:"fire-vertex","fire-js":"fire-js",[RN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Map,DN=new Map,Nm=new Map;function fT(t,e){try{t.container.addComponent(e)}catch(n){Ns.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jh(t){const e=t.name;if(Nm.has(e))return Ns.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,t);for(const n of Xh.values())fT(n,t);for(const n of DN.values())fT(n,t);return!0}function MN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bN(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ca=new kS("app","Firebase",PN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=IN;function BS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Im,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ca.create("bad-app-name",{appName:String(i)});if(n||(n=LS()),!n)throw Ca.create("no-options");const o=Xh.get(i);if(o){if(Wh(n,o.options)&&Wh(r,o.config))return o;throw Ca.create("duplicate-app",{appName:i})}const l=new V4(i);for(const d of Nm.values())l.addComponent(d);const c=new FN(n,r,l);return Xh.set(i,c),c}function kN(t=Im){const e=Xh.get(t);if(!e&&t===Im&&LS())return BS();if(!e)throw Ca.create("no-app",{appName:t});return e}function Dl(t,e,n){let r=NN[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ns.warn(l.join(" "));return}Jh(new Nc(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="firebase-heartbeat-database",VN=1,Dc="firebase-heartbeat-store";let om=null;function HS(){return om||(om=Q4(ON,VN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ca.create("idb-open",{originalErrorMessage:t.message})})),om}async function UN(t){try{const n=(await HS()).transaction(Dc),r=await n.objectStore(Dc).get(GS(t));return await n.done,r}catch(e){if(e instanceof Jl)Ns.warn(e.message);else{const n=Ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ns.warn(n.message)}}}async function hT(t,e){try{const r=(await HS()).transaction(Dc,"readwrite");await r.objectStore(Dc).put(e,GS(t)),await r.done}catch(n){if(n instanceof Jl)Ns.warn(n.message);else{const r=Ca.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ns.warn(r.message)}}}function GS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=1024,HN=30;class GN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=dT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>HN){const l=YN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ns.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dT(),{heartbeatsToSend:r,unsentEntries:i}=qN(this._heartbeatsCache.heartbeats),o=Kh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ns.warn(n),""}}}function dT(){return new Date().toISOString().substring(0,10)}function qN(t,e=BN){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),pT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D4()?M4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pT(t){return Kh(JSON.stringify({version:2,heartbeats:t})).length}function YN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t){Jh(new Nc("platform-logger",e=>new eN(e),"PRIVATE")),Jh(new Nc("heartbeat",e=>new GN(e),"PRIVATE")),Dl(Rm,cT,t),Dl(Rm,cT,"esm2020"),Dl("fire-js","")}KN("");var WN="firebase",XN="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dl(WN,XN,"app");var mT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wa,qS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,M){function D(){}D.prototype=M.prototype,N.F=M.prototype,N.prototype=new D,N.prototype.constructor=N,N.D=function(k,F,K){for(var L=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)L[Ye-2]=arguments[Ye];return M.prototype[F].apply(k,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,M,D){D||(D=0);const k=Array(16);if(typeof M=="string")for(var F=0;F<16;++F)k[F]=M.charCodeAt(D++)|M.charCodeAt(D++)<<8|M.charCodeAt(D++)<<16|M.charCodeAt(D++)<<24;else for(F=0;F<16;++F)k[F]=M[D++]|M[D++]<<8|M[D++]<<16|M[D++]<<24;M=N.g[0],D=N.g[1],F=N.g[2];let K=N.g[3],L;L=M+(K^D&(F^K))+k[0]+3614090360&4294967295,M=D+(L<<7&4294967295|L>>>25),L=K+(F^M&(D^F))+k[1]+3905402710&4294967295,K=M+(L<<12&4294967295|L>>>20),L=F+(D^K&(M^D))+k[2]+606105819&4294967295,F=K+(L<<17&4294967295|L>>>15),L=D+(M^F&(K^M))+k[3]+3250441966&4294967295,D=F+(L<<22&4294967295|L>>>10),L=M+(K^D&(F^K))+k[4]+4118548399&4294967295,M=D+(L<<7&4294967295|L>>>25),L=K+(F^M&(D^F))+k[5]+1200080426&4294967295,K=M+(L<<12&4294967295|L>>>20),L=F+(D^K&(M^D))+k[6]+2821735955&4294967295,F=K+(L<<17&4294967295|L>>>15),L=D+(M^F&(K^M))+k[7]+4249261313&4294967295,D=F+(L<<22&4294967295|L>>>10),L=M+(K^D&(F^K))+k[8]+1770035416&4294967295,M=D+(L<<7&4294967295|L>>>25),L=K+(F^M&(D^F))+k[9]+2336552879&4294967295,K=M+(L<<12&4294967295|L>>>20),L=F+(D^K&(M^D))+k[10]+4294925233&4294967295,F=K+(L<<17&4294967295|L>>>15),L=D+(M^F&(K^M))+k[11]+2304563134&4294967295,D=F+(L<<22&4294967295|L>>>10),L=M+(K^D&(F^K))+k[12]+1804603682&4294967295,M=D+(L<<7&4294967295|L>>>25),L=K+(F^M&(D^F))+k[13]+4254626195&4294967295,K=M+(L<<12&4294967295|L>>>20),L=F+(D^K&(M^D))+k[14]+2792965006&4294967295,F=K+(L<<17&4294967295|L>>>15),L=D+(M^F&(K^M))+k[15]+1236535329&4294967295,D=F+(L<<22&4294967295|L>>>10),L=M+(F^K&(D^F))+k[1]+4129170786&4294967295,M=D+(L<<5&4294967295|L>>>27),L=K+(D^F&(M^D))+k[6]+3225465664&4294967295,K=M+(L<<9&4294967295|L>>>23),L=F+(M^D&(K^M))+k[11]+643717713&4294967295,F=K+(L<<14&4294967295|L>>>18),L=D+(K^M&(F^K))+k[0]+3921069994&4294967295,D=F+(L<<20&4294967295|L>>>12),L=M+(F^K&(D^F))+k[5]+3593408605&4294967295,M=D+(L<<5&4294967295|L>>>27),L=K+(D^F&(M^D))+k[10]+38016083&4294967295,K=M+(L<<9&4294967295|L>>>23),L=F+(M^D&(K^M))+k[15]+3634488961&4294967295,F=K+(L<<14&4294967295|L>>>18),L=D+(K^M&(F^K))+k[4]+3889429448&4294967295,D=F+(L<<20&4294967295|L>>>12),L=M+(F^K&(D^F))+k[9]+568446438&4294967295,M=D+(L<<5&4294967295|L>>>27),L=K+(D^F&(M^D))+k[14]+3275163606&4294967295,K=M+(L<<9&4294967295|L>>>23),L=F+(M^D&(K^M))+k[3]+4107603335&4294967295,F=K+(L<<14&4294967295|L>>>18),L=D+(K^M&(F^K))+k[8]+1163531501&4294967295,D=F+(L<<20&4294967295|L>>>12),L=M+(F^K&(D^F))+k[13]+2850285829&4294967295,M=D+(L<<5&4294967295|L>>>27),L=K+(D^F&(M^D))+k[2]+4243563512&4294967295,K=M+(L<<9&4294967295|L>>>23),L=F+(M^D&(K^M))+k[7]+1735328473&4294967295,F=K+(L<<14&4294967295|L>>>18),L=D+(K^M&(F^K))+k[12]+2368359562&4294967295,D=F+(L<<20&4294967295|L>>>12),L=M+(D^F^K)+k[5]+4294588738&4294967295,M=D+(L<<4&4294967295|L>>>28),L=K+(M^D^F)+k[8]+2272392833&4294967295,K=M+(L<<11&4294967295|L>>>21),L=F+(K^M^D)+k[11]+1839030562&4294967295,F=K+(L<<16&4294967295|L>>>16),L=D+(F^K^M)+k[14]+4259657740&4294967295,D=F+(L<<23&4294967295|L>>>9),L=M+(D^F^K)+k[1]+2763975236&4294967295,M=D+(L<<4&4294967295|L>>>28),L=K+(M^D^F)+k[4]+1272893353&4294967295,K=M+(L<<11&4294967295|L>>>21),L=F+(K^M^D)+k[7]+4139469664&4294967295,F=K+(L<<16&4294967295|L>>>16),L=D+(F^K^M)+k[10]+3200236656&4294967295,D=F+(L<<23&4294967295|L>>>9),L=M+(D^F^K)+k[13]+681279174&4294967295,M=D+(L<<4&4294967295|L>>>28),L=K+(M^D^F)+k[0]+3936430074&4294967295,K=M+(L<<11&4294967295|L>>>21),L=F+(K^M^D)+k[3]+3572445317&4294967295,F=K+(L<<16&4294967295|L>>>16),L=D+(F^K^M)+k[6]+76029189&4294967295,D=F+(L<<23&4294967295|L>>>9),L=M+(D^F^K)+k[9]+3654602809&4294967295,M=D+(L<<4&4294967295|L>>>28),L=K+(M^D^F)+k[12]+3873151461&4294967295,K=M+(L<<11&4294967295|L>>>21),L=F+(K^M^D)+k[15]+530742520&4294967295,F=K+(L<<16&4294967295|L>>>16),L=D+(F^K^M)+k[2]+3299628645&4294967295,D=F+(L<<23&4294967295|L>>>9),L=M+(F^(D|~K))+k[0]+4096336452&4294967295,M=D+(L<<6&4294967295|L>>>26),L=K+(D^(M|~F))+k[7]+1126891415&4294967295,K=M+(L<<10&4294967295|L>>>22),L=F+(M^(K|~D))+k[14]+2878612391&4294967295,F=K+(L<<15&4294967295|L>>>17),L=D+(K^(F|~M))+k[5]+4237533241&4294967295,D=F+(L<<21&4294967295|L>>>11),L=M+(F^(D|~K))+k[12]+1700485571&4294967295,M=D+(L<<6&4294967295|L>>>26),L=K+(D^(M|~F))+k[3]+2399980690&4294967295,K=M+(L<<10&4294967295|L>>>22),L=F+(M^(K|~D))+k[10]+4293915773&4294967295,F=K+(L<<15&4294967295|L>>>17),L=D+(K^(F|~M))+k[1]+2240044497&4294967295,D=F+(L<<21&4294967295|L>>>11),L=M+(F^(D|~K))+k[8]+1873313359&4294967295,M=D+(L<<6&4294967295|L>>>26),L=K+(D^(M|~F))+k[15]+4264355552&4294967295,K=M+(L<<10&4294967295|L>>>22),L=F+(M^(K|~D))+k[6]+2734768916&4294967295,F=K+(L<<15&4294967295|L>>>17),L=D+(K^(F|~M))+k[13]+1309151649&4294967295,D=F+(L<<21&4294967295|L>>>11),L=M+(F^(D|~K))+k[4]+4149444226&4294967295,M=D+(L<<6&4294967295|L>>>26),L=K+(D^(M|~F))+k[11]+3174756917&4294967295,K=M+(L<<10&4294967295|L>>>22),L=F+(M^(K|~D))+k[2]+718787259&4294967295,F=K+(L<<15&4294967295|L>>>17),L=D+(K^(F|~M))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+M&4294967295,N.g[1]=N.g[1]+(F+(L<<21&4294967295|L>>>11))&4294967295,N.g[2]=N.g[2]+F&4294967295,N.g[3]=N.g[3]+K&4294967295}r.prototype.v=function(N,M){M===void 0&&(M=N.length);const D=M-this.blockSize,k=this.C;let F=this.h,K=0;for(;K<M;){if(F==0)for(;K<=D;)i(this,N,K),K+=this.blockSize;if(typeof N=="string"){for(;K<M;)if(k[F++]=N.charCodeAt(K++),F==this.blockSize){i(this,k),F=0;break}}else for(;K<M;)if(k[F++]=N[K++],F==this.blockSize){i(this,k),F=0;break}}this.h=F,this.o+=M},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var M=1;M<N.length-8;++M)N[M]=0;M=this.o*8;for(var D=N.length-8;D<N.length;++D)N[D]=M&255,M/=256;for(this.v(N),N=Array(16),M=0,D=0;D<4;++D)for(let k=0;k<32;k+=8)N[M++]=this.g[D]>>>k&255;return N};function o(N,M){var D=c;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=M(N)}function l(N,M){this.h=M;const D=[];let k=!0;for(let F=N.length-1;F>=0;F--){const K=N[F]|0;k&&K==M||(D[F]=K,k=!1)}this.g=D}var c={};function d(N){return-128<=N&&N<128?o(N,function(M){return new l([M|0],M<0?-1:0)}):new l([N|0],N<0?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return y;if(N<0)return I(h(-N));const M=[];let D=1;for(let k=0;N>=D;k++)M[k]=N/D|0,D*=4294967296;return new l(M,0)}function m(N,M){if(N.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(N.charAt(0)=="-")return I(m(N.substring(1),M));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=h(Math.pow(M,8));let k=y;for(let K=0;K<N.length;K+=8){var F=Math.min(8,N.length-K);const L=parseInt(N.substring(K,K+F),M);F<8?(F=h(Math.pow(M,F)),k=k.j(F).add(h(L))):(k=k.j(D),k=k.add(h(L)))}return k}var y=d(0),E=d(1),x=d(16777216);t=l.prototype,t.m=function(){if(A(this))return-I(this).m();let N=0,M=1;for(let D=0;D<this.g.length;D++){const k=this.i(D);N+=(k>=0?k:4294967296+k)*M,M*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(R(this))return"0";if(A(this))return"-"+I(this).toString(N);const M=h(Math.pow(N,6));var D=this;let k="";for(;;){const F=te(D,M).g;D=q(D,F.j(M));let K=((D.g.length>0?D.g[0]:D.h)>>>0).toString(N);if(D=F,R(D))return K+k;for(;K.length<6;)K="0"+K;k=K+k}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function R(N){if(N.h!=0)return!1;for(let M=0;M<N.g.length;M++)if(N.g[M]!=0)return!1;return!0}function A(N){return N.h==-1}t.l=function(N){return N=q(this,N),A(N)?-1:R(N)?0:1};function I(N){const M=N.g.length,D=[];for(let k=0;k<M;k++)D[k]=~N.g[k];return new l(D,~N.h).add(E)}t.abs=function(){return A(this)?I(this):this},t.add=function(N){const M=Math.max(this.g.length,N.g.length),D=[];let k=0;for(let F=0;F<=M;F++){let K=k+(this.i(F)&65535)+(N.i(F)&65535),L=(K>>>16)+(this.i(F)>>>16)+(N.i(F)>>>16);k=L>>>16,K&=65535,L&=65535,D[F]=L<<16|K}return new l(D,D[D.length-1]&-2147483648?-1:0)};function q(N,M){return N.add(I(M))}t.j=function(N){if(R(this)||R(N))return y;if(A(this))return A(N)?I(this).j(I(N)):I(I(this).j(N));if(A(N))return I(this.j(I(N)));if(this.l(x)<0&&N.l(x)<0)return h(this.m()*N.m());const M=this.g.length+N.g.length,D=[];for(var k=0;k<2*M;k++)D[k]=0;for(k=0;k<this.g.length;k++)for(let F=0;F<N.g.length;F++){const K=this.i(k)>>>16,L=this.i(k)&65535,Ye=N.i(F)>>>16,Ee=N.i(F)&65535;D[2*k+2*F]+=L*Ee,X(D,2*k+2*F),D[2*k+2*F+1]+=K*Ee,X(D,2*k+2*F+1),D[2*k+2*F+1]+=L*Ye,X(D,2*k+2*F+1),D[2*k+2*F+2]+=K*Ye,X(D,2*k+2*F+2)}for(N=0;N<M;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=M;N<2*M;N++)D[N]=0;return new l(D,0)};function X(N,M){for(;(N[M]&65535)!=N[M];)N[M+1]+=N[M]>>>16,N[M]&=65535,M++}function G(N,M){this.g=N,this.h=M}function te(N,M){if(R(M))throw Error("division by zero");if(R(N))return new G(y,y);if(A(N))return M=te(I(N),M),new G(I(M.g),I(M.h));if(A(M))return M=te(N,I(M)),new G(I(M.g),M.h);if(N.g.length>30){if(A(N)||A(M))throw Error("slowDivide_ only works with positive integers.");for(var D=E,k=M;k.l(N)<=0;)D=he(D),k=he(k);var F=me(D,1),K=me(k,1);for(k=me(k,2),D=me(D,2);!R(k);){var L=K.add(k);L.l(N)<=0&&(F=F.add(D),K=L),k=me(k,1),D=me(D,1)}return M=q(N,F.j(M)),new G(F,M)}for(F=y;N.l(M)>=0;){for(D=Math.max(1,Math.floor(N.m()/M.m())),k=Math.ceil(Math.log(D)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),K=h(D),L=K.j(M);A(L)||L.l(N)>0;)D-=k,K=h(D),L=K.j(M);R(K)&&(K=E),F=F.add(K),N=q(N,L)}return new G(F,N)}t.B=function(N){return te(this,N).h},t.and=function(N){const M=Math.max(this.g.length,N.g.length),D=[];for(let k=0;k<M;k++)D[k]=this.i(k)&N.i(k);return new l(D,this.h&N.h)},t.or=function(N){const M=Math.max(this.g.length,N.g.length),D=[];for(let k=0;k<M;k++)D[k]=this.i(k)|N.i(k);return new l(D,this.h|N.h)},t.xor=function(N){const M=Math.max(this.g.length,N.g.length),D=[];for(let k=0;k<M;k++)D[k]=this.i(k)^N.i(k);return new l(D,this.h^N.h)};function he(N){const M=N.g.length+1,D=[];for(let k=0;k<M;k++)D[k]=N.i(k)<<1|N.i(k-1)>>>31;return new l(D,N.h)}function me(N,M){const D=M>>5;M%=32;const k=N.g.length-D,F=[];for(let K=0;K<k;K++)F[K]=M>0?N.i(K+D)>>>M|N.i(K+D+1)<<32-M:N.i(K+D);return new l(F,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,wa=l}).apply(typeof mT<"u"?mT:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zS,cc,YS,Oh,Dm,KS,WS,XS;(function(){var t,e=Object.defineProperty;function n(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var S=0;S<_.length;++S){var w=_[S];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(_,S){if(S)e:{var w=r;_=_.split(".");for(var U=0;U<_.length-1;U++){var se=_[U];if(!(se in w))break e;w=w[se]}_=_[_.length-1],U=w[_],S=S(U),S!=U&&S!=null&&e(w,_,{configurable:!0,writable:!0,value:S})}}i("Symbol.dispose",function(_){return _||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(_){return _||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(_){return _||function(S){var w=[],U;for(U in S)Object.prototype.hasOwnProperty.call(S,U)&&w.push([U,S[U]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(_){var S=typeof _;return S=="object"&&_!=null||S=="function"}function d(_,S,w){return _.call.apply(_.bind,arguments)}function h(_,S,w){return h=d,h.apply(null,arguments)}function m(_,S){var w=Array.prototype.slice.call(arguments,1);return function(){var U=w.slice();return U.push.apply(U,arguments),_.apply(this,U)}}function y(_,S){function w(){}w.prototype=S.prototype,_.Z=S.prototype,_.prototype=new w,_.prototype.constructor=_,_.Ob=function(U,se,ge){for(var Le=Array(arguments.length-2),it=2;it<arguments.length;it++)Le[it-2]=arguments[it];return S.prototype[se].apply(U,Le)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?_=>_&&AsyncContext.Snapshot.wrap(_):_=>_;function x(_){const S=_.length;if(S>0){const w=Array(S);for(let U=0;U<S;U++)w[U]=_[U];return w}return[]}function R(_,S){for(let U=1;U<arguments.length;U++){const se=arguments[U];var w=typeof se;if(w=w!="object"?w:se?Array.isArray(se)?"array":w:"null",w=="array"||w=="object"&&typeof se.length=="number"){w=_.length||0;const ge=se.length||0;_.length=w+ge;for(let Le=0;Le<ge;Le++)_[w+Le]=se[Le]}else _.push(se)}}class A{constructor(S,w){this.i=S,this.j=w,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function I(_){l.setTimeout(()=>{throw _},0)}function q(){var _=N;let S=null;return _.g&&(S=_.g,_.g=_.g.next,_.g||(_.h=null),S.next=null),S}class X{constructor(){this.h=this.g=null}add(S,w){const U=G.get();U.set(S,w),this.h?this.h.next=U:this.g=U,this.h=U}}var G=new A(()=>new te,_=>_.reset());class te{constructor(){this.next=this.g=this.h=null}set(S,w){this.h=S,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let he,me=!1,N=new X,M=()=>{const _=Promise.resolve(void 0);he=()=>{_.then(D)}};function D(){for(var _;_=q();){try{_.h.call(_.g)}catch(w){I(w)}var S=G;S.j(_),S.h<100&&(S.h++,_.next=S.g,S.g=_)}me=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(_,S){this.type=_,this.g=this.target=S,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var K=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var _=!1,S=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const w=()=>{};l.addEventListener("test",w,S),l.removeEventListener("test",w,S)}catch{}return _})();function L(_){return/^[\s\xa0]*$/.test(_)}function Ye(_,S){F.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_&&this.init(_,S)}y(Ye,F),Ye.prototype.init=function(_,S){const w=this.type=_.type,U=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;this.target=_.target||_.srcElement,this.g=S,S=_.relatedTarget,S||(w=="mouseover"?S=_.fromElement:w=="mouseout"&&(S=_.toElement)),this.relatedTarget=S,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=_.pointerType,this.state=_.state,this.i=_,_.defaultPrevented&&Ye.Z.h.call(this)},Ye.prototype.h=function(){Ye.Z.h.call(this);const _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),ie=0;function we(_,S,w,U,se){this.listener=_,this.proxy=null,this.src=S,this.type=w,this.capture=!!U,this.ha=se,this.key=++ie,this.da=this.fa=!1}function Be(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Xe(_,S,w){for(const U in _)S.call(w,_[U],U,_)}function je(_,S){for(const w in _)S.call(void 0,_[w],w,_)}function ee(_){const S={};for(const w in _)S[w]=_[w];return S}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(_,S){let w,U;for(let se=1;se<arguments.length;se++){U=arguments[se];for(w in U)_[w]=U[w];for(let ge=0;ge<O.length;ge++)w=O[ge],Object.prototype.hasOwnProperty.call(U,w)&&(_[w]=U[w])}}function J(_){this.src=_,this.g={},this.h=0}J.prototype.add=function(_,S,w,U,se){const ge=_.toString();_=this.g[ge],_||(_=this.g[ge]=[],this.h++);const Le=pe(_,S,U,se);return Le>-1?(S=_[Le],w||(S.fa=!1)):(S=new we(S,this.src,ge,!!U,se),S.fa=w,_.push(S)),S};function Q(_,S){const w=S.type;if(w in _.g){var U=_.g[w],se=Array.prototype.indexOf.call(U,S,void 0),ge;(ge=se>=0)&&Array.prototype.splice.call(U,se,1),ge&&(Be(S),_.g[w].length==0&&(delete _.g[w],_.h--))}}function pe(_,S,w,U){for(let se=0;se<_.length;++se){const ge=_[se];if(!ge.da&&ge.listener==S&&ge.capture==!!w&&ge.ha==U)return se}return-1}var De="closure_lm_"+(Math.random()*1e6|0),Ue={};function be(_,S,w,U,se){if(Array.isArray(S)){for(let ge=0;ge<S.length;ge++)be(_,S[ge],w,U,se);return null}return w=bn(w),_&&_[Ee]?_.J(S,w,c(U)?!!U.capture:!1,se):Oe(_,S,w,!1,U,se)}function Oe(_,S,w,U,se,ge){if(!S)throw Error("Invalid event type");const Le=c(se)?!!se.capture:!!se;let it=It(_);if(it||(_[De]=it=new J(_)),w=it.add(S,w,U,Le,ge),w.proxy)return w;if(U=_t(),w.proxy=U,U.src=_,U.listener=w,_.addEventListener)K||(se=Le),se===void 0&&(se=!1),_.addEventListener(S.toString(),U,se);else if(_.attachEvent)_.attachEvent(at(S.toString()),U);else if(_.addListener&&_.removeListener)_.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return w}function _t(){function _(w){return S.call(_.src,_.listener,w)}const S=cr;return _}function lt(_,S,w,U,se){if(Array.isArray(S))for(var ge=0;ge<S.length;ge++)lt(_,S[ge],w,U,se);else U=c(U)?!!U.capture:!!U,w=bn(w),_&&_[Ee]?(_=_.i,ge=String(S).toString(),ge in _.g&&(S=_.g[ge],w=pe(S,w,U,se),w>-1&&(Be(S[w]),Array.prototype.splice.call(S,w,1),S.length==0&&(delete _.g[ge],_.h--)))):_&&(_=It(_))&&(S=_.g[S.toString()],_=-1,S&&(_=pe(S,w,U,se)),(w=_>-1?S[_]:null)&&on(w))}function on(_){if(typeof _!="number"&&_&&!_.da){var S=_.src;if(S&&S[Ee])Q(S.i,_);else{var w=_.type,U=_.proxy;S.removeEventListener?S.removeEventListener(w,U,_.capture):S.detachEvent?S.detachEvent(at(w),U):S.addListener&&S.removeListener&&S.removeListener(U),(w=It(S))?(Q(w,_),w.h==0&&(w.src=null,S[De]=null)):Be(_)}}}function at(_){return _ in Ue?Ue[_]:Ue[_]="on"+_}function cr(_,S){if(_.da)_=!0;else{S=new Ye(S,this);const w=_.listener,U=_.ha||_.src;_.fa&&on(_),_=w.call(U,S)}return _}function It(_){return _=_[De],_ instanceof J?_:null}var qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function bn(_){return typeof _=="function"?_:(_[qe]||(_[qe]=function(S){return _.handleEvent(S)}),_[qe])}function Nt(){k.call(this),this.i=new J(this),this.M=this,this.G=null}y(Nt,k),Nt.prototype[Ee]=!0,Nt.prototype.removeEventListener=function(_,S,w,U){lt(this,_,S,w,U)};function Yt(_,S){var w,U=_.G;if(U)for(w=[];U;U=U.G)w.push(U);if(_=_.M,U=S.type||S,typeof S=="string")S=new F(S,_);else if(S instanceof F)S.target=S.target||_;else{var se=S;S=new F(U,_),j(S,se)}se=!0;let ge,Le;if(w)for(Le=w.length-1;Le>=0;Le--)ge=S.g=w[Le],se=fr(ge,U,!0,S)&&se;if(ge=S.g=_,se=fr(ge,U,!0,S)&&se,se=fr(ge,U,!1,S)&&se,w)for(Le=0;Le<w.length;Le++)ge=S.g=w[Le],se=fr(ge,U,!1,S)&&se}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var _=this.i;for(const S in _.g){const w=_.g[S];for(let U=0;U<w.length;U++)Be(w[U]);delete _.g[S],_.h--}}this.G=null},Nt.prototype.J=function(_,S,w,U){return this.i.add(String(_),S,!1,w,U)},Nt.prototype.K=function(_,S,w,U){return this.i.add(String(_),S,!0,w,U)};function fr(_,S,w,U){if(S=_.i.g[String(S)],!S)return!0;S=S.concat();let se=!0;for(let ge=0;ge<S.length;++ge){const Le=S[ge];if(Le&&!Le.da&&Le.capture==w){const it=Le.listener,dn=Le.ha||Le.src;Le.fa&&Q(_.i,Le),se=it.call(dn,U)!==!1&&se}}return se&&!U.defaultPrevented}function Lo(_,S){if(typeof _!="function")if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:l.setTimeout(_,S||0)}function Vs(_){_.g=Lo(()=>{_.g=null,_.i&&(_.i=!1,Vs(_))},_.l);const S=_.h;_.h=null,_.m.apply(null,S)}class Xt extends k{constructor(S,w){super(),this.m=S,this.l=w,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Vs(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(_){k.call(this),this.h=_,this.g={}}y(Wr,k);var Zi=[];function ji(_){Xe(_.g,function(S,w){this.g.hasOwnProperty(w)&&on(S)},_),_.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),ji(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var er=l.JSON.stringify,lu=l.JSON.parse,Ba=class{stringify(_){return l.JSON.stringify(_,void 0)}parse(_){return l.JSON.parse(_,void 0)}};function Ha(){}function Ga(){}var yr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _n(){F.call(this,"d")}y(_n,F);function hr(){F.call(this,"c")}y(hr,F);var sn={},ko=null;function es(){return ko=ko||new Nt}sn.Ia="serverreachability";function qa(_){F.call(this,sn.Ia,_)}y(qa,F);function Mr(_){const S=es();Yt(S,new qa(S))}sn.STAT_EVENT="statevent";function ts(_,S){F.call(this,sn.STAT_EVENT,_),this.stat=S}y(ts,F);function ln(_){const S=es();Yt(S,new ts(S,_))}sn.Ja="timingevent";function dr(_,S){F.call(this,sn.Ja,_),this.size=S}y(dr,F);function Xr(_,S){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){_()},S)}function br(){this.g=!0}br.prototype.ua=function(){this.g=!1};function uu(_,S,w,U,se,ge){_.info(function(){if(_.g)if(ge){var Le="",it=ge.split("&");for(let At=0;At<it.length;At++){var dn=it[At].split("=");if(dn.length>1){const nn=dn[0];dn=dn[1];const Zr=nn.split("_");Le=Zr.length>=2&&Zr[1]=="type"?Le+(nn+"="+dn+"&"):Le+(nn+"=redacted&")}}}else Le=null;else Le=ge;return"XMLHTTP REQ ("+U+") [attempt "+se+"]: "+S+`
`+w+`
`+Le})}function Oo(_,S,w,U,se,ge,Le){_.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+se+"]: "+S+`
`+w+`
`+ge+" "+Le})}function Jr(_,S,w,U){_.info(function(){return"XMLHTTP TEXT ("+S+"): "+cu(_,w)+(U?" "+U:"")})}function ns(_,S){_.info(function(){return"TIMEOUT: "+S})}br.prototype.info=function(){};function cu(_,S){if(!_.g)return S;if(!S)return null;try{const ge=JSON.parse(S);if(ge){for(_=0;_<ge.length;_++)if(Array.isArray(ge[_])){var w=ge[_];if(!(w.length<2)){var U=w[1];if(Array.isArray(U)&&!(U.length<1)){var se=U[0];if(se!="noop"&&se!="stop"&&se!="close")for(let Le=1;Le<U.length;Le++)U[Le]=""}}}}return er(ge)}catch{return S}}var rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},is={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},za;function ss(){}y(ss,Ha),ss.prototype.g=function(){return new XMLHttpRequest},za=new ss;function di(_){return encodeURIComponent(String(_))}function b(_){var S=1;_=_.split(":");const w=[];for(;S>0&&_.length;)w.push(_.shift()),S--;return _.length&&w.push(_.join(":")),w}function Y(_,S,w,U){this.j=_,this.i=S,this.l=w,this.S=U||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new V}function V(){this.i=null,this.g="",this.h=!1}var B={},z={};function W(_,S,w){_.M=1,_.A=Ya(vn(S)),_.u=w,_.R=!0,oe(_,null)}function oe(_,S){_.F=Date.now(),ce(_),_.B=vn(_.A);var w=_.B,U=_.S;Array.isArray(U)||(U=[String(U)]),Uo(w.i,"t",U),_.C=0,w=_.j.L,_.h=new V,_.g=mf(_.j,w?S:null,!_.u),_.P>0&&(_.O=new Xt(h(_.Y,_,_.g),_.P)),S=_.V,w=_.g,U=_.ba;var se="readystatechange";Array.isArray(se)||(se&&(Zi[0]=se.toString()),se=Zi);for(let ge=0;ge<se.length;ge++){const Le=be(w,se[ge],U||S.handleEvent,!1,S.h||S);if(!Le)break;S.g[Le.key]=Le}S=_.J?ee(_.J):{},_.u?(_.v||(_.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.B,_.v,_.u,S)):(_.v="GET",_.g.ea(_.B,_.v,null,S)),Mr(),uu(_.i,_.v,_.B,_.l,_.S,_.u)}Y.prototype.ba=function(_){_=_.target;const S=this.O;S&&vi(_)==3?S.j():this.Y(_)},Y.prototype.Y=function(_){try{if(_==this.g)e:{const it=vi(this.g),dn=this.g.ya(),At=this.g.ca();if(!(it<3)&&(it!=3||this.g&&(this.h.h||this.g.la()||Bn(this.g)))){this.K||it!=4||dn==7||(dn==8||At<=0?Mr(3):Mr(2)),Me(this);var S=this.g.ca();this.X=S;var w=ye(this);if(this.o=S==200,Oo(this.i,this.v,this.B,this.l,this.S,it,S),this.o){if(this.U&&!this.L){t:{if(this.g){var U,se=this.g;if((U=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(U)){var ge=U;break t}}ge=null}if(_=ge)Jr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ke(this,_);else{this.o=!1,this.m=3,ln(12),Ie(this),Ve(this);break e}}if(this.R){_=!0;let nn;for(;!this.K&&this.C<w.length;)if(nn=fe(this,w),nn==z){it==4&&(this.m=4,ln(14),_=!1),Jr(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==B){this.m=4,ln(15),Jr(this.i,this.l,w,"[Invalid Chunk]"),_=!1;break}else Jr(this.i,this.l,nn,null),ke(this,nn);if(le(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||w.length!=0||this.h.h||(this.m=1,ln(16),_=!1),this.o=this.o&&_,!_)Jr(this.i,this.l,w,"[Invalid Chunked Response]"),Ie(this),Ve(this);else if(w.length>0&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.aa&&!Le.P&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Tu(Le),Le.P=!0,ln(11))}}else Jr(this.i,this.l,w,null),ke(this,w);it==4&&Ie(this),this.o&&!this.K&&(it==4?ff(this.j,this):(this.o=!1,ce(this)))}else os(this.g),S==400&&w.indexOf("Unknown SID")>0?(this.m=3,ln(12)):(this.m=0,ln(13)),Ie(this),Ve(this)}}}catch{}finally{}};function ye(_){if(!le(_))return _.g.la();const S=Bn(_.g);if(S==="")return"";let w="";const U=S.length,se=vi(_.g)==4;if(!_.h.i){if(typeof TextDecoder>"u")return Ie(_),Ve(_),"";_.h.i=new l.TextDecoder}for(let ge=0;ge<U;ge++)_.h.h=!0,w+=_.h.i.decode(S[ge],{stream:!(se&&ge==U-1)});return S.length=0,_.h.g+=w,_.C=0,_.h.g}function le(_){return _.g?_.v=="GET"&&_.M!=2&&_.j.Aa:!1}function fe(_,S){var w=_.C,U=S.indexOf(`
`,w);return U==-1?z:(w=Number(S.substring(w,U)),isNaN(w)?B:(U+=1,U+w>S.length?z:(S=S.slice(U,U+w),_.C=U+w,S)))}Y.prototype.cancel=function(){this.K=!0,Ie(this)};function ce(_){_.T=Date.now()+_.H,Ne(_,_.H)}function Ne(_,S){if(_.D!=null)throw Error("WatchDog timer not null");_.D=Xr(h(_.aa,_),S)}function Me(_){_.D&&(l.clearTimeout(_.D),_.D=null)}Y.prototype.aa=function(){this.D=null;const _=Date.now();_-this.T>=0?(ns(this.i,this.B),this.M!=2&&(Mr(),ln(17)),Ie(this),this.m=2,Ve(this)):Ne(this,this.T-_)};function Ve(_){_.j.I==0||_.K||ff(_.j,_)}function Ie(_){Me(_);var S=_.O;S&&typeof S.dispose=="function"&&S.dispose(),_.O=null,ji(_.V),_.g&&(S=_.g,_.g=null,S.abort(),S.dispose())}function ke(_,S){try{var w=_.j;if(w.I!=0&&(w.g==_||tr(w.h,_))){if(!_.L&&tr(w.h,_)&&w.I==3){try{var U=w.Ba.g.parse(S)}catch{U=null}if(Array.isArray(U)&&U.length==3){var se=U;if(se[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<_.F)zo(w),Ws(w);else break e;Za(w),ln(18)}}else w.xa=se[1],0<w.xa-w.K&&se[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Xr(h(w.Va,w),6e3));Kt(w.h)<=1&&w.ta&&(w.ta=void 0)}else Oi(w,11)}else if((_.L||w.g==_)&&zo(w),!L(S))for(se=w.Ba.g.parse(S),S=0;S<se.length;S++){let At=se[S];const nn=At[0];if(!(nn<=w.K))if(w.K=nn,At=At[1],w.I==2)if(At[0]=="c"){w.M=At[1],w.ba=At[2];const Zr=At[3];Zr!=null&&(w.ka=Zr,w.j.info("VER="+w.ka));const Vi=At[4];Vi!=null&&(w.za=Vi,w.j.info("SVER="+w.za));const yi=At[5];yi!=null&&typeof yi=="number"&&yi>0&&(U=1.5*yi,w.O=U,w.j.info("backChannelRequestTimeoutMs_="+U)),U=w;const Ti=_.g;if(Ti){const ja=Ti.g?Ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ja){var ge=U.h;ge.g||ja.indexOf("spdy")==-1&&ja.indexOf("quic")==-1&&ja.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(pi(ge,ge.h),ge.h=null))}if(U.G){const Yo=Ti.g?Ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(U.wa=Yo,bt(U.J,U.G,Yo))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-_.F,w.j.info("Handshake RTT: "+w.T+"ms")),U=w;var Le=_;if(U.na=pf(U,U.L?U.ba:null,U.W),Le.L){mi(U.h,Le);var it=Le,dn=U.O;dn&&(it.H=dn),it.D&&(Me(it),ce(it)),U.g=Le}else uf(U);w.i.length>0&&ki(w)}else At[0]!="stop"&&At[0]!="close"||Oi(w,7);else w.I==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?Oi(w,7):vu(w):At[0]!="noop"&&w.l&&w.l.qa(At),w.A=0)}}Mr(4)}catch{}}var We=class{constructor(_,S){this.g=_,this.map=S}};function Dt(_){this.l=_||10,l.PerformanceNavigationTiming?(_=l.performance.getEntriesByType("navigation"),_=_.length>0&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mt(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Kt(_){return _.h?1:_.g?_.g.size:0}function tr(_,S){return _.h?_.h==S:_.g?_.g.has(S):!1}function pi(_,S){_.g?_.g.add(S):_.h=S}function mi(_,S){_.h&&_.h==S?_.h=null:_.g&&_.g.has(S)&&_.g.delete(S)}Dt.prototype.cancel=function(){if(this.i=Pr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Pr(_){if(_.h!=null)return _.i.concat(_.h.G);if(_.g!=null&&_.g.size!==0){let S=_.i;for(const w of _.g.values())S=S.concat(w.G);return S}return x(_.i)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nr(_,S){if(_){_=_.split("&");for(let w=0;w<_.length;w++){const U=_[w].indexOf("=");let se,ge=null;U>=0?(se=_[w].substring(0,U),ge=_[w].substring(U+1)):se=_[w],S(se,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function Fr(_){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;_ instanceof Fr?(this.l=_.l,Pn(this,_.j),this.o=_.o,this.g=_.g,Bs(this,_.u),this.h=_.h,fu(this,of(_.i)),this.m=_.m):_&&(S=String(_).match(Us))?(this.l=!1,Pn(this,S[1]||"",!0),this.o=bi(S[2]||""),this.g=bi(S[3]||"",!0),Bs(this,S[4]),this.h=bi(S[5]||"",!0),fu(this,S[6]||"",!0),this.m=bi(S[7]||"")):(this.l=!1,this.i=new Gs(null,this.l))}Fr.prototype.toString=function(){const _=[];var S=this.j;S&&_.push(Ka(S,Vo,!0),":");var w=this.g;return(w||S=="file")&&(_.push("//"),(S=this.o)&&_.push(Ka(S,Vo,!0),"@"),_.push(di(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&_.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&_.push("/"),_.push(Ka(w,w.charAt(0)=="/"?hu:rf,!0))),(w=this.i.toString())&&_.push("?",w),(w=this.m)&&_.push("#",Ka(w,sf)),_.join("")},Fr.prototype.resolve=function(_){const S=vn(this);let w=!!_.j;w?Pn(S,_.j):w=!!_.o,w?S.o=_.o:w=!!_.g,w?S.g=_.g:w=_.u!=null;var U=_.h;if(w)Bs(S,_.u);else if(w=!!_.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var se=S.h.lastIndexOf("/");se!=-1&&(U=S.h.slice(0,se+1)+U)}if(se=U,se==".."||se==".")U="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){U=se.lastIndexOf("/",0)==0,se=se.split("/");const ge=[];for(let Le=0;Le<se.length;){const it=se[Le++];it=="."?U&&Le==se.length&&ge.push(""):it==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),U&&Le==se.length&&ge.push("")):(ge.push(it),U=!0)}U=ge.join("/")}else U=se}return w?S.h=U:w=_.i.toString()!=="",w?fu(S,of(_.i)):w=!!_.m,w&&(S.m=_.m),S};function vn(_){return new Fr(_)}function Pn(_,S,w){_.j=w?bi(S,!0):S,_.j&&(_.j=_.j.replace(/:$/,""))}function Bs(_,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);_.u=S}else _.u=null}function fu(_,S,w){S instanceof Gs?(_.i=S,Bo(_.i,_.l)):(w||(S=Ka(S,Hs)),_.i=new Gs(S,_.l))}function bt(_,S,w){_.i.set(S,w)}function Ya(_){return bt(_,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),_}function bi(_,S){return _?S?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Ka(_,S,w){return typeof _=="string"?(_=encodeURI(_).replace(S,Tr),w&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Tr(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Vo=/[#\/\?@]/g,rf=/[#\?:]/g,hu=/[#\?]/g,Hs=/[#\?@]/g,sf=/#/g;function Gs(_,S){this.h=this.g=null,this.i=_||null,this.j=!!S}function Er(_){_.g||(_.g=new Map,_.h=0,_.i&&nr(_.i,function(S,w){_.add(decodeURIComponent(S.replace(/\+/g," ")),w)}))}t=Gs.prototype,t.add=function(_,S){Er(this),this.i=null,_=qs(this,_);let w=this.g.get(_);return w||this.g.set(_,w=[]),w.push(S),this.h+=1,this};function af(_,S){Er(_),S=qs(_,S),_.g.has(S)&&(_.i=null,_.h-=_.g.get(S).length,_.g.delete(S))}function du(_,S){return Er(_),S=qs(_,S),_.g.has(S)}t.forEach=function(_,S){Er(this),this.g.forEach(function(w,U){w.forEach(function(se){_.call(S,se,U,this)},this)},this)};function pu(_,S){Er(_);let w=[];if(typeof S=="string")du(_,S)&&(w=w.concat(_.g.get(qs(_,S))));else for(_=Array.from(_.g.values()),S=0;S<_.length;S++)w=w.concat(_[S]);return w}t.set=function(_,S){return Er(this),this.i=null,_=qs(this,_),du(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[S]),this.h+=1,this},t.get=function(_,S){return _?(_=pu(this,_),_.length>0?String(_[0]):S):S};function Uo(_,S,w){af(_,S),w.length>0&&(_.i=null,_.g.set(qs(_,S),x(w)),_.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],S=Array.from(this.g.keys());for(let U=0;U<S.length;U++){var w=S[U];const se=di(w);w=pu(this,w);for(let ge=0;ge<w.length;ge++){let Le=se;w[ge]!==""&&(Le+="="+di(w[ge])),_.push(Le)}}return this.i=_.join("&")};function of(_){const S=new Gs;return S.i=_.i,_.g&&(S.g=new Map(_.g),S.h=_.h),S}function qs(_,S){return S=String(S),_.j&&(S=S.toLowerCase()),S}function Bo(_,S){S&&!_.j&&(Er(_),_.i=null,_.g.forEach(function(w,U){const se=U.toLowerCase();U!=se&&(af(this,U),Uo(this,se,w))},_)),_.j=S}function gi(_,S){const w=new br;if(l.Image){const U=new Image;U.onload=m($r,w,"TestLoadImage: loaded",!0,S,U),U.onerror=m($r,w,"TestLoadImage: error",!1,S,U),U.onabort=m($r,w,"TestLoadImage: abort",!1,S,U),U.ontimeout=m($r,w,"TestLoadImage: timeout",!1,S,U),l.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=_}else S(!1)}function mu(_,S){const w=new br,U=new AbortController,se=setTimeout(()=>{U.abort(),$r(w,"TestPingServer: timeout",!1,S)},1e4);fetch(_,{signal:U.signal}).then(ge=>{clearTimeout(se),ge.ok?$r(w,"TestPingServer: ok",!0,S):$r(w,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(se),$r(w,"TestPingServer: error",!1,S)})}function $r(_,S,w,U,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),U(w)}catch{}}function zs(){this.g=new Ba}function Pi(_){this.i=_.Sb||null,this.h=_.ab||!1}y(Pi,Ha),Pi.prototype.g=function(){return new Wa(this.i,this.h)};function Wa(_,S){Nt.call(this),this.H=_,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Wa,Nt),t=Wa.prototype,t.open=function(_,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=_,this.D=S,this.readyState=1,_i(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};_&&(S.body=_),(this.H||l).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},t.Pa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ho(this)}else _.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ho(_){_.j.read().then(_.Ma.bind(_)).catch(_.ga.bind(_))}t.Ma=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var S=_.value?_.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!_.done}))&&(this.response=this.responseText+=S)}_.done?Ys(this):_i(this),this.readyState==3&&Ho(this)}},t.Oa=function(_){this.g&&(this.response=this.responseText=_,Ys(this))},t.Na=function(_){this.g&&(this.response=_,Ys(this))},t.ga=function(){this.g&&Ys(this)};function Ys(_){_.readyState=4,_.l=null,_.j=null,_.B=null,_i(_)}t.setRequestHeader=function(_,S){this.A.append(_,S)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],S=this.h.entries();for(var w=S.next();!w.done;)w=w.value,_.push(w[0]+": "+w[1]),w=S.next();return _.join(`\r
`)};function _i(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Qr(_){let S="";return Xe(_,function(w,U){S+=U,S+=":",S+=w,S+=`\r
`}),S}function Xa(_,S,w){e:{for(U in w){var U=!1;break e}U=!0}U||(w=Qr(w),typeof _=="string"?w!=null&&di(w):bt(_,S,w))}function Ut(_){Nt.call(this),this.headers=new Map,this.L=_||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Ut,Nt);var Fi=/^https?$/i,gu=["POST","PUT"];t=Ut.prototype,t.Fa=function(_){this.H=_},t.ea=function(_,S,w,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);S=S?S.toUpperCase():"GET",this.D=_,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():za.g(),this.g.onreadystatechange=E(h(this.Ca,this));try{this.B=!0,this.g.open(S,String(_),!0),this.B=!1}catch(ge){Ja(this,ge);return}if(_=w||"",w=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var se in U)w.set(se,U[se]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ge of U.keys())w.set(ge,U.get(ge));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(w.keys()).find(ge=>ge.toLowerCase()=="content-type"),se=l.FormData&&_ instanceof l.FormData,!(Array.prototype.indexOf.call(gu,S,void 0)>=0)||U||se||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Le]of w)this.g.setRequestHeader(ge,Le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(_),this.v=!1}catch(ge){Ja(this,ge)}};function Ja(_,S){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=S,_.o=5,_u(_),as(_)}function _u(_){_.A||(_.A=!0,Yt(_,"complete"),Yt(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=_||7,Yt(this,"complete"),Yt(this,"abort"),as(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),as(this,!0)),Ut.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?$a(this):this.Xa())},t.Xa=function(){$a(this)};function $a(_){if(_.h&&typeof o<"u"){if(_.v&&vi(_)==4)setTimeout(_.Ca.bind(_),0);else if(Yt(_,"readystatechange"),vi(_)==4){_.h=!1;try{const ge=_.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var w;if(!(w=S)){var U;if(U=ge===0){let Le=String(_.D).match(Us)[1]||null;!Le&&l.self&&l.self.location&&(Le=l.self.location.protocol.slice(0,-1)),U=!Fi.test(Le?Le.toLowerCase():"")}w=U}if(w)Yt(_,"complete"),Yt(_,"success");else{_.o=6;try{var se=vi(_)>2?_.g.statusText:""}catch{se=""}_.l=se+" ["+_.ca()+"]",_u(_)}}finally{as(_)}}}}function as(_,S){if(_.g){_.m&&(clearTimeout(_.m),_.m=null);const w=_.g;_.g=null,S||Yt(_,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function vi(_){return _.g?_.g.readyState:0}t.ca=function(){try{return vi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(_){if(this.g){var S=this.g.responseText;return _&&S.indexOf(_)==0&&(S=S.substring(_.length)),lu(S)}};function Bn(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.F){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function os(_){const S={};_=(_.g&&vi(_)>=2&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<_.length;U++){if(L(_[U]))continue;var w=b(_[U]);const se=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ge=S[se]||[];S[se]=ge,ge.push(w)}je(S,function(U){return U.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(_,S,w){return w&&w.internalChannelParams&&w.internalChannelParams[_]||S}function Ks(_){this.za=0,this.i=[],this.j=new br,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,_),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,_),this.Za=Li("retryDelaySeedMs",1e4,_),this.Ta=Li("forwardChannelMaxRetries",2,_),this.va=Li("forwardChannelRequestTimeoutMs",2e4,_),this.ma=_&&_.xmlHttpFactory||void 0,this.Ua=_&&_.Rb||void 0,this.Aa=_&&_.useFetchStreams||!1,this.O=void 0,this.L=_&&_.supportsCrossDomainXhr||!1,this.M="",this.h=new Dt(_&&_.concurrentRequestLimit),this.Ba=new zs,this.S=_&&_.fastHandshake||!1,this.R=_&&_.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=_&&_.Pb||!1,_&&_.ua&&this.j.ua(),_&&_.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&_&&_.detectBufferingProxy||!1,this.ia=void 0,_&&_.longPollingTimeout&&_.longPollingTimeout>0&&(this.ia=_.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ks.prototype,t.ka=8,t.I=1,t.connect=function(_,S,w,U){ln(0),this.W=_,this.H=S||{},w&&U!==void 0&&(this.H.OSID=w,this.H.OAID=U),this.F=this.X,this.J=pf(this,null,this.W),ki(this)};function vu(_){if(Go(_),_.I==3){var S=_.V++,w=vn(_.J);if(bt(w,"SID",_.M),bt(w,"RID",S),bt(w,"TYPE","terminate"),Qa(_,w),S=new Y(_,_.j,S),S.M=2,S.A=Ya(vn(w)),w=!1,l.navigator&&l.navigator.sendBeacon)try{w=l.navigator.sendBeacon(S.A.toString(),"")}catch{}!w&&l.Image&&(new Image().src=S.A,w=!0),w||(S.g=mf(S.j,null),S.g.ea(S.A)),S.F=Date.now(),ce(S)}df(_)}function Ws(_){_.g&&(Tu(_),_.g.cancel(),_.g=null)}function Go(_){Ws(_),_.v&&(l.clearTimeout(_.v),_.v=null),zo(_),_.h.cancel(),_.m&&(typeof _.m=="number"&&l.clearTimeout(_.m),_.m=null)}function ki(_){if(!Mt(_.h)&&!_.m){_.m=!0;var S=_.Ea;he||M(),me||(he(),me=!0),N.add(S,_),_.D=0}}function qo(_,S){return Kt(_.h)>=_.h.j-(_.m?1:0)?!1:_.m?(_.i=S.G.concat(_.i),!0):_.I==1||_.I==2||_.D>=(_.Sa?0:_.Ta)?!1:(_.m=Xr(h(_.Ea,_,S),hf(_,_.D)),_.D++,!0)}t.Ea=function(_){if(this.m)if(this.m=null,this.I==1){if(!_){this.V=Math.floor(Math.random()*1e5),_=this.V++;const se=new Y(this,this.j,_);let ge=this.o;if(this.U&&(ge?(ge=ee(ge),j(ge,this.U)):ge=this.U),this.u!==null||this.R||(se.J=ge,ge=null),this.S)e:{for(var S=0,w=0;w<this.i.length;w++){t:{var U=this.i[w];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(S+=U,S>4096){S=w;break e}if(S===4096||w===this.i.length-1){S=w+1;break e}}S=1e3}else S=1e3;S=lf(this,se,S),w=vn(this.J),bt(w,"RID",_),bt(w,"CVER",22),this.G&&bt(w,"X-HTTP-Session-Id",this.G),Qa(this,w),ge&&(this.R?S="headers="+di(Qr(ge))+"&"+S:this.u&&Xa(w,this.u,ge)),pi(this.h,se),this.Ra&&bt(w,"TYPE","init"),this.S?(bt(w,"$req",S),bt(w,"SID","null"),se.U=!0,W(se,w,null)):W(se,w,S),this.I=2}}else this.I==3&&(_?yu(this,_):this.i.length==0||Mt(this.h)||yu(this))};function yu(_,S){var w;S?w=S.l:w=_.V++;const U=vn(_.J);bt(U,"SID",_.M),bt(U,"RID",w),bt(U,"AID",_.K),Qa(_,U),_.u&&_.o&&Xa(U,_.u,_.o),w=new Y(_,_.j,w,_.D+1),_.u===null&&(w.J=_.o),S&&(_.i=S.G.concat(_.i)),S=lf(_,w,1e3),w.H=Math.round(_.va*.5)+Math.round(_.va*.5*Math.random()),pi(_.h,w),W(w,U,S)}function Qa(_,S){_.H&&Xe(_.H,function(w,U){bt(S,U,w)}),_.l&&Xe({},function(w,U){bt(S,U,w)})}function lf(_,S,w){w=Math.min(_.i.length,w);const U=_.l?h(_.l.Ka,_.l,_):null;e:{var se=_.i;let it=-1;for(;;){const dn=["count="+w];it==-1?w>0?(it=se[0].g,dn.push("ofs="+it)):it=0:dn.push("ofs="+it);let At=!0;for(let nn=0;nn<w;nn++){var ge=se[nn].g;const Zr=se[nn].map;if(ge-=it,ge<0)it=Math.max(0,se[nn].g-100),At=!1;else try{ge="req"+ge+"_"||"";try{var Le=Zr instanceof Map?Zr:Object.entries(Zr);for(const[Vi,yi]of Le){let Ti=yi;c(yi)&&(Ti=er(yi)),dn.push(ge+Vi+"="+encodeURIComponent(Ti))}}catch(Vi){throw dn.push(ge+"type="+encodeURIComponent("_badmap")),Vi}}catch{U&&U(Zr)}}if(At){Le=dn.join("&");break e}}Le=void 0}return _=_.i.splice(0,w),S.G=_,Le}function uf(_){if(!_.g&&!_.v){_.Y=1;var S=_.Da;he||M(),me||(he(),me=!0),N.add(S,_),_.A=0}}function Za(_){return _.g||_.v||_.A>=3?!1:(_.Y++,_.v=Xr(h(_.Da,_),hf(_,_.A)),_.A++,!0)}t.Da=function(){if(this.v=null,cf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var _=4*this.T;this.j.info("BP detection timer enabled: "+_),this.B=Xr(h(this.Wa,this),_)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ln(10),Ws(this),cf(this))};function Tu(_){_.B!=null&&(l.clearTimeout(_.B),_.B=null)}function cf(_){_.g=new Y(_,_.j,"rpc",_.Y),_.u===null&&(_.g.J=_.o),_.g.P=0;var S=vn(_.na);bt(S,"RID","rpc"),bt(S,"SID",_.M),bt(S,"AID",_.K),bt(S,"CI",_.F?"0":"1"),!_.F&&_.ia&&bt(S,"TO",_.ia),bt(S,"TYPE","xmlhttp"),Qa(_,S),_.u&&_.o&&Xa(S,_.u,_.o),_.O&&(_.g.H=_.O);var w=_.g;_=_.ba,w.M=1,w.A=Ya(vn(S)),w.u=null,w.R=!0,oe(w,_)}t.Va=function(){this.C!=null&&(this.C=null,Ws(this),Za(this),ln(19))};function zo(_){_.C!=null&&(l.clearTimeout(_.C),_.C=null)}function ff(_,S){var w=null;if(_.g==S){zo(_),Tu(_),_.g=null;var U=2}else if(tr(_.h,S))w=S.G,mi(_.h,S),U=1;else return;if(_.I!=0){if(S.o)if(U==1){w=S.u?S.u.length:0,S=Date.now()-S.F;var se=_.D;U=es(),Yt(U,new dr(U,w)),ki(_)}else uf(_);else if(se=S.m,se==3||se==0&&S.X>0||!(U==1&&qo(_,S)||U==2&&Za(_)))switch(w&&w.length>0&&(S=_.h,S.i=S.i.concat(w)),se){case 1:Oi(_,5);break;case 4:Oi(_,10);break;case 3:Oi(_,6);break;default:Oi(_,2)}}}function hf(_,S){let w=_.Qa+Math.floor(Math.random()*_.Za);return _.isActive()||(w*=2),w*S}function Oi(_,S){if(_.j.info("Error code "+S),S==2){var w=h(_.bb,_),U=_.Ua;const se=!U;U=new Fr(U||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Pn(U,"https"),Ya(U),se?gi(U.toString(),w):mu(U.toString(),w)}else ln(2);_.I=0,_.l&&_.l.pa(S),df(_),Go(_)}t.bb=function(_){_?(this.j.info("Successfully pinged google.com"),ln(2)):(this.j.info("Failed to ping google.com"),ln(1))};function df(_){if(_.I=0,_.ja=[],_.l){const S=Pr(_.h);(S.length!=0||_.i.length!=0)&&(R(_.ja,S),R(_.ja,_.i),_.h.i.length=0,x(_.i),_.i.length=0),_.l.oa()}}function pf(_,S,w){var U=w instanceof Fr?vn(w):new Fr(w);if(U.g!="")S&&(U.g=S+"."+U.g),Bs(U,U.u);else{var se=l.location;U=se.protocol,S=S?S+"."+se.hostname:se.hostname,se=+se.port;const ge=new Fr(null);U&&Pn(ge,U),S&&(ge.g=S),se&&Bs(ge,se),w&&(ge.h=w),U=ge}return w=_.G,S=_.wa,w&&S&&bt(U,w,S),bt(U,"VER",_.ka),Qa(_,U),U}function mf(_,S,w){if(S&&!_.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=_.Aa&&!_.ma?new Ut(new Pi({ab:w})):new Ut(_.ma),S.Fa(_.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gf(){}t=gf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Xs(){}Xs.prototype.g=function(_,S){return new pr(_,S)};function pr(_,S){Nt.call(this),this.g=new Ks(S),this.l=_,this.h=S&&S.messageUrlParams||null,_=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(_?_["X-WebChannel-Content-Type"]=S.messageContentType:_={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(_?_["X-WebChannel-Client-Profile"]=S.sa:_={"X-WebChannel-Client-Profile":S.sa}),this.g.U=_,(_=S&&S.Qb)&&!L(_)&&(this.g.u=_),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!L(S)&&(this.g.G=S,_=this.h,_!==null&&S in _&&(_=this.h,S in _&&delete _[S])),this.j=new ls(this)}y(pr,Nt),pr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pr.prototype.close=function(){vu(this.g)},pr.prototype.o=function(_){var S=this.g;if(typeof _=="string"){var w={};w.__data__=_,_=w}else this.v&&(w={},w.__data__=er(_),_=w);S.i.push(new We(S.Ya++,_)),S.I==3&&ki(S)},pr.prototype.N=function(){this.g.l=null,delete this.j,vu(this.g),delete this.g,pr.Z.N.call(this)};function _f(_){_n.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var S=_.__sm__;if(S){e:{for(const w in S){_=w;break e}_=void 0}(this.i=_)&&(_=this.i,S=S!==null&&_ in S?S[_]:void 0),this.data=S}else this.data=_}y(_f,_n);function vf(){hr.call(this),this.status=1}y(vf,hr);function ls(_){this.g=_}y(ls,gf),ls.prototype.ra=function(){Yt(this.g,"a")},ls.prototype.qa=function(_){Yt(this.g,new _f(_))},ls.prototype.pa=function(_){Yt(this.g,new vf)},ls.prototype.oa=function(){Yt(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,pr.prototype.send=pr.prototype.o,pr.prototype.open=pr.prototype.m,pr.prototype.close=pr.prototype.close,XS=function(){return new Xs},WS=function(){return es()},KS=sn,Dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,Oh=rs,is.COMPLETE="complete",YS=is,Ga.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,cc=Ga,Ut.prototype.listenOnce=Ut.prototype.K,Ut.prototype.getLastError=Ut.prototype.Ha,Ut.prototype.getLastErrorCode=Ut.prototype.ya,Ut.prototype.getStatus=Ut.prototype.ca,Ut.prototype.getResponseJson=Ut.prototype.La,Ut.prototype.getResponseText=Ut.prototype.la,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Fa,zS=Ut}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const gT="@firebase/firestore",_T="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sr.UNAUTHENTICATED=new sr(null),sr.GOOGLE_CREDENTIALS=new sr("google-credentials-uid"),sr.FIRST_PARTY=new sr("first-party-uid"),sr.MOCK_USER=new sr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new OS("@firebase/firestore");function Al(){return To.logLevel}function ze(t,...e){if(To.logLevel<=yt.DEBUG){const n=e.map(fg);To.debug(`Firestore (${$l}): ${t}`,...n)}}function Ds(t,...e){if(To.logLevel<=yt.ERROR){const n=e.map(fg);To.error(`Firestore (${$l}): ${t}`,...n)}}function Gl(t,...e){if(To.logLevel<=yt.WARN){const n=e.map(fg);To.warn(`Firestore (${$l}): ${t}`,...n)}}function fg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,JS(t,r,n)}function JS(t,e,n){let r=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ds(r),new Error(r)}function Rt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||JS(e,i,r)}function tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ge extends Jl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sr.UNAUTHENTICATED)))}shutdown(){}}class $N{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class QN{constructor(e){this.t=e,this.currentUser=sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Rt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new As;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new As,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new As)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string",31837,{l:r}),new $S(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string",2055,{h:e}),new sr(e)}}class ZN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=sr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jN{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bN(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Rt(this.o===void 0,3512);const r=o=>{o.error!=null&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ze("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=tD(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function pt(t,e){return t<e?-1:t>e?1:0}function Mm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return lm(i)===lm(o)?pt(i,o):lm(i)?1:-1}return pt(t.length,e.length)}const nD=55296,rD=57343;function lm(t){const e=t.charCodeAt(0);return e>=nD&&e<=rD}function ql(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="__name__";class Yi{constructor(e,n,r){n===void 0?n=0:n>e.length&&et(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&et(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Yi.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return pt(e.length,n.length)}static compareSegments(e,n){const r=Yi.isNumericId(e),i=Yi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Yi.extractNumericId(e).compare(Yi.extractNumericId(n)):Mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wa.fromString(e.substring(4,e.length-2))}}class Jt extends Yi{construct(e,n,r){return new Jt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ge(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Jt(n)}static emptyPath(){return new Jt([])}}const iD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends Yi{construct(e,n,r){return new Xn(e,n,r)}static isValidIdentifier(e){return iD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yT}static keyField(){return new Xn([yT])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ge(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Ge(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ge(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new Ge(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(n)}static emptyPath(){return new Xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(Jt.fromString(e))}static fromName(e){return new Qe(Jt.fromString(e).popFirst(5))}static empty(){return new Qe(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t,e,n){if(!n)throw new Ge(Ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sD(t,e,n,r){if(e===!0&&r===!0)throw new Ge(Ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TT(t){if(!Qe.isDocumentKey(t))throw new Ge(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ET(t){if(Qe.isDocumentKey(t))throw new Ge(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Id(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":et(12329,{type:typeof t})}function Mc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ge(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Id(t);throw new Ge(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Kc(t,e){if(!ZS(t))throw new Ge(Ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ge(Ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=-62135596800,ST=1e6;class jt{static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ST);return new jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ge(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ge(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xT)throw new Ge(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ge(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ST}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kc(e,jt._jsonSchema))return new jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jt._jsonSchemaVersion="firestore/timestamp/1.0",jt._jsonSchema={type:wn("string",jt._jsonSchemaVersion),seconds:wn("number"),nanoseconds:wn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new jt(0,0))}static max(){return new nt(new jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=-1;function aD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=nt.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new Ia(i,Qe.empty(),e)}function oD(t){return new Ia(t.readTime,t.key,bc)}class Ia{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ia(nt.min(),Qe.empty(),bc)}static max(){return new Ia(nt.max(),Qe.empty(),bc)}}function lD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Qe.comparator(t.documentKey,e.documentKey),n!==0?n:pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t){if(t.code!==Ae.FAILED_PRECONDITION||t.message!==uD)throw t;ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ce(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Ce.reject(n)}static resolve(e){return new Ce(((n,r)=>{n(e)}))}static reject(e){return new Ce(((n,r)=>{r(e)}))}static waitFor(e){return new Ce(((n,r)=>{let i=0,o=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++o,l&&o===i&&n()}),(d=>r(d)))})),l=!0,o===i&&n()}))}static or(e){let n=Ce.resolve(!1);for(const r of e)n=n.next((i=>i?Ce.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new Ce(((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const h=d;n(e[h]).next((m=>{l[h]=m,++c,c===o&&r(l)}),(m=>i(m)))}}))}static doWhile(e,n){return new Ce(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function fD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=-1;function Dd(t){return t==null}function $h(t){return t===0&&1/t==-1/0}function hD(t){return typeof t=="number"&&Number.isInteger(t)&&!$h(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="";function dD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AT(e)),e=pD(t.get(n),e);return AT(e)}function pD(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case jS:n+="";break;default:n+=o}}return n}function AT(t){return t+jS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mD(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function eA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n){this.comparator=e,this.root=n||Wn.EMPTY}insert(e,n){return new an(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new an(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ah(this.root,e,this.comparator,!0)}}class Ah{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Wn.RED,this.left=i??Wn.EMPTY,this.right=o??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Wn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw et(27949);return e+(this.isRed()?0:1)}}Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw et(57766)}get value(){throw et(16141)}get color(){throw et(16727)}get left(){throw et(29726)}get right(){throw et(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Wn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.comparator=e,this.data=new an(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wT(this.data.getIterator())}getIteratorFrom(e){return new wT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mn(this.comparator);return n.data=e,n}}class wT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new Ri([])}unionWith(e){let n=new Mn(Xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tA("Invalid base64 string: "+o):o}})(e);return new Zn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new Zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const gD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(t){if(Rt(!!t,39018),typeof t=="string"){let e=0;const n=gD.exec(t);if(Rt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gn(t.seconds),nanos:gn(t.nanos)}}function gn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Da(t){return typeof t=="string"?Zn.fromBase64String(t):Zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="server_timestamp",rA="__type__",iA="__previous_value__",sA="__local_write_time__";function pg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[rA])==null?void 0:r.stringValue)===nA}function Md(t){const e=t.mapValue.fields[iA];return pg(e)?Md(e):e}function Pc(t){const e=Na(t.mapValue.fields[sA].timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,r,i,o,l,c,d,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const Qh="(default)";class Fc{constructor(e,n){this.projectId=e,this.database=n||Qh}static empty(){return new Fc("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof Fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="__type__",vD="__max__",Ch={mapValue:{}},oA="__vector__",Zh="value";function Ma(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pg(t)?4:TD(t)?9007199254740991:yD(t)?10:11:et(28295,{value:t})}function $i(t,e){if(t===e)return!0;const n=Ma(t);if(n!==Ma(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pc(t).isEqual(Pc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Na(i.timestampValue),c=Na(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Da(i.bytesValue).isEqual(Da(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return gn(i.geoPointValue.latitude)===gn(o.geoPointValue.latitude)&&gn(i.geoPointValue.longitude)===gn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return gn(i.integerValue)===gn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=gn(i.doubleValue),c=gn(o.doubleValue);return l===c?$h(l)===$h(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return ql(t.arrayValue.values||[],e.arrayValue.values||[],$i);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(CT(l)!==CT(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!$i(l[d],c[d])))return!1;return!0})(t,e);default:return et(52216,{left:t})}}function Lc(t,e){return(t.values||[]).find((n=>$i(n,e)))!==void 0}function zl(t,e){if(t===e)return 0;const n=Ma(t),r=Ma(e);if(n!==r)return pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pt(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=gn(o.integerValue||o.doubleValue),d=gn(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return RT(t.timestampValue,e.timestampValue);case 4:return RT(Pc(t),Pc(e));case 5:return Mm(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=Da(o),d=Da(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const m=pt(c[h],d[h]);if(m!==0)return m}return pt(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=pt(gn(o.latitude),gn(l.latitude));return c!==0?c:pt(gn(o.longitude),gn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return IT(t.arrayValue,e.arrayValue);case 10:return(function(o,l){var E,x,R,A;const c=o.fields||{},d=l.fields||{},h=(E=c[Zh])==null?void 0:E.arrayValue,m=(x=d[Zh])==null?void 0:x.arrayValue,y=pt(((R=h==null?void 0:h.values)==null?void 0:R.length)||0,((A=m==null?void 0:m.values)==null?void 0:A.length)||0);return y!==0?y:IT(h,m)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Ch.mapValue&&l===Ch.mapValue)return 0;if(o===Ch.mapValue)return 1;if(l===Ch.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),h=l.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let y=0;y<d.length&&y<m.length;++y){const E=Mm(d[y],m[y]);if(E!==0)return E;const x=zl(c[d[y]],h[m[y]]);if(x!==0)return x}return pt(d.length,m.length)})(t.mapValue,e.mapValue);default:throw et(23264,{he:n})}}function RT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pt(t,e);const n=Na(t),r=Na(e),i=pt(n.seconds,r.seconds);return i!==0?i:pt(n.nanos,r.nanos)}function IT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=zl(n[i],r[i]);if(o)return o}return pt(n.length,r.length)}function Yl(t){return bm(t)}function bm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Na(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Da(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Qe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=bm(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${bm(n.fields[l])}`;return i+"}"})(t.mapValue):et(61005,{value:t})}function Vh(t){switch(Ma(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Md(t);return e?16+Vh(e):16;case 5:return 2*t.stringValue.length;case 6:return Da(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Vh(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Co(r.fields,((o,l)=>{i+=o.length+Vh(l)})),i})(t.mapValue);default:throw et(13486,{value:t})}}function NT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Pm(t){return!!t&&"integerValue"in t}function mg(t){return!!t&&"arrayValue"in t}function DT(t){return!!t&&"nullValue"in t}function MT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uh(t){return!!t&&"mapValue"in t}function yD(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[aA])==null?void 0:r.stringValue)===oA}function mc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Co(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=mc(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=mc(t.arrayValue.values[n]);return e}return{...t}}function TD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(n)}setAll(e){let n=Xn.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=mc(l):i.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Co(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new ui(mc(this.value))}}function lA(t){const e=[];return Co(t.fields,((n,r)=>{const i=new Xn([n]);if(Uh(r)){const o=lA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new Ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n,r,i,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ar(e,0,nt.min(),nt.min(),nt.min(),ui.empty(),0)}static newFoundDocument(e,n,r,i){return new ar(e,1,n,nt.min(),r,i,0)}static newNoDocument(e,n){return new ar(e,2,n,nt.min(),nt.min(),ui.empty(),0)}static newUnknownDocument(e,n){return new ar(e,3,n,nt.min(),nt.min(),ui.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.position=e,this.inclusive=n}}function bT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Qe.comparator(Qe.fromName(l.referenceValue),n.key):r=zl(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function PT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function ED(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{}class Cn extends uA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SD(e,n,r):n==="array-contains"?new wD(e,r):n==="in"?new RD(e,r):n==="not-in"?new ID(e,r):n==="array-contains-any"?new ND(e,r):new Cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AD(e,r):new CD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zl(n,this.value)):n!==null&&Ma(this.value)===Ma(n)&&this.matchesComparison(zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends uA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Di(e,n)}matches(e){return cA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cA(t){return t.op==="and"}function fA(t){return xD(t)&&cA(t)}function xD(t){for(const e of t.filters)if(e instanceof Di)return!1;return!0}function Fm(t){if(t instanceof Cn)return t.field.canonicalString()+t.op.toString()+Yl(t.value);if(fA(t))return t.filters.map((e=>Fm(e))).join(",");{const e=t.filters.map((n=>Fm(n))).join(",");return`${t.op}(${e})`}}function hA(t,e){return t instanceof Cn?(function(r,i){return i instanceof Cn&&r.op===i.op&&r.field.isEqual(i.field)&&$i(r.value,i.value)})(t,e):t instanceof Di?(function(r,i){return i instanceof Di&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,c)=>o&&hA(l,i.filters[c])),!0):!1})(t,e):void et(19439)}function dA(t){return t instanceof Cn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yl(n.value)}`})(t):t instanceof Di?(function(n){return n.op.toString()+" {"+n.getFilters().map(dA).join(" ,")+"}"})(t):"Filter"}class SD extends Cn{constructor(e,n,r){super(e,n,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const n=Qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class AD extends Cn{constructor(e,n){super(e,"in",n),this.keys=pA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class CD extends Cn{constructor(e,n){super(e,"not-in",n),this.keys=pA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function pA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Qe.fromName(r.referenceValue)))}class wD extends Cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mg(n)&&Lc(n.arrayValue,this.value)}}class RD extends Cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lc(this.value.arrayValue,n)}}class ID extends Cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lc(this.value.arrayValue,n)}}class ND extends Cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Lc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function FT(t,e=null,n=[],r=[],i=null,o=null,l=null){return new DD(t,e,n,r,i,o,l)}function gg(t){const e=tt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Fm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Yl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Yl(r))).join(",")),e.Te=n}return e.Te}function _g(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ED(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PT(t.startAt,e.startAt)&&PT(t.endAt,e.endAt)}function Lm(t){return Qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MD(t,e,n,r,i,o,l,c){return new jl(t,e,n,r,i,o,l,c)}function mA(t){return new jl(t)}function LT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gA(t){return t.collectionGroup!==null}function gc(t){const e=tt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Mn(Xn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new kc(o,r))})),n.has(Xn.keyField().canonicalString())||e.Ie.push(new kc(Xn.keyField(),r))}return e.Ie}function Ki(t){const e=tt(t);return e.Ee||(e.Ee=_A(e,gc(t))),e.Ee}function bD(t){const e=tt(t);return e.de||(e.de=_A(e,t.explicitOrderBy)),e.de}function _A(t,e){if(t.limitType==="F")return FT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new kc(i.field,o)}));const n=t.endAt?new jh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jh(t.startAt.position,t.startAt.inclusive):null;return FT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function km(t,e){const n=t.filters.concat([e]);return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ed(t,e,n){return new jl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bd(t,e){return _g(Ki(t),Ki(e))&&t.limitType===e.limitType}function vA(t){return`${gg(Ki(t))}|lt:${t.limitType}`}function Cl(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>dA(i))).join(", ")}]`),Dd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Yl(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Yl(i))).join(",")),`Target(${r})`})(Ki(t))}; limitType=${t.limitType})`}function Pd(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Qe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of gc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,d){const h=bT(l,c,d);return l.inclusive?h<=0:h<0})(r.startAt,gc(r),i)||r.endAt&&!(function(l,c,d){const h=bT(l,c,d);return l.inclusive?h>=0:h>0})(r.endAt,gc(r),i))})(t,e)}function PD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yA(t){return(e,n)=>{let r=!1;for(const i of gc(t)){const o=FD(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function FD(t,e,n){const r=t.field.isKeyField()?Qe.comparator(e.key,n.key):(function(o,l,c){const d=l.data.field(o),h=c.data.field(o);return d!==null&&h!==null?zl(d,h):et(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return et(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return eA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new an(Qe.comparator);function Ms(){return LD}const TA=new an(Qe.comparator);function fc(...t){let e=TA;for(const n of t)e=e.insert(n.key,n);return e}function EA(t){let e=TA;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function vo(){return _c()}function xA(){return _c()}function _c(){return new wo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const kD=new an(Qe.comparator),OD=new Mn(Qe.comparator);function mt(...t){let e=OD;for(const n of t)e=e.add(n);return e}const VD=new Mn(pt);function UD(){return VD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function SA(t){return{integerValue:""+t}}function BD(t,e){return hD(e)?SA(e):vg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this._=void 0}}function HD(t,e,n){return t instanceof td?(function(i,o){const l={fields:{[rA]:{stringValue:nA},[sA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&pg(o)&&(o=Md(o)),o&&(l.fields[iA]=o),{mapValue:l}})(n,e):t instanceof Oc?CA(t,e):t instanceof Vc?wA(t,e):(function(i,o){const l=AA(i,o),c=kT(l)+kT(i.Ae);return Pm(l)&&Pm(i.Ae)?SA(c):vg(i.serializer,c)})(t,e)}function GD(t,e,n){return t instanceof Oc?CA(t,e):t instanceof Vc?wA(t,e):n}function AA(t,e){return t instanceof nd?(function(r){return Pm(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class td extends Fd{}class Oc extends Fd{constructor(e){super(),this.elements=e}}function CA(t,e){const n=RA(e);for(const r of t.elements)n.some((i=>$i(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Vc extends Fd{constructor(e){super(),this.elements=e}}function wA(t,e){let n=RA(e);for(const r of t.elements)n=n.filter((i=>!$i(i,r)));return{arrayValue:{values:n}}}class nd extends Fd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kT(t){return gn(t.integerValue||t.doubleValue)}function RA(t){return mg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qD(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Oc&&i instanceof Oc||r instanceof Vc&&i instanceof Vc?ql(r.elements,i.elements,$i):r instanceof nd&&i instanceof nd?$i(r.Ae,i.Ae):r instanceof td&&i instanceof td})(t.transform,e.transform)}class zD{constructor(e,n){this.version=e,this.transformResults=n}}class Cs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cs}static exists(e){return new Cs(void 0,e)}static updateTime(e){return new Cs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ld{}function IA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DA(t.key,Cs.none()):new Wc(t.key,t.data,Cs.none());{const n=t.data,r=ui.empty();let i=new Mn(Xn.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Ro(t.key,r,new Ri(i.toArray()),Cs.none())}}function YD(t,e,n){t instanceof Wc?(function(i,o,l){const c=i.value.clone(),d=VT(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Ro?(function(i,o,l){if(!Bh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=VT(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(NA(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function vc(t,e,n,r){return t instanceof Wc?(function(o,l,c,d){if(!Bh(o.precondition,l))return c;const h=o.value.clone(),m=UT(o.fieldTransforms,d,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ro?(function(o,l,c,d){if(!Bh(o.precondition,l))return c;const h=UT(o.fieldTransforms,d,l),m=l.data;return m.setAll(NA(o)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(o,l,c){return Bh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function KD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=AA(r.transform,i||null);o!=null&&(n===null&&(n=ui.empty()),n.set(r.field,o))}return n||null}function OT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ql(r,i,((o,l)=>qD(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wc extends Ld{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ro extends Ld{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function NA(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function VT(t,e,n){const r=new Map;Rt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,GD(l,c,n[i]))}return r}function UT(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,HD(o,l,e))}return r}class DA extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WD extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&YD(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xA();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const d=IA(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(nt.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),mt())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,((n,r)=>OT(n,r)))&&ql(this.baseMutations,e.baseMutations,((n,r)=>OT(n,r)))}}class yg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return kD})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new yg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,vt;function ZD(t){switch(t){case Ae.OK:return et(64938);case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return et(15467,{code:t})}}function MA(t){if(t===void 0)return Ds("GRPC error has no .code"),Ae.UNKNOWN;switch(t){case An.OK:return Ae.OK;case An.CANCELLED:return Ae.CANCELLED;case An.UNKNOWN:return Ae.UNKNOWN;case An.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case An.INTERNAL:return Ae.INTERNAL;case An.UNAVAILABLE:return Ae.UNAVAILABLE;case An.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case An.NOT_FOUND:return Ae.NOT_FOUND;case An.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case An.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case An.ABORTED:return Ae.ABORTED;case An.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case An.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case An.DATA_LOSS:return Ae.DATA_LOSS;default:return et(39323,{code:t})}}(vt=An||(An={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=new wa([4294967295,4294967295],0);function BT(t){const e=jD().encode(t),n=new qS;return n.update(e),new Uint8Array(n.digest())}function HT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new wa([n,r],0),new wa([i,o],0)]}class Tg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hc(`Invalid padding: ${n}`);if(r<0)throw new hc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=wa.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(wa.fromNumber(r)));return i.compare(e3)===1&&(i=new wa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BT(e),[r,i]=HT(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Tg(o,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=BT(e),[r,i]=HT(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kd(nt.min(),i,new an(pt),Ms(),mt())}}class Xc{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xc(r,n,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class bA{constructor(e,n){this.targetId=e,this.Ce=n}}class PA{constructor(e,n,r=Zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class GT{constructor(){this.ve=0,this.Fe=qT(),this.Me=Zn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=mt(),n=mt(),r=mt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:et(38017,{changeType:o})}})),new Xc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=qT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class t3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ms(),this.Je=wh(),this.He=wh(),this.Ye=new an(pt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:et(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Lm(o))if(r===0){const l=new Qe(o.path);this.et(n,l,ar.newNoDocument(l,nt.min()))}else Rt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,c;try{l=Da(r).toUint8Array()}catch(d){if(d instanceof tA)return Gl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Tg(l,i,o)}catch(d){return Gl(d instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&Lm(c.target)){const d=new Qe(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,ar.newNoDocument(d,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=mt();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new kd(e,n,this.Ye,this.je,r);return this.je=Ms(),this.Je=wh(),this.He=wh(),this.Ye=new an(pt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new GT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mn(pt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mn(pt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ze("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new GT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wh(){return new an(Qe.comparator)}function qT(){return new an(Qe.comparator)}const n3={asc:"ASCENDING",desc:"DESCENDING"},r3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i3={and:"AND",or:"OR"};class s3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(t,e){return t.useProto3Json||Dd(e)?e:{value:e}}function rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function a3(t,e){return rd(t,e.toTimestamp())}function Wi(t){return Rt(!!t,49232),nt.fromTimestamp((function(n){const r=Na(n);return new jt(r.seconds,r.nanos)})(t))}function Eg(t,e){return Vm(t,e).canonicalString()}function Vm(t,e){const n=(function(i){return new Jt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function LA(t){const e=Jt.fromString(t);return Rt(HA(e),10190,{key:e.toString()}),e}function Um(t,e){return Eg(t.databaseId,e.path)}function um(t,e){const n=LA(e);if(n.get(1)!==t.databaseId.projectId)throw new Ge(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ge(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Qe(OA(n))}function kA(t,e){return Eg(t.databaseId,e)}function o3(t){const e=LA(t);return e.length===4?Jt.emptyPath():OA(e)}function Bm(t){return new Jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function OA(t){return Rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zT(t,e,n){return{name:Um(t,e),fields:n.value.mapValue.fields}}function l3(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:et(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(h,m){return h.useProto3Json?(Rt(m===void 0||typeof m=="string",58123),Zn.fromBase64String(m||"")):(Rt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Zn.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const m=h.code===void 0?Ae.UNKNOWN:MA(h.code);return new Ge(m,h.message||"")})(l);n=new PA(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=um(t,r.document.name),o=Wi(r.document.updateTime),l=r.document.createTime?Wi(r.document.createTime):nt.min(),c=new ui({mapValue:{fields:r.document.fields}}),d=ar.newFoundDocument(i,o,l,c),h=r.targetIds||[],m=r.removedTargetIds||[];n=new Hh(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=um(t,r.document),o=r.readTime?Wi(r.readTime):nt.min(),l=ar.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Hh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=um(t,r.document),o=r.removedTargetIds||[];n=new Hh([],o,i,null)}else{if(!("filter"in e))return et(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new QD(i,o),c=r.targetId;n=new bA(c,l)}}return n}function u3(t,e){let n;if(e instanceof Wc)n={update:zT(t,e.key,e.value)};else if(e instanceof DA)n={delete:Um(t,e.key)};else if(e instanceof Ro)n={update:zT(t,e.key,e.data),updateMask:v3(e.fieldMask)};else{if(!(e instanceof WD))return et(16599,{Vt:e.type});n={verify:Um(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof td)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Oc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Vc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof nd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw et(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:a3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:et(27497)})(t,e.precondition)),n}function c3(t,e){return t&&t.length>0?(Rt(e!==void 0,14353),t.map((n=>(function(i,o){let l=i.updateTime?Wi(i.updateTime):Wi(o);return l.isEqual(nt.min())&&(l=Wi(o)),new zD(l,i.transformResults||[])})(n,e)))):[]}function f3(t,e){return{documents:[kA(t,e.path)]}}function VA(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kA(t,i);const o=(function(h){if(h.length!==0)return BA(Di.create(h,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(h){if(h.length!==0)return h.map((m=>(function(E){return{field:ya(E.field),direction:m3(E.dir)}})(m)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Om(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function h3(t,e,n,r){const{ft:i,parent:o}=VA(t,e),l={},c=[];let d=0;return n.forEach((h=>{const m="aggregate_"+d++;l[m]=h.alias,h.aggregateType==="count"?c.push({alias:m,count:{}}):h.aggregateType==="avg"?c.push({alias:m,avg:{field:ya(h.fieldPath)}}):h.aggregateType==="sum"&&c.push({alias:m,sum:{field:ya(h.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:c,structuredQuery:i.structuredQuery},parent:i.parent},gt:l,parent:o}}function d3(t){let e=o3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rt(r===1,65062);const m=n.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=(function(y){const E=UA(y);return E instanceof Di&&fA(E)?E.getFilters():[E]})(n.where));let l=[];n.orderBy&&(l=(function(y){return y.map((E=>(function(R){return new kc(wl(R.field),(function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(E)))})(n.orderBy));let c=null;n.limit&&(c=(function(y){let E;return E=typeof y=="object"?y.value:y,Dd(E)?null:E})(n.limit));let d=null;n.startAt&&(d=(function(y){const E=!!y.before,x=y.values||[];return new jh(x,E)})(n.startAt));let h=null;return n.endAt&&(h=(function(y){const E=!y.before,x=y.values||[];return new jh(x,E)})(n.endAt)),MD(e,i,l,o,c,"F",d,h)}function p3(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return et(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UA(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wl(n.unaryFilter.field);return Cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wl(n.unaryFilter.field);return Cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wl(n.unaryFilter.field);return Cn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=wl(n.unaryFilter.field);return Cn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return et(61313);default:return et(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Cn.create(wl(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return et(58110);default:return et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Di.create(n.compositeFilter.filters.map((r=>UA(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return et(1026)}})(n.compositeFilter.op))})(t):et(30097,{filter:t})}function m3(t){return n3[t]}function g3(t){return r3[t]}function _3(t){return i3[t]}function ya(t){return{fieldPath:t.canonicalString()}}function wl(t){return Xn.fromServerFormat(t.fieldPath)}function BA(t){return t instanceof Cn?(function(n){if(n.op==="=="){if(MT(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NAN"}};if(DT(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(MT(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NAN"}};if(DT(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(n.field),op:g3(n.op),value:n.value}}})(t):t instanceof Di?(function(n){const r=n.getFilters().map((i=>BA(i)));return r.length===1?r[0]:{compositeFilter:{op:_3(n.op),filters:r}}})(t):et(54877,{filter:t})}function v3(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n,r,i,o=nt.min(),l=nt.min(),c=Zn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.yt=e}}function T3(t){const e=d3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(){this.Cn=new x3}addToCollectionParentIndex(e,n){return this.Cn.add(n),Ce.resolve()}getCollectionParents(e,n){return Ce.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Ce.resolve()}deleteFieldIndex(e,n){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,n){return Ce.resolve()}getDocumentsMatchingTarget(e,n){return Ce.resolve(null)}getIndexType(e,n){return Ce.resolve(0)}getFieldIndexes(e,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,n){return Ce.resolve(Ia.min())}getMinOffsetFromCollectionGroup(e,n){return Ce.resolve(Ia.min())}updateCollectionGroup(e,n,r){return Ce.resolve()}updateIndexEntries(e,n){return Ce.resolve()}}class x3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Mn(Jt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mn(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GA=41943040;class Rr{static withCacheSize(e){return new Rr(e,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr.DEFAULT_COLLECTION_PERCENTILE=10,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rr.DEFAULT=new Rr(GA,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rr.DISABLED=new Rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Kl(0)}static cr(){return new Kl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="LruGarbageCollector",S3=1048576;function WT([t,e],[n,r]){const i=pt(t,n);return i===0?pt(e,r):i}class A3{constructor(e){this.Ir=e,this.buffer=new Mn(WT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C3{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ze(KT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zl(n)?ze(KT,"Ignoring IndexedDB error during garbage collection: ",n):await Ql(n)}await this.Vr(3e5)}))}}class w3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Ce.resolve(Nd.ce);const r=new A3(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(YT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,l,c,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,n)))).next((y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(h=Date.now(),Al()<=yt.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y}))))}}function R3(t,e){return new w3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.changes=new wo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ar.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&vc(r.mutation,i,Ri.empty(),jt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,mt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=mt()){const i=vo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let l=fc();return o.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=vo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,mt())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let o=Ms();const l=_c(),c=(function(){return _c()})();return n.forEach(((d,h)=>{const m=r.get(h.key);i.has(h.key)&&(m===void 0||m.mutation instanceof Ro)?o=o.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),vc(m.mutation,h,m.mutation.getFieldMask(),jt.now())):l.set(h.key,Ri.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((h,m)=>l.set(h,m))),n.forEach(((h,m)=>c.set(h,new N3(m,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=_c();let i=new an(((l,c)=>l-c)),o=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let m=r.get(d)||Ri.empty();m=c.applyToLocalView(h,m),r.set(d,m);const y=(i.get(c.batchId)||mt()).add(d);i=i.insert(c.batchId,y)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,m=d.value,y=xA();m.forEach((E=>{if(!o.has(E)){const x=IA(n.get(E),r.get(E));x!==null&&y.set(E,x),o=o.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,y))}return Ce.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Qe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ce.resolve(vo());let c=bc,d=o;return l.next((h=>Ce.forEach(h,((m,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(m)?Ce.resolve():this.remoteDocumentCache.getEntry(e,m).next((E=>{d=d.insert(m,E)}))))).next((()=>this.populateOverlays(e,h,o))).next((()=>this.computeViews(e,d,h,mt()))).next((m=>({batchId:c,changes:EA(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Qe(n)).next((r=>{let i=fc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=fc();return this.indexManager.getCollectionParents(e,o).next((c=>Ce.forEach(c,(d=>{const h=(function(y,E){return new jl(E,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((m=>{m.forEach(((y,E)=>{l=l.insert(y,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((l=>{o.forEach(((d,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,ar.newInvalidDocument(m)))}));let c=fc();return l.forEach(((d,h)=>{const m=o.get(d);m!==void 0&&vc(m.mutation,h,Ri.empty(),jt.now()),Pd(n,h)&&(c=c.insert(d,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Ce.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Wi(i.createTime)}})(n)),Ce.resolve()}getNamedQuery(e,n){return Ce.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:T3(i.bundledQuery),readTime:Wi(i.readTime)}})(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(){this.overlays=new an(Qe.comparator),this.qr=new Map}getOverlay(e,n){return Ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vo();return Ce.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),Ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Ce.resolve()}getOverlaysForCollection(e,n,r){const i=vo(),o=n.length+1,l=new Qe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new an(((h,m)=>h-m));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let m=o.get(h.largestBatchId);m===null&&(m=vo(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=vo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,m)=>c.set(h,m))),!(c.size()>=i)););return Ce.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new JD(n,r));let o=this.qr.get(n);o===void 0&&(o=mt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this.Qr=new Mn(Ln.$r),this.Ur=new Mn(Ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ln(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ln(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Qe(new Jt([])),r=new Ln(n,e),i=new Ln(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Qe(new Jt([])),r=new Ln(n,e),i=new Ln(n,e+1);let o=mt();return this.Ur.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new Ln(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ln{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Qe.comparator(e.key,n.key)||pt(e.Yr,n.Yr)}static Kr(e,n){return pt(e.Yr,n.Yr)||Qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mn(Ln.$r)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new XD(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Ln(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ce.resolve(l)}lookupMutationBatch(e,n){return Ce.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return Ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?dg:this.tr-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ln(n,0),i=new Ln(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);o.push(c)})),Ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Mn(pt);return n.forEach((i=>{const o=new Ln(i,0),l=new Ln(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),Ce.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Qe.isDocumentKey(o)||(o=o.child(""));const l=new Ln(new Qe(o),0);let c=new Mn(pt);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.Yr)),!0)}),l),Ce.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ce.forEach(n.mutations,(i=>{const o=new Ln(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ln(n,0),i=this.Zr.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e){this.ri=e,this.docs=(function(){return new an(Qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():ar.newInvalidDocument(n))}getEntries(e,n){let r=Ms();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ar.newInvalidDocument(i))})),Ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ms();const l=n.path,c=new Qe(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||lD(oD(m),r)<=0||(i.has(m.key)||Pd(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return Ce.resolve(o)}getAllFromCollectionGroup(e,n,r,i){et(9500)}ii(e,n){return Ce.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new k3(this)}getSize(e){return Ce.resolve(this.size)}}class k3 extends I3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ce.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(e){this.persistence=e,this.si=new wo((n=>gg(n)),_g),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.oi=0,this._i=new xg,this.targetCount=0,this.ai=Kl.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Ce.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Kl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Ce.resolve()}updateTargetData(e,n){return this.Pr(n),Ce.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),Ce.waitFor(o).next((()=>i))}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Ce.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Ce.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),Ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Ce.resolve(r)}containsKey(e,n){return Ce.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Nd(0),this.li=!1,this.li=!0,this.hi=new P3,this.referenceDelegate=e(this),this.Pi=new O3(this),this.indexManager=new E3,this.remoteDocumentCache=(function(i){return new L3(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new y3(n),this.Ii=new M3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new F3(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ze("MemoryPersistence","Starting transaction:",e);const i=new V3(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return Ce.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class V3 extends cD{constructor(e){super(),this.currentSequenceNumber=e}}class Sg{constructor(e){this.persistence=e,this.Ri=new xg,this.Vi=null}static mi(e){return new Sg(e)}get fi(){if(this.Vi)return this.Vi;throw et(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Ce.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Ce.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.fi,(r=>{const i=Qe.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,nt.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Ce.or([()=>Ce.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class id{constructor(e,n){this.persistence=e,this.pi=new wo((r=>dD(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=R3(this,n)}static mi(e,n){return new id(e,n)}Ei(){}di(e){return Ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Ce.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?Ce.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,nt.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ce.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Ce.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Vh(e.data.value)),n}br(e,n,r){return Ce.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return Ce.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=mt(),i=mt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ag(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return N4()?8:fD(R4())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new U3;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Al()<=yt.DEBUG&&ze("QueryEngine","SDK will not create cache indexes for query:",Cl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ce.resolve()):(Al()<=yt.DEBUG&&ze("QueryEngine","Query:",Cl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Al()<=yt.DEBUG&&ze("QueryEngine","The SDK decides to create cache indexes for query:",Cl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):Ce.resolve())}ys(e,n){if(LT(n))return Ce.resolve(null);let r=Ki(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=ed(n,null,"F"),r=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=mt(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,c);return this.Cs(n,h,l,d.readTime)?this.ys(e,ed(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,i){return LT(n)||i.isEqual(nt.min())?Ce.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,i)?Ce.resolve(null):(Al()<=yt.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cl(n)),this.vs(e,l,n,aD(i,bc)).next((c=>c)))}))}Ds(e,n){let r=new Mn(yA(e));return n.forEach(((i,o)=>{Pd(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Al()<=yt.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",Cl(n)),this.ps.getDocumentsMatchingQuery(e,n,Ia.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="LocalStore",H3=3e8;class G3{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new an(pt),this.xs=new wo((o=>gg(o)),_g),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function q3(t,e,n,r){return new G3(t,e,n,r)}async function zA(t,e){const n=tt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let d=mt();for(const h of i){l.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of o){c.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function z3(t,e){const n=tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,h,m){const y=h.batch,E=y.keys();let x=Ce.resolve();return E.forEach((R=>{x=x.next((()=>m.getEntry(d,R))).next((A=>{const I=h.docVersions.get(R);Rt(I!==null,48541),A.version.compareTo(I)<0&&(y.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),m.addEntry(A)))}))})),x.next((()=>c.mutationQueue.removeMutationBatch(d,y)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=mt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function YA(t){const e=tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Y3(t,e){const n=tt(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((m,y)=>{const E=i.get(y);if(!E)return;c.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,y).next((()=>n.Pi.addMatchingKeys(o,m.addedDocuments,y))));let x=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?x=x.withResumeToken(Zn.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),i=i.insert(y,x),(function(A,I,q){return A.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=H3?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(E,x,m)&&c.push(n.Pi.updateTargetData(o,x))}));let d=Ms(),h=mt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))})),c.push(K3(o,l,e.documentUpdates).next((m=>{d=m.ks,h=m.qs}))),!r.isEqual(nt.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next((y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(m)}return Ce.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,d,h))).next((()=>d))})).then((o=>(n.Ms=i,o)))}function K3(t,e,n){let r=mt(),i=mt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=Ms();return n.forEach(((c,d)=>{const h=o.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(nt.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ze(Cg,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function W3(t,e){const n=tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=dg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function X3(t,e){const n=tt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,Ce.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new Ta(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Hm(t,e,n){const r=tt(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Zl(l))throw l;ze(Cg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function XT(t,e,n){const r=tt(t);let i=nt.min(),o=mt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,m){const y=tt(d),E=y.xs.get(m);return E!==void 0?Ce.resolve(y.Ms.get(E)):y.Pi.getTargetData(h,m)})(r,l,Ki(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{o=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:nt.min(),n?o:mt()))).next((c=>(J3(r,PD(e),c),{documents:c,Qs:o})))))}function J3(t,e,n){let r=t.Os.get(e)||nt.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class JT{constructor(){this.activeTargetIds=UD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $3{constructor(){this.Mo=new JT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new JT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="ConnectivityMonitor";class QT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ze($T,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ze($T,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh=null;function Gm(){return Rh===null?Rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rh++,"0x"+Rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="RestConnection",Z3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Qh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const l=Gm(),c=this.zo(e,n.toUriEncodedString());ze(cm,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,o);const{host:h}=new URL(c),m=ug(h);return this.Jo(e,c,d,r,m).then((y=>(ze(cm,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw Gl(cm,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y}))}Ho(e,n,r,i,o,l){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$l})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=Z3[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="WebChannelConnection";class tM extends j3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=Gm();return new Promise(((c,d)=>{const h=new zS;h.setWithCredentials(!0),h.listenOnce(YS.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Oh.NO_ERROR:const y=h.getResponseJson();ze(ir,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Oh.TIMEOUT:ze(ir,`RPC '${e}' ${l} timed out`),d(new Ge(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Oh.HTTP_ERROR:const E=h.getStatus();if(ze(ir,`RPC '${e}' ${l} failed with status:`,E,"response text:",h.getResponseText()),E>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const R=x==null?void 0:x.error;if(R&&R.status&&R.message){const A=(function(q){const X=q.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(X)>=0?X:Ae.UNKNOWN})(R.status);d(new Ge(A,R.message))}else d(new Ge(Ae.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Ge(Ae.UNAVAILABLE,"Connection failed."));break;default:et(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ze(ir,`RPC '${e}' ${l} completed.`)}}));const m=JSON.stringify(i);ze(ir,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",m,r,15)}))}T_(e,n,r){const i=Gm(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=XS(),c=WS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const m=o.join("");ze(ir,`Creating RPC '${e}' stream ${i}: ${m}`,d);const y=l.createWebChannel(m,d);this.I_(y);let E=!1,x=!1;const R=new eM({Yo:I=>{x?ze(ir,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(E||(ze(ir,`Opening RPC '${e}' stream ${i} transport.`),y.open(),E=!0),ze(ir,`RPC '${e}' stream ${i} sending:`,I),y.send(I))},Zo:()=>y.close()}),A=(I,q,X)=>{I.listen(q,(G=>{try{X(G)}catch(te){setTimeout((()=>{throw te}),0)}}))};return A(y,cc.EventType.OPEN,(()=>{x||(ze(ir,`RPC '${e}' stream ${i} transport opened.`),R.o_())})),A(y,cc.EventType.CLOSE,(()=>{x||(x=!0,ze(ir,`RPC '${e}' stream ${i} transport closed`),R.a_(),this.E_(y))})),A(y,cc.EventType.ERROR,(I=>{x||(x=!0,Gl(ir,`RPC '${e}' stream ${i} transport errored. Name:`,I.name,"Message:",I.message),R.a_(new Ge(Ae.UNAVAILABLE,"The operation could not be completed")))})),A(y,cc.EventType.MESSAGE,(I=>{var q;if(!x){const X=I.data[0];Rt(!!X,16349);const G=X,te=(G==null?void 0:G.error)||((q=G[0])==null?void 0:q.error);if(te){ze(ir,`RPC '${e}' stream ${i} received error:`,te);const he=te.status;let me=(function(D){const k=An[D];if(k!==void 0)return MA(k)})(he),N=te.message;me===void 0&&(me=Ae.INTERNAL,N="Unknown error status: "+he+" with message "+te.message),x=!0,R.a_(new Ge(me,N)),y.close()}else ze(ir,`RPC '${e}' stream ${i} received:`,X),R.u_(X)}})),A(c,KS.STAT_EVENT,(I=>{I.stat===Dm.PROXY?ze(ir,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Dm.NOPROXY&&ze(ir,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(t){return new s3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="PersistentStream";class WA{constructor(e,n,r,i,o,l,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ae.RESOURCE_EXHAUSTED?(Ds(n.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ge(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ze(ZT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ze(ZT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class nM extends WA{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=l3(this.serializer,e),r=(function(o){if(!("targetChange"in o))return nt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?nt.min():l.readTime?Wi(l.readTime):nt.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Bm(this.serializer),n.addTarget=(function(o,l){let c;const d=l.target;if(c=Lm(d)?{documents:f3(o,d)}:{query:VA(o,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=FA(o,l.resumeToken);const h=Om(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(nt.min())>0){c.readTime=rd(o,l.snapshotVersion.toTimestamp());const h=Om(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=p3(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Bm(this.serializer),n.removeTarget=e,this.q_(n)}}class rM extends WA{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=c3(e.writeResults,e.commitTime),r=Wi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Bm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>u3(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{}class sM extends iM{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ge(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,Vm(n,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ge(Ae.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,Vm(n,r),i,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ge(Ae.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class aM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ds(n),this.aa=!1):ze("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="RemoteStore";class oM{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Io(this)&&(ze(Eo,"Restarting streams for network reachability change."),await(async function(d){const h=tt(d);h.Ea.add(4),await Jc(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Vd(h)})(this))}))})),this.Ra=new aM(r,i)}}async function Vd(t){if(Io(t))for(const e of t.da)await e(!0)}async function Jc(t){for(const e of t.da)await e(!1)}function XA(t,e){const n=tt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ng(n)?Ig(n):eu(n).O_()&&Rg(n,e))}function wg(t,e){const n=tt(t),r=eu(n);n.Ia.delete(e),r.O_()&&JA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Io(n)&&n.Ra.set("Unknown"))}function Rg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}eu(t).Y_(e)}function JA(t,e){t.Va.Ue(e),eu(t).Z_(e)}function Ig(t){t.Va=new t3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),eu(t).start(),t.Ra.ua()}function Ng(t){return Io(t)&&!eu(t).x_()&&t.Ia.size>0}function Io(t){return tt(t).Ea.size===0}function $A(t){t.Va=void 0}async function lM(t){t.Ra.set("Online")}async function uM(t){t.Ia.forEach(((e,n)=>{Rg(t,e)}))}async function cM(t,e){$A(t),Ng(t)?(t.Ra.ha(e),Ig(t)):t.Ra.set("Unknown")}async function fM(t,e,n){if(t.Ra.set("Online"),e instanceof PA&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){ze(Eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sd(t,r)}else if(e instanceof Hh?t.Va.Ze(e):e instanceof bA?t.Va.st(e):t.Va.tt(e),!n.isEqual(nt.min()))try{const r=await YA(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.Ia.get(h);m&&o.Ia.set(h,m.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,h)=>{const m=o.Ia.get(d);if(!m)return;o.Ia.set(d,m.withResumeToken(Zn.EMPTY_BYTE_STRING,m.snapshotVersion)),JA(o,d);const y=new Ta(m.target,d,h,m.sequenceNumber);Rg(o,y)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ze(Eo,"Failed to raise snapshot:",r),await sd(t,r)}}async function sd(t,e,n){if(!Zl(e))throw e;t.Ea.add(1),await Jc(t),t.Ra.set("Offline"),n||(n=()=>YA(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ze(Eo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Vd(t)}))}function QA(t,e){return e().catch((n=>sd(t,n,e)))}async function Ud(t){const e=tt(t),n=ba(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dg;for(;hM(e);)try{const i=await W3(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,dM(e,i)}catch(i){await sd(e,i)}ZA(e)&&jA(e)}function hM(t){return Io(t)&&t.Ta.length<10}function dM(t,e){t.Ta.push(e);const n=ba(t);n.O_()&&n.X_&&n.ea(e.mutations)}function ZA(t){return Io(t)&&!ba(t).x_()&&t.Ta.length>0}function jA(t){ba(t).start()}async function pM(t){ba(t).ra()}async function mM(t){const e=ba(t);for(const n of t.Ta)e.ea(n.mutations)}async function gM(t,e,n){const r=t.Ta.shift(),i=yg.from(r,e,n);await QA(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ud(t)}async function _M(t,e){e&&ba(t).X_&&await(async function(r,i){if((function(l){return ZD(l)&&l!==Ae.ABORTED})(i.code)){const o=r.Ta.shift();ba(r).B_(),await QA(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Ud(r)}})(t,e),ZA(t)&&jA(t)}async function jT(t,e){const n=tt(t);n.asyncQueue.verifyOperationInProgress(),ze(Eo,"RemoteStore received new credentials");const r=Io(n);n.Ea.add(3),await Jc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vd(n)}async function vM(t,e){const n=tt(t);e?(n.Ea.delete(2),await Vd(n)):e||(n.Ea.add(2),await Jc(n),n.Ra.set("Unknown"))}function eu(t){return t.ma||(t.ma=(function(n,r,i){const o=tt(n);return o.sa(),new nM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:lM.bind(null,t),t_:uM.bind(null,t),r_:cM.bind(null,t),H_:fM.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Ng(t)?Ig(t):t.Ra.set("Unknown")):(await t.ma.stop(),$A(t))}))),t.ma}function ba(t){return t.fa||(t.fa=(function(n,r,i){const o=tt(n);return o.sa(),new rM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:pM.bind(null,t),r_:_M.bind(null,t),ta:mM.bind(null,t),na:gM.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ud(t)):(await t.fa.stop(),t.Ta.length>0&&(ze(Eo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new Dg(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ge(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(t,e){if(Ds("AsyncQueue",`${e}: ${t}`),Zl(t))return new Ge(Ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{static emptySet(e){return new Ml(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Qe.comparator(n.key,r.key):(n,r)=>Qe.comparator(n.key,r.key),this.keyedMap=fc(),this.sortedSet=new an(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ml;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.ga=new an(Qe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):et(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Wl{constructor(e,n,r,i,o,l,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Wl(e,n,Ml.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class TM{constructor(){this.queries=tE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=tt(n),o=i.queries;i.queries=tE(),o.forEach(((l,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new Ge(Ae.ABORTED,"Firestore shutting down"))}}function tE(){return new wo((t=>vA(t)),bd)}async function EM(t,e){const n=tt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new yM,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=Mg(l,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&bg(n)}async function xM(t,e){const n=tt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SM(t,e){const n=tt(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&bg(n)}function AM(t,e,n){const r=tt(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function bg(t){t.Ca.forEach((e=>{e.next()}))}var qm,nE;(nE=qm||(qm={})).Ma="default",nE.Cache="cache";class CM{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.key=e}}class t2{constructor(e){this.key=e}}class wM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=mt(),this.mutatedKeys=mt(),this.eu=yA(e),this.tu=new Ml(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new eE,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((m,y)=>{const E=i.get(m),x=Pd(this.query,y)?y:null,R=!!E&&this.mutatedKeys.has(E.key),A=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let I=!1;E&&x?E.data.isEqual(x.data)?R!==A&&(r.track({type:3,doc:x}),I=!0):this.su(E,x)||(r.track({type:2,doc:x}),I=!0,(d&&this.eu(x,d)>0||h&&this.eu(x,h)<0)&&(c=!0)):!E&&x?(r.track({type:0,doc:x}),I=!0):E&&!x&&(r.track({type:1,doc:E}),I=!0,(d||h)&&(c=!0)),I&&(x?(l=l.add(x),o=A?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((m,y)=>(function(x,R){const A=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et(20277,{Rt:I})}};return A(x)-A(R)})(m.type,y.type)||this.eu(m.doc,y.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new Wl(this.query,e.tu,o,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new t2(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new e2(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=mt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pg="SyncEngine";class RM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IM{constructor(e){this.key=e,this.hu=!1}}class NM{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new wo((c=>vA(c)),bd),this.Iu=new Map,this.Eu=new Set,this.du=new an(Qe.comparator),this.Au=new Map,this.Ru=new xg,this.Vu={},this.mu=new Map,this.fu=Kl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function DM(t,e,n=!0){const r=o2(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await n2(r,e,n,!0),i}async function MM(t,e){const n=o2(t);await n2(n,e,!0,!1)}async function n2(t,e,n,r){const i=await X3(t.localStore,Ki(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await bM(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&XA(t.remoteStore,i),c}async function bM(t,e,n,r,i){t.pu=(y,E,x)=>(async function(A,I,q,X){let G=I.view.ru(q);G.Cs&&(G=await XT(A.localStore,I.query,!1).then((({documents:N})=>I.view.ru(N,G))));const te=X&&X.targetChanges.get(I.targetId),he=X&&X.targetMismatches.get(I.targetId)!=null,me=I.view.applyChanges(G,A.isPrimaryClient,te,he);return iE(A,I.targetId,me.au),me.snapshot})(t,y,E,x);const o=await XT(t.localStore,e,!0),l=new wM(e,o.Qs),c=l.ru(o.documents),d=Xc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,d);iE(t,n,h.au);const m=new RM(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function PM(t,e,n){const r=tt(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!bd(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wg(r.remoteStore,i.targetId),zm(r,i.targetId)})).catch(Ql)):(zm(r,i.targetId),await Hm(r.localStore,i.targetId,!0))}async function FM(t,e){const n=tt(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wg(n.remoteStore,r.targetId))}async function LM(t,e,n){const r=GM(t);try{const i=await(function(l,c){const d=tt(l),h=jt.now(),m=c.reduce(((x,R)=>x.add(R.key)),mt());let y,E;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let R=Ms(),A=mt();return d.Ns.getEntries(x,m).next((I=>{R=I,R.forEach(((q,X)=>{X.isValidDocument()||(A=A.add(q))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,R))).next((I=>{y=I;const q=[];for(const X of c){const G=KD(X,y.get(X.key).overlayedDocument);G!=null&&q.push(new Ro(X.key,G,lA(G.value.mapValue),Cs.exists(!0)))}return d.mutationQueue.addMutationBatch(x,h,q,c)})).next((I=>{E=I;const q=I.applyToLocalDocumentSet(y,A);return d.documentOverlayCache.saveOverlays(x,I.batchId,q)}))})).then((()=>({batchId:E.batchId,changes:EA(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new an(pt)),h=h.insert(c,d),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await $c(r,i.changes),await Ud(r.remoteStore)}catch(i){const o=Mg(i,"Failed to persist write");n.reject(o)}}async function r2(t,e){const n=tt(t);try{const r=await Y3(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=n.Au.get(o);l&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Rt(l.hu,14607):i.removedDocuments.size>0&&(Rt(l.hu,42227),l.hu=!1))})),await $c(n,r,e)}catch(r){await Ql(r)}}function rE(t,e,n){const r=tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const d=tt(l);d.onlineState=c;let h=!1;d.queries.forEach(((m,y)=>{for(const E of y.Sa)E.va(c)&&(h=!0)})),h&&bg(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kM(t,e,n){const r=tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new an(Qe.comparator);l=l.insert(o,ar.newNoDocument(o,nt.min()));const c=mt().add(o),d=new kd(nt.min(),new Map,new an(pt),l,c);await r2(r,d),r.du=r.du.remove(o),r.Au.delete(e),Fg(r)}else await Hm(r.localStore,e,!1).then((()=>zm(r,e,n))).catch(Ql)}async function OM(t,e){const n=tt(t),r=e.batch.batchId;try{const i=await z3(n.localStore,e);s2(n,r,null),i2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $c(n,i)}catch(i){await Ql(i)}}async function VM(t,e,n){const r=tt(t);try{const i=await(function(l,c){const d=tt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let m;return d.mutationQueue.lookupMutationBatch(h,c).next((y=>(Rt(y!==null,37113),m=y.keys(),d.mutationQueue.removeMutationBatch(h,y)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m))).next((()=>d.localDocuments.getDocuments(h,m)))}))})(r.localStore,e);s2(r,e,n),i2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $c(r,i)}catch(i){await Ql(i)}}function i2(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function s2(t,e,n){const r=tt(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function zm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||a2(t,r)}))}function a2(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(wg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Fg(t))}function iE(t,e,n){for(const r of n)r instanceof e2?(t.Ru.addReference(r.key,e),UM(t,r)):r instanceof t2?(ze(Pg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||a2(t,r.key)):et(19791,{wu:r})}function UM(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ze(Pg,"New document in limbo: "+n),t.Eu.add(r),Fg(t))}function Fg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Qe(Jt.fromString(e)),r=t.fu.next();t.Au.set(r,new IM(n)),t.du=t.du.insert(n,r),XA(t.remoteStore,new Ta(Ki(mA(n.path)),r,"TargetPurposeLimboResolution",Nd.ce))}}async function $c(t,e,n){const r=tt(t),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((h=>{var m;if((h||n)&&r.isPrimaryClient){const y=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(h){i.push(h);const y=Ag.As(d.targetId,h);o.push(y)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(d,h){const m=tt(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>Ce.forEach(h,(E=>Ce.forEach(E.Es,(x=>m.persistence.referenceDelegate.addReference(y,E.targetId,x))).next((()=>Ce.forEach(E.ds,(x=>m.persistence.referenceDelegate.removeReference(y,E.targetId,x)))))))))}catch(y){if(!Zl(y))throw y;ze(Cg,"Failed to update sequence numbers: "+y)}for(const y of h){const E=y.targetId;if(!y.fromCache){const x=m.Ms.get(E),R=x.snapshotVersion,A=x.withLastLimboFreeSnapshotVersion(R);m.Ms=m.Ms.insert(E,A)}}})(r.localStore,o))}async function BM(t,e){const n=tt(t);if(!n.currentUser.isEqual(e)){ze(Pg,"User change. New user:",e.toKey());const r=await zA(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((d=>{d.reject(new Ge(Ae.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $c(n,r.Ls)}}function HM(t,e){const n=tt(t),r=n.Au.get(e);if(r&&r.hu)return mt().add(r.key);{let i=mt();const o=n.Iu.get(e);if(!o)return i;for(const l of o){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function o2(t){const e=tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kM.bind(null,e),e.Pu.H_=SM.bind(null,e.eventManager),e.Pu.yu=AM.bind(null,e.eventManager),e}function GM(t){const e=tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VM.bind(null,e),e}class ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Od(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return q3(this.persistence,new B3,e.initialUser,this.serializer)}Cu(e){return new qA(Sg.mi,this.serializer)}Du(e){return new $3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ad.provider={build:()=>new ad};class qM extends ad{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Rt(this.persistence.referenceDelegate instanceof id,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new C3(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rr.withCacheSize(this.cacheSizeBytes):Rr.DEFAULT;return new qA((r=>id.mi(r,n)),this.serializer)}}class Ym{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BM.bind(null,this.syncEngine),await vM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new TM})()}createDatastore(e){const n=Od(e.databaseInfo.databaseId),r=(function(o){return new tM(o)})(e.databaseInfo);return(function(o,l,c,d){return new sM(o,l,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,l,c){return new oM(r,i,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>rE(this.syncEngine,n,0)),(function(){return QT.v()?new QT:new Q3})())}createSyncEngine(e,n){return(function(i,o,l,c,d,h,m){const y=new NM(i,o,l,c,d,h);return m&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=tt(i);ze(Eo,"RemoteStore shutting down."),o.Ea.add(5),await Jc(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ym.provider={build:()=>new Ym};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="FirestoreClient";class YM{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sr.UNAUTHENTICATED,this.clientId=hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{ze(Pa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ze(Pa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hm(t,e){t.asyncQueue.verifyOperationInProgress(),ze(Pa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await zA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function sE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KM(t);ze(Pa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>jT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>jT(e.remoteStore,i))),t._onlineComponents=e}async function KM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ze(Pa,"Using user provided OfflineComponentProvider");try{await hm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ae.FAILED_PRECONDITION||i.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Gl("Error using user provided cache. Falling back to memory cache: "+n),await hm(t,new ad)}}else ze(Pa,"Using default OfflineComponentProvider"),await hm(t,new qM(void 0));return t._offlineComponents}async function Lg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ze(Pa,"Using user provided OnlineComponentProvider"),await sE(t,t._uninitializedComponentsProvider._online)):(ze(Pa,"Using default OnlineComponentProvider"),await sE(t,new Ym))),t._onlineComponents}function WM(t){return Lg(t).then((e=>e.syncEngine))}function XM(t){return Lg(t).then((e=>e.datastore))}async function JM(t){const e=await Lg(t),n=e.eventManager;return n.onListen=DM.bind(null,e.syncEngine),n.onUnlisten=PM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=MM.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FM.bind(null,e.syncEngine),n}function $M(t,e,n={}){const r=new As;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,d,h){const m=new zM({next:E=>{m.Nu(),l.enqueueAndForget((()=>xM(o,y))),E.fromCache&&d.source==="server"?h.reject(new Ge(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(E)},error:E=>h.reject(E)}),y=new CM(c,m,{includeMetadataChanges:!0,qa:!0});return EM(o,y)})(await JM(t),t.asyncQueue,e,n,r))),r.promise}function QM(t,e,n){const r=new As;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await XM(t);r.resolve((async function(l,c,d){var A;const h=tt(l),{request:m,gt:y,parent:E}=h3(h.serializer,bD(c),d);h.connection.$o||delete m.parent;const x=(await h.Ho("RunAggregationQuery",h.serializer.databaseId,E,m,1)).filter((I=>!!I.result));Rt(x.length===1,64727);const R=(A=x[0].result)==null?void 0:A.aggregateFields;return Object.keys(R).reduce(((I,q)=>(I[y[q]]=R[q],I)),{})})(i,e,n))}catch(i){r.reject(i)}})),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="firestore.googleapis.com",oE=!0;class lE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ge(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u2,this.ssl=oE}else this.host=e.host,this.ssl=e.ssl??oE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<S3)throw new Ge(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l2(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ge(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ge(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ge(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ge(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ge(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new JN;switch(r.type){case"firstParty":return new jN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ge(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=aE.get(n);r&&(ze("ComponentProvider","Removing Datastore"),aE.delete(n),r.terminate())})(this),Promise.resolve()}}function ZM(t,e,n,r={}){var h;t=Mc(t,Bd);const i=ug(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(x4(`https://${c}`),w4("Firestore",!0)),o.host!==u2&&o.host!==c&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:c,ssl:i,emulatorOptions:r};if(!Wh(d,l)&&(t._setSettings(d),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=sr.MOCK_USER;else{m=S4(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Ge(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sr(E)}t._authCredentials=new $N(new $S(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oa(this.firestore,e,this._query)}}class On{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}toJSON(){return{type:On._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Kc(n,On._jsonSchema))return new On(e,r||null,new Qe(Jt.fromString(n.referencePath)))}}On._jsonSchemaVersion="firestore/documentReference/1.0",On._jsonSchema={type:wn("string",On._jsonSchemaVersion),referencePath:wn("string")};class Ra extends Oa{constructor(e,n,r){super(e,n,mA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new Qe(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function yc(t,e,...n){if(t=Hl(t),QS("collection","path",e),t instanceof Bd){const r=Jt.fromString(e,...n);return ET(r),new Ra(t,null,r)}{if(!(t instanceof On||t instanceof Ra))throw new Ge(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jt.fromString(e,...n));return ET(r),new Ra(t.firestore,null,r)}}function jM(t,e,...n){if(t=Hl(t),arguments.length===1&&(e=hg.newId()),QS("doc","path",e),t instanceof Bd){const r=Jt.fromString(e,...n);return TT(r),new On(t,null,new Qe(r))}{if(!(t instanceof On||t instanceof Ra))throw new Ge(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jt.fromString(e,...n));return TT(r),new On(t.firestore,t instanceof Ra?t.converter:null,new Qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="AsyncQueue";class cE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KA(this,"async_queue_retry"),this._c=()=>{const r=fm();r&&ze(uE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new As;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zl(e))throw e;ze(uE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ds("INTERNAL UNHANDLED ERROR: ",fE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Dg.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&et(47125,{Pc:fE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Hd extends Bd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new cE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cE(e),this._firestoreClient=void 0,await e}}}function eb(t,e){const n=typeof t=="object"?t:kN(),r=typeof t=="string"?t:Qh,i=MN(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=T4("firestore");o&&ZM(i,...o)}return i}function kg(t){if(t._terminated)throw new Ge(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tb(t),t._firestoreClient}function tb(t){var r,i,o;const e=t._freezeSettings(),n=(function(c,d,h,m){return new _D(c,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,l2(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new YM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class rb{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(Zn.fromBase64String(e))}catch(n){throw new Ge(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ci(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kc(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:wn("string",ci._jsonSchemaVersion),bytes:wn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ge(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ge(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ge(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(Kc(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:wn("string",Xi._jsonSchemaVersion),latitude:wn("number"),longitude:wn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kc(e,Ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ji(e.vectorValues);throw new Ge(Ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ji._jsonSchemaVersion="firestore/vectorValue/1.0",Ji._jsonSchema={type:wn("string",Ji._jsonSchemaVersion),vectorValues:wn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=/^__.*__$/;class sb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ro(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wc(e,this.data,n,this.fieldTransforms)}}function f2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et(40011,{Ac:t})}}class Vg{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return od(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(f2(this.Ac)&&ib.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ab{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Od(e)}Cc(e,n,r,i=!1){return new Vg({Ac:e,methodName:n,Dc:r,path:Xn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function h2(t){const e=t._freezeSettings(),n=Od(t._databaseId);return new ab(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ob(t,e,n,r,i,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);m2("Data must be an object, but it was:",l,r);const c=d2(r,l);let d,h;if(o.merge)d=new Ri(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const E=ub(e,y,n);if(!l.contains(E))throw new Ge(Ae.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);fb(m,E)||m.push(E)}d=new Ri(m),h=l.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,h=l.fieldTransforms;return new sb(new ui(c),d,h)}function lb(t,e,n,r=!1){return Ug(n,t.Cc(r?4:3,e))}function Ug(t,e){if(p2(t=Hl(t)))return m2("Unsupported field value:",e,t),d2(t,e);if(t instanceof c2)return(function(r,i){if(!f2(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const c of r){let d=Ug(c,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Hl(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return BD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=jt.fromDate(r);return{timestampValue:rd(i.serializer,o)}}if(r instanceof jt){const o=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rd(i.serializer,o)}}if(r instanceof Xi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ci)return{bytesValue:FA(i.serializer,r._byteString)};if(r instanceof On){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Eg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ji)return(function(l,c){return{mapValue:{fields:{[aA]:{stringValue:oA},[Zh]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return vg(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${Id(r)}`)})(t,e)}function d2(t,e){const n={};return eA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(t,((r,i)=>{const o=Ug(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function p2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof Xi||t instanceof ci||t instanceof On||t instanceof c2||t instanceof Ji)}function m2(t,e,n){if(!p2(n)||!ZS(n)){const r=Id(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ub(t,e,n){if((e=Hl(e))instanceof Og)return e._internalPath;if(typeof e=="string")return g2(t,e);throw od("Field path arguments must be of type string or ",t,!1,void 0,n)}const cb=new RegExp("[~\\*/\\[\\]]");function g2(t,e,n){if(e.search(cb)>=0)throw od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Og(...e.split("."))._internalPath}catch{throw od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function od(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ge(Ae.INVALID_ARGUMENT,c+t+d)}function fb(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hb extends _2{data(){return super.data()}}function Gd(t,e){return typeof e=="string"?g2(t,e):e instanceof Og?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ge(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bg{}class Hg extends Bg{}function Km(t,e,...n){let r=[];e instanceof Bg&&r.push(e),r=r.concat(n),(function(o){const l=o.filter((d=>d instanceof Gg)).length,c=o.filter((d=>d instanceof qd)).length;if(l>1||l>0&&c>0)throw new Ge(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class qd extends Hg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qd(e,n,r)}_apply(e){const n=this._parse(e);return v2(e._query,n),new Oa(e.firestore,e.converter,km(e._query,n))}_parse(e){const n=h2(e.firestore);return(function(o,l,c,d,h,m,y){let E;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ge(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){mE(y,m);const R=[];for(const A of y)R.push(pE(d,o,A));E={arrayValue:{values:R}}}else E=pE(d,o,y)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||mE(y,m),E=lb(c,l,y,m==="in"||m==="not-in");return Cn.create(h,m,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function hE(t,e,n){const r=e,i=Gd("where",t);return qd._create(i,r,n)}class Gg extends Bg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let l=i;const c=o.getFlattenedFilters();for(const d of c)v2(l,d),l=km(l,d)})(e._query,n),new Oa(e.firestore,e.converter,km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qg extends Hg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qg(e,n)}_apply(e){const n=(function(i,o,l){if(i.startAt!==null)throw new Ge(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ge(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kc(o,l)})(e._query,this._field,this._direction);return new Oa(e.firestore,e.converter,(function(i,o){const l=i.explicitOrderBy.concat([o]);return new jl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function pb(t,e="asc"){const n=e,r=Gd("orderBy",t);return qg._create(r,n)}class zg extends Hg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new zg(e,n,r)}_apply(e){return new Oa(e.firestore,e.converter,ed(e._query,this._limit,this._limitType))}}function dE(t){return zg._create("limit",t,"F")}function pE(t,e,n){if(typeof(n=Hl(n))=="string"){if(n==="")throw new Ge(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gA(e)&&n.indexOf("/")!==-1)throw new Ge(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Jt.fromString(n));if(!Qe.isDocumentKey(r))throw new Ge(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return NT(t,new Qe(r))}if(n instanceof On)return NT(t,n._key);throw new Ge(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Id(n)}.`)}function mE(t,e){if(!Array.isArray(t)||t.length===0)throw new Ge(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function v2(t,e){const n=(function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ge(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ge(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mb{convertValue(e,n="none"){switch(Ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw et(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Co(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Zh].arrayValue)==null?void 0:i.values)==null?void 0:o.map((l=>gn(l.doubleValue)));return new Ji(n)}convertGeoPoint(e){return new Xi(gn(e.latitude),gn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Md(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const n=Na(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Jt.fromString(e);Rt(HA(r),9688,{name:e});const i=new Fc(r.get(1),r.get(3)),o=new Qe(r.popFirst(5));return i.isEqual(n)||Ds(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function _b(){return new nb("count")}class Ih{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bl extends _2{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(Ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=bl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}bl._jsonSchemaVersion="firestore/documentSnapshot/1.0",bl._jsonSchema={type:wn("string",bl._jsonSchemaVersion),bundleSource:wn("string","DocumentSnapshot"),bundleName:wn("string"),bundle:wn("string")};class Gh extends bl{data(e={}){return super.data(e)}}class Pl{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ih(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Gh(this._firestore,this._userDataWriter,r.key,r,new Ih(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ge(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new Gh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ih(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const d=new Gh(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Ih(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:vb(c.type),doc:d,oldIndex:h,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ge(Ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vb(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et(61501,{type:t})}}Pl._jsonSchemaVersion="firestore/querySnapshot/1.0",Pl._jsonSchema={type:wn("string",Pl._jsonSchemaVersion),bundleSource:wn("string","QuerySnapshot"),bundleName:wn("string"),bundle:wn("string")};class y2 extends mb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function Wm(t){t=Mc(t,Oa);const e=Mc(t.firestore,Hd),n=kg(e),r=new y2(e);return db(t._query),$M(n,t._query).then((i=>new Pl(e,r,t,i)))}function yb(t,e){const n=Mc(t.firestore,Hd),r=jM(t),i=gb(t.converter,e);return Tb(n,[ob(h2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cs.exists(!1))]).then((()=>r))}function Tb(t,e){return(function(r,i){const o=new As;return r.asyncQueue.enqueueAndForget((async()=>LM(await WM(r),i,o))),o.promise})(kg(t),e)}function Eb(t){return xb(t,{count:_b()})}function xb(t,e){const n=Mc(t.firestore,Hd),r=kg(n),i=mD(e,((o,l)=>new $D(l,o.aggregateType,o._internalFieldPath)));return QM(r,t._query,i).then((o=>(function(c,d,h){const m=new y2(c);return new rb(d,m,h)})(n,t,o)))}(function(e,n=!0){(function(i){$l=i})(LN),Jh(new Nc("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Hd(new QN(r.getProvider("auth-internal")),new eD(l,r.getProvider("app-check-internal")),(function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ge(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fc(h.options.projectId,m)})(l,i),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Dl(gT,_T,e),Dl(gT,_T,"esm2020")})();const Sb={apiKey:"AIzaSyDW3_So3zeTCygPmGOS5cK5tMqYPMLcVbs",authDomain:"juguetes-elsalvador.firebaseapp.com",projectId:"juguetes-elsalvador",storageBucket:"juguetes-elsalvador.firebasestorage.app",messagingSenderId:"1053892239602",appId:"1:1053892239602:web:d2ef67fba7a9552de8706b",measurementId:"G-9XP4KMBGGL"},Ab=BS(Sb),Tc=eb(Ab),Ec="registrations",dm=async()=>{try{const t=Km(yc(Tc,Ec),pb("timestamp","desc"));return(await Wm(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error accessing Firestore",t),[]}},qh=async t=>{try{const e=yc(Tc,Ec),r=(await Eb(e)).data().count;return Math.max(0,t-r)}catch(e){return console.error("Error fetching count",e),0}},Cb=async(t,e)=>{try{if(await qh(e)<=0)return{success:!1,message:"Lo sentimos, se ha alcanzado el lmite mximo de cupos."};const r=Km(yc(Tc,Ec),hE("inviteNumber","==",t.inviteNumber),dE(1));if(!(await Wm(r)).empty)return{success:!1,message:`El nmero de invitacin ${t.inviteNumber} ya ha sido utilizado.`};const o=Km(yc(Tc,Ec),hE("whatsapp","==",t.whatsapp),dE(1));if(!(await Wm(o)).empty)return{success:!1,message:`El nmero de WhatsApp ${t.whatsapp} ya est registrado.`};const c={...t,timestamp:new Date().toISOString()};return{success:!0,data:{id:(await yb(yc(Tc,Ec),c)).id,...c}}}catch(n){return console.error("Error saving registration",n),{success:!1,message:"Hubo un error al guardar tu registro. Intenta de nuevo."}}},wb=()=>{const{config:t}=Rd(),[e,n]=qt.useState(0),[r,i]=qt.useState(!1),[o,l]=qt.useState(null),[c,d]=qt.useState({fullName:"",inviteNumber:"",whatsapp:"",childCount:1,genderSelection:"Nio",department:t.defaultDepartment,municipality:t.defaultMunicipality,district:t.defaultDistrict,addressDetails:""});qt.useEffect(()=>{d(I=>({...I,department:t.defaultDepartment,municipality:t.defaultMunicipality,district:t.defaultDistrict}))},[t.defaultDepartment,t.defaultMunicipality,t.defaultDistrict]);const[h,m]=qt.useState(null);qt.useEffect(()=>{n(qh(t.maxRegistrations));const I=()=>{n(qh(t.maxRegistrations))};return window.addEventListener("storage",I),()=>window.removeEventListener("storage",I)},[t.maxRegistrations]);const y=I=>{const{name:q,value:X}=I.target;d(G=>({...G,[q]:X})),h&&m(null)},E=()=>c.fullName.trim()?c.inviteNumber.trim()?/^\d+$/.test(c.inviteNumber)?c.whatsapp.trim()?/^\d{8,}$/.test(c.whatsapp.replace(/\D/g,""))?c.childCount<1||c.childCount>10?(m("La cantidad de nios debe ser entre 1 y 10."),!1):c.addressDetails.trim()?!0:(m("Debes especificar tu colonia, casero o cantn."),!1):(m("Ingresa un nmero de telfono vlido (mnimo 8 dgitos)."),!1):(m("El nmero de WhatsApp es obligatorio."),!1):(m("El nmero de invitacin debe contener solo nmeros."),!1):(m("El nmero de invitacin es obligatorio."),!1):(m("El nombre completo es obligatorio."),!1),x=(I,q,X)=>{let G=t.whatsappTemplate;return G=G.replace("{name}",I),G=G.replace("{count}",q.toString()),G=G.replace("{gender}",X),G=G.replace("{date}",t.eventDate),`https://wa.me/${t.orgPhoneNumber}?text=${encodeURIComponent(G)}`},R=I=>{I.preventDefault(),E()&&(i(!0),setTimeout(()=>{const q=Cb({...c,childCount:Number(c.childCount)},t.maxRegistrations);if(q.success&&q.data){l({name:q.data.fullName,count:q.data.childCount,gender:q.data.genderSelection}),n(qh(t.maxRegistrations));const X=x(q.data.fullName,q.data.childCount,q.data.genderSelection);window.open(X,"_blank")}else m(q.message||"Ocurri un error al guardar el registro.");i(!1)},1500))};return!t.isRegistrationOpen||e<=0?H.jsxs("div",{className:"max-w-2xl mx-auto my-12 p-8 bg-slate-50 border border-slate-200 rounded-xl text-center shadow-lg",children:[H.jsx("div",{className:"flex justify-center mb-4",children:e<=0?H.jsx(Qy,{className:"w-16 h-16 text-red-500"}):H.jsx(Am,{className:"w-16 h-16 text-slate-500"})}),H.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:e<=0?"Cupos Agotados":"Registro Cerrado"}),H.jsx("p",{className:"text-slate-600 text-lg",children:e<=0?"Hemos alcanzado el lmite mximo de registros para esta entrega.":"El formulario de registro no est disponible en este momento."})]}):o?H.jsxs("div",{className:"max-w-2xl mx-auto my-12 p-8 bg-green-50 border border-green-200 rounded-xl text-center shadow-lg animate-fade-in-up",children:[H.jsx("div",{className:"flex justify-center mb-4",children:H.jsx(II,{className:"w-16 h-16 text-green-600"})}),H.jsx("h2",{className:"text-3xl font-bold text-green-800 mb-4",children:"Registro Exitoso!"}),H.jsxs("p",{className:"text-green-700 text-lg mb-6",children:["Gracias ",H.jsx("strong",{children:o.name}),". Hemos procesado tu solicitud. Se ha abierto una ventana de WhatsApp para confirmar tu asistencia."]}),H.jsx("button",{onClick:()=>window.location.reload(),className:"text-green-800 underline hover:text-green-900",children:"Volver al inicio"})]}):H.jsx("div",{className:"max-w-2xl mx-auto -mt-10 mb-20 relative z-20 px-4",children:H.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden",children:[H.jsxs("div",{className:"bg-slate-50 border-b border-slate-200 px-6 py-4 flex justify-between items-center",children:[H.jsx("h3",{className:"font-semibold text-slate-700",children:"Formulario de Registro"}),H.jsxs("span",{className:`text-xs font-bold px-3 py-1 rounded-full border ${e<50?"bg-red-100 text-red-700 border-red-200":"bg-blue-100 text-blue-700 border-blue-200"}`,children:[e," cupos disponibles"]})]}),H.jsxs("form",{onSubmit:R,className:"p-6 md:p-8 space-y-5",children:[h&&H.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg text-sm flex items-start gap-2 border border-red-200",children:[H.jsx(Qy,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),H.jsx("span",{children:h})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nombre Completo del Responsable"}),H.jsx("input",{type:"text",name:"fullName",value:c.fullName,onChange:y,placeholder:"Juan Prez",disabled:r,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all disabled:bg-slate-50"})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nmero de Invitacin"}),H.jsx("input",{type:"text",name:"inviteNumber",value:c.inviteNumber,onChange:y,placeholder:"Ej. 1045",disabled:r,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all disabled:bg-slate-50"}),H.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Debe ser un nmero nico."})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nmero de WhatsApp"}),H.jsx("input",{type:"tel",name:"whatsapp",value:c.whatsapp,onChange:y,placeholder:"7000-0000",disabled:r,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all disabled:bg-slate-50"})]})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Cantidad de Nios (0-10 aos)"}),H.jsx("input",{type:"number",name:"childCount",min:"1",max:"10",value:c.childCount,onChange:y,disabled:r,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all disabled:bg-slate-50"})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Gnero de los beneficiarios"}),H.jsxs("select",{name:"genderSelection",value:c.genderSelection,onChange:y,disabled:r,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all bg-white disabled:bg-slate-50",children:[H.jsx("option",{value:"Nio",children:"Nio"}),H.jsx("option",{value:"Nia",children:"Nia"}),H.jsx("option",{value:"Nia(s) y Nio(s)",children:"Mixto (Nios y Nias)"})]})]})]}),H.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:[H.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[H.jsx(MS,{className:"text-blue-600 w-5 h-5 flex-shrink-0 mt-0.5"}),H.jsxs("div",{children:[H.jsx("h4",{className:"font-semibold text-sm text-slate-700",children:"Ubicacin Asignada"}),H.jsx("p",{className:"text-xs text-slate-500",children:"Este evento est localizado para la siguiente zona:"})]})]}),H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[H.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200",children:[H.jsx("label",{className:"block text-[10px] uppercase text-slate-400 font-bold",children:"Departamento"}),H.jsx("div",{className:"text-sm font-medium text-slate-800",children:c.department})]}),H.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200",children:[H.jsx("label",{className:"block text-[10px] uppercase text-slate-400 font-bold",children:"Municipio"}),H.jsx("div",{className:"text-sm font-medium text-slate-800",children:c.municipality})]}),H.jsxs("div",{className:"bg-white p-2 rounded border border-slate-200",children:[H.jsx("label",{className:"block text-[10px] uppercase text-slate-400 font-bold",children:"Distrito"}),H.jsx("div",{className:"text-sm font-medium text-slate-800",children:c.district})]})]}),H.jsxs("div",{children:[H.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Colonia / Casero / Cantn ",H.jsx("span",{className:"text-red-500",children:"*"})]}),H.jsx("input",{type:"text",name:"addressDetails",value:c.addressDetails,onChange:y,disabled:r,placeholder:"Ej. Colonia La Esperanza, Polgono A, Casa #5",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all disabled:bg-slate-50"}),H.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Especifica tu ubicacin exacta dentro de ",c.district,"."]})]})]}),H.jsxs("div",{className:"pt-4",children:[H.jsx("button",{type:"submit",disabled:r,className:`w-full py-4 rounded-xl text-white font-bold text-lg shadow-lg flex items-center justify-center gap-2 transition-transform active:scale-[0.98] ${r?"bg-slate-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-blue-800 hover:from-blue-700 hover:to-blue-900"}`,children:r?H.jsxs(H.Fragment,{children:[H.jsx(DS,{className:"animate-spin w-5 h-5"}),H.jsx("span",{children:"Procesando..."})]}):H.jsxs(H.Fragment,{children:[H.jsx(JI,{className:"w-5 h-5"}),"Registrarme para la entrega de juguetes"]})}),H.jsx("p",{className:"text-center text-xs text-slate-400 mt-4",children:"Al registrarte aceptas ser contactado va WhatsApp para la logstica del evento."})]})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var ld={};ld.version="0.18.5";var T2=1252,Rb=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],E2=function(t){Rb.indexOf(t)!=-1&&(T2=t)};function Ib(){E2(1252)}var Uc=function(t){E2(t)};function Nb(){Uc(1200),Ib()}var Nh=function(e){return String.fromCharCode(e)},gE=function(e){return String.fromCharCode(e)},ud,Ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Bc(t){for(var e="",n=0,r=0,i=0,o=0,l=0,c=0,d=0,h=0;h<t.length;)n=t.charCodeAt(h++),o=n>>2,r=t.charCodeAt(h++),l=(n&3)<<4|r>>4,i=t.charCodeAt(h++),c=(r&15)<<2|i>>6,d=i&63,isNaN(r)?c=d=64:isNaN(i)&&(d=64),e+=Ea.charAt(o)+Ea.charAt(l)+Ea.charAt(c)+Ea.charAt(d);return e}function bs(t){var e="",n=0,r=0,i=0,o=0,l=0,c=0,d=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<t.length;)o=Ea.indexOf(t.charAt(h++)),l=Ea.indexOf(t.charAt(h++)),n=o<<2|l>>4,e+=String.fromCharCode(n),c=Ea.indexOf(t.charAt(h++)),r=(l&15)<<4|c>>2,c!==64&&(e+=String.fromCharCode(r)),d=Ea.indexOf(t.charAt(h++)),i=(c&3)<<6|d,d!==64&&(e+=String.fromCharCode(i));return e}var wt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Ls=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,n){return n?new Buffer(e,n):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function xo(t){return wt?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function _E(t){return wt?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var wi=function(e){return wt?Ls(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)&255})};function zd(t){if(typeof ArrayBuffer>"u")return wi(t);for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r!=t.length;++r)n[r]=t.charCodeAt(r)&255;return e}function Qc(t){if(Array.isArray(t))return t.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],n=0;n<t.length;++n)e[n]=String.fromCharCode(t[n]);return e.join("")}function Db(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Jn=wt?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ls(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,n=0;for(e=0;e<t.length;++e)n+=t[e].length;var r=new Uint8Array(n),i=0;for(e=0,n=0;e<t.length;n+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)r.set(t[e],n);else{if(typeof t[e]=="string")throw"wtf";r.set(new Uint8Array(t[e]),n)}return r}return[].concat.apply([],t.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function Mb(t){for(var e=[],n=0,r=t.length+250,i=xo(t.length+255),o=0;o<t.length;++o){var l=t.charCodeAt(o);if(l<128)i[n++]=l;else if(l<2048)i[n++]=192|l>>6&31,i[n++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=t.charCodeAt(++o)&1023;i[n++]=240|l>>8&7,i[n++]=128|l>>2&63,i[n++]=128|c>>6&15|(l&3)<<4,i[n++]=128|c&63}else i[n++]=224|l>>12&15,i[n++]=128|l>>6&63,i[n++]=128|l&63;n>r&&(e.push(i.slice(0,n)),n=0,i=xo(65535),r=65530)}return e.push(i.slice(0,n)),Jn(e)}var xc=/\u0000/g,Dh=/[\u0001-\u0006]/g;function Fl(t){for(var e="",n=t.length-1;n>=0;)e+=t.charAt(n--);return e}function Ii(t,e){var n=""+t;return n.length>=e?n:fn("0",e-n.length)+n}function Yg(t,e){var n=""+t;return n.length>=e?n:fn(" ",e-n.length)+n}function cd(t,e){var n=""+t;return n.length>=e?n:n+fn(" ",e-n.length)}function bb(t,e){var n=""+Math.round(t);return n.length>=e?n:fn("0",e-n.length)+n}function Pb(t,e){var n=""+t;return n.length>=e?n:fn("0",e-n.length)+n}var vE=Math.pow(2,32);function El(t,e){if(t>vE||t<-vE)return bb(t,e);var n=Math.round(t);return Pb(n,e)}function fd(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var yE=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],pm=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Fb(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var hn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},TE={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Lb={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function hd(t,e,n){for(var r=t<0?-1:1,i=t*r,o=0,l=1,c=0,d=1,h=0,m=0,y=Math.floor(i);h<e&&(y=Math.floor(i),c=y*l+o,m=y*h+d,!(i-y<5e-8));)i=1/(i-y),o=l,l=c,d=h,h=m;if(m>e&&(h>e?(m=d,c=o):(m=h,c=l)),!n)return[0,r*c,m];var E=Math.floor(r*c/m);return[E,r*c-E*m,m]}function Mh(t,e,n){if(t>2958465||t<0)return null;var r=t|0,i=Math.floor(86400*(t-r)),o=0,l=[],c={D:r,T:i,u:86400*(t-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),e&&e.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++i==86400&&(c.T=i=0,++r,++c.D)),r===60)l=n?[1317,10,29]:[1900,2,29],o=3;else if(r===0)l=n?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var d=new Date(1900,0,1);d.setDate(d.getDate()+r-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],o=d.getDay(),r<60&&(o=(o+6)%7),n&&(o=Gb(d,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=i%60,i=Math.floor(i/60),c.M=i%60,i=Math.floor(i/60),c.H=i,c.q=o,c}var x2=new Date(1899,11,31,0,0,0),kb=x2.getTime(),Ob=new Date(1900,2,1,0,0,0);function S2(t,e){var n=t.getTime();return e?n-=1461*24*60*60*1e3:t>=Ob&&(n+=1440*60*1e3),(n-(kb+(t.getTimezoneOffset()-x2.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Kg(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Vb(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Ub(t){var e=t<0?12:11,n=Kg(t.toFixed(12));return n.length<=e||(n=t.toPrecision(10),n.length<=e)?n:t.toExponential(5)}function Bb(t){var e=Kg(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Hb(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),n;return e>=-4&&e<=-1?n=t.toPrecision(10+e):Math.abs(e)<=9?n=Ub(t):e===10?n=t.toFixed(10).substr(0,12):n=Bb(t),Kg(Vb(n.toUpperCase()))}function Xm(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Hb(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Fa(14,S2(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function Gb(t,e){e[0]-=581;var n=t.getDay();return t<60&&(n=(n+6)%7),n}function qb(t,e,n,r){var i="",o=0,l=0,c=n.y,d,h=0;switch(t){case 98:c=n.y+543;case 121:switch(e.length){case 1:case 2:d=c%100,h=2;break;default:d=c%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:d=n.m,h=e.length;break;case 3:return pm[n.m-1][1];case 5:return pm[n.m-1][0];default:return pm[n.m-1][2]}break;case 100:switch(e.length){case 1:case 2:d=n.d,h=e.length;break;case 3:return yE[n.q][0];default:return yE[n.q][1]}break;case 104:switch(e.length){case 1:case 2:d=1+(n.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:d=n.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:d=n.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return n.u===0&&(e=="s"||e=="ss")?Ii(n.S,e.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,o=Math.round(l*(n.S+n.u)),o>=60*l&&(o=0),e==="s"?o===0?"0":""+o/l:(i=Ii(o,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":d=n.D*24+n.H;break;case"[m]":case"[mm]":d=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":d=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:d=c,h=1;break}var m=h>0?Ii(d,h):"";return m}function xa(t){var e=3;if(t.length<=e)return t;for(var n=t.length%e,r=t.substr(0,n);n!=t.length;n+=e)r+=(r.length>0?",":"")+t.substr(n,e);return r}var A2=/%/g;function zb(t,e,n){var r=e.replace(A2,""),i=e.length-r.length;return ws(t,r,n*Math.pow(10,2*i))+fn("%",i)}function Yb(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ws(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function C2(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+C2(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%i;if(o<0&&(o+=i),n=(e/Math.pow(10,o)).toPrecision(r+1+(i+o)%i),n.indexOf("e")===-1){var l=Math.floor(Math.log(e)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+o):n+="E+"+(l-o);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,h,m){return d+h+m.substr(0,(i+o)%i)+"."+m.substr(o)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var w2=/# (\?+)( ?)\/( ?)(\d+)/;function Kb(t,e,n){var r=parseInt(t[4],10),i=Math.round(e*r),o=Math.floor(i/r),l=i-o*r,c=r;return n+(o===0?"":""+o)+" "+(l===0?fn(" ",t[1].length+1+t[4].length):Yg(l,t[1].length)+t[2]+"/"+t[3]+Ii(c,t[4].length))}function Wb(t,e,n){return n+(e===0?"":""+e)+fn(" ",t[1].length+2+t[4].length)}var R2=/^#*0*\.([0#]+)/,I2=/\).*[0#]/,N2=/\(###\) ###\\?-####/;function gr(t){for(var e="",n,r=0;r!=t.length;++r)switch(n=t.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(n)}return e}function EE(t,e){var n=Math.pow(10,e);return""+Math.round(t*n)/n}function xE(t,e){var n=t-Math.floor(t),r=Math.pow(10,e);return e<(""+Math.round(n*r)).length?0:Math.round(n*r)}function Xb(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function Jb(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function oi(t,e,n){if(t.charCodeAt(0)===40&&!e.match(I2)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?oi("n",r,n):"("+oi("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return Yb(t,e,n);if(e.indexOf("%")!==-1)return zb(t,e,n);if(e.indexOf("E")!==-1)return C2(e,n);if(e.charCodeAt(0)===36)return"$"+oi(t,e.substr(e.charAt(1)==" "?2:1),n);var i,o,l,c,d=Math.abs(n),h=n<0?"-":"";if(e.match(/^00+$/))return h+El(d,e.length);if(e.match(/^[#?]+$/))return i=El(n,0),i==="0"&&(i=""),i.length>e.length?i:gr(e.substr(0,e.length-i.length))+i;if(o=e.match(w2))return Kb(o,d,h);if(e.match(/^#+0+$/))return h+El(d,e.length-e.indexOf("0"));if(o=e.match(R2))return i=EE(n,o[1].length).replace(/^([^\.]+)$/,"$1."+gr(o[1])).replace(/\.$/,"."+gr(o[1])).replace(/\.(\d*)$/,function(R,A){return"."+A+fn("0",gr(o[1]).length-A.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return h+EE(d,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return h+xa(El(d,0));if(o=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+oi(t,e,-n):xa(""+(Math.floor(n)+Xb(n,o[1].length)))+"."+Ii(xE(n,o[1].length),o[1].length);if(o=e.match(/^#,#*,#0/))return oi(t,e.replace(/^#,#*,/,""),n);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Fl(oi(t,e.replace(/[\\-]/g,""),n)),l=0,Fl(Fl(e.replace(/\\/g,"")).replace(/[0#]/g,function(R){return l<i.length?i.charAt(l++):R==="0"?"0":""}));if(e.match(N2))return i=oi(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=hd(d,Math.pow(10,l)-1,!1),i=""+h,m=ws("n",o[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+o[2]+"/"+o[3],m=cd(c[2],l),m.length<o[4].length&&(m=gr(o[4].substr(o[4].length-m.length))+m),i+=m,i;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=hd(d,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Yg(c[1],l)+o[2]+"/"+o[3]+cd(c[2],l):fn(" ",2*l+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return i=El(n,0),e.length<=i.length?i:gr(e.substr(0,e.length-i.length))+i;if(o=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var y=e.indexOf(".")-l,E=e.length-i.length-y;return gr(e.substr(0,y)+i+e.substr(e.length-E))}if(o=e.match(/^00,000\.([#0]*0)$/))return l=xE(n,o[1].length),n<0?"-"+oi(t,e,-n):xa(Jb(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(R){return"00,"+(R.length<3?Ii(0,3-R.length):"")+R})+"."+Ii(l,o[1].length);switch(e){case"###,##0.00":return oi(t,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var x=xa(El(d,0));return x!=="0"?h+x:"";case"###,###.00":return oi(t,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return oi(t,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function $b(t,e,n){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return ws(t,e.substr(0,r),n/Math.pow(10,3*(e.length-r)))}function Qb(t,e,n){var r=e.replace(A2,""),i=e.length-r.length;return ws(t,r,n*Math.pow(10,2*i))+fn("%",i)}function D2(t,e){var n,r=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+D2(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%i;if(o<0&&(o+=i),n=(e/Math.pow(10,o)).toPrecision(r+1+(i+o)%i),!n.match(/[Ee]/)){var l=Math.floor(Math.log(e)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+o):n+="E+"+(l-o),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,h,m){return d+h+m.substr(0,(i+o)%i)+"."+m.substr(o)+"E"})}else n=e.toExponential(r);return t.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),t.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function qi(t,e,n){if(t.charCodeAt(0)===40&&!e.match(I2)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?qi("n",r,n):"("+qi("n",r,-n)+")"}if(e.charCodeAt(e.length-1)===44)return $b(t,e,n);if(e.indexOf("%")!==-1)return Qb(t,e,n);if(e.indexOf("E")!==-1)return D2(e,n);if(e.charCodeAt(0)===36)return"$"+qi(t,e.substr(e.charAt(1)==" "?2:1),n);var i,o,l,c,d=Math.abs(n),h=n<0?"-":"";if(e.match(/^00+$/))return h+Ii(d,e.length);if(e.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>e.length?i:gr(e.substr(0,e.length-i.length))+i;if(o=e.match(w2))return Wb(o,d,h);if(e.match(/^#+0+$/))return h+Ii(d,e.length-e.indexOf("0"));if(o=e.match(R2))return i=(""+n).replace(/^([^\.]+)$/,"$1."+gr(o[1])).replace(/\.$/,"."+gr(o[1])),i=i.replace(/\.(\d*)$/,function(R,A){return"."+A+fn("0",gr(o[1]).length-A.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return h+xa(""+d);if(o=e.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+qi(t,e,-n):xa(""+n)+"."+fn("0",o[1].length);if(o=e.match(/^#,#*,#0/))return qi(t,e.replace(/^#,#*,/,""),n);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Fl(qi(t,e.replace(/[\\-]/g,""),n)),l=0,Fl(Fl(e.replace(/\\/g,"")).replace(/[0#]/g,function(R){return l<i.length?i.charAt(l++):R==="0"?"0":""}));if(e.match(N2))return i=qi(t,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var m="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(o[4].length,7),c=hd(d,Math.pow(10,l)-1,!1),i=""+h,m=ws("n",o[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),i+=m+o[2]+"/"+o[3],m=cd(c[2],l),m.length<o[4].length&&(m=gr(o[4].substr(o[4].length-m.length))+m),i+=m,i;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(o[1].length,o[4].length),7),c=hd(d,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Yg(c[1],l)+o[2]+"/"+o[3]+cd(c[2],l):fn(" ",2*l+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return i=""+n,e.length<=i.length?i:gr(e.substr(0,e.length-i.length))+i;if(o=e.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),l=i.indexOf(".");var y=e.indexOf(".")-l,E=e.length-i.length-y;return gr(e.substr(0,y)+i+e.substr(e.length-E))}if(o=e.match(/^00,000\.([#0]*0)$/))return n<0?"-"+qi(t,e,-n):xa(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(R){return"00,"+(R.length<3?Ii(0,3-R.length):"")+R})+"."+Ii(0,o[1].length);switch(e){case"###,###":case"##,###":case"#,###":var x=xa(""+d);return x!=="0"?h+x:"";default:if(e.match(/\.[0#?]*$/))return qi(t,e.slice(0,e.lastIndexOf(".")),n)+gr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ws(t,e,n){return(n|0)===n?qi(t,e,n):oi(t,e,n)}function Zb(t){for(var e=[],n=!1,r=0,i=0;r<t.length;++r)switch(t.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=t.substr(i,r-i),i=r+1}if(e[e.length]=t.substr(i),n===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var M2=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function b2(t){for(var e=0,n="",r="";e<t.length;)switch(n=t.charAt(e)){case"G":fd(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=n;t.charAt(e++)!=="]"&&e<t.length;)r+=t.charAt(e);if(r.match(M2))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(n=t.charAt(++e))>-1||n=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===n;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function jb(t,e,n,r){for(var i=[],o="",l=0,c="",d="t",h,m,y,E="H";l<t.length;)switch(c=t.charAt(l)){case"G":if(!fd(t,l))throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"G",v:"General"},l+=7;break;case'"':for(o="";(y=t.charCodeAt(++l))!==34&&l<t.length;)o+=String.fromCharCode(y);i[i.length]={t:"t",v:o},++l;break;case"\\":var x=t.charAt(++l),R=x==="("||x===")"?x:"t";i[i.length]={t:R,v:x},++l;break;case"_":i[i.length]={t:"t",v:" "},l+=2;break;case"@":i[i.length]={t:"T",v:e},++l;break;case"B":case"b":if(t.charAt(l+1)==="1"||t.charAt(l+1)==="2"){if(h==null&&(h=Mh(e,n,t.charAt(l+1)==="2"),h==null))return"";i[i.length]={t:"X",v:t.substr(l,2)},d=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=Mh(e,n),h==null))return"";for(o=c;++l<t.length&&t.charAt(l).toLowerCase()===c;)o+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=E),i[i.length]={t:c,v:o},d=c;break;case"A":case"a":case"":var A={t:c,v:c};if(h==null&&(h=Mh(e,n)),t.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(A.v=h.H>=12?"P":"A"),A.t="T",E="h",l+=3):t.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(A.v=h.H>=12?"PM":"AM"),A.t="T",l+=5,E="h"):t.substr(l,5).toUpperCase()==="/"?(h!=null&&(A.v=h.H>=12?"":""),A.t="T",l+=5,E="h"):(A.t="t",++l),h==null&&A.t==="T")return"";i[i.length]=A,d=c;break;case"[":for(o=c;t.charAt(l++)!=="]"&&l<t.length;)o+=t.charAt(l);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(M2)){if(h==null&&(h=Mh(e,n),h==null))return"";i[i.length]={t:"Z",v:o.toLowerCase()},d=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",b2(t)||(i[i.length]={t:"t",v:o}));break;case".":if(h!=null){for(o=c;++l<t.length&&(c=t.charAt(l))==="0";)o+=c;i[i.length]={t:"s",v:o};break}case"0":case"#":for(o=c;++l<t.length&&"0#?.,E+-%".indexOf(c=t.charAt(l))>-1;)o+=c;i[i.length]={t:"n",v:o};break;case"?":for(o=c;t.charAt(++l)===c;)o+=c;i[i.length]={t:c,v:o},d=c;break;case"*":++l,(t.charAt(l)==" "||t.charAt(l)=="*")&&++l;break;case"(":case")":i[i.length]={t:r===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=c;l<t.length&&"0123456789".indexOf(t.charAt(++l))>-1;)o+=t.charAt(l);i[i.length]={t:"D",v:o};break;case" ":i[i.length]={t:c,v:c},++l;break;case"$":i[i.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+t);i[i.length]={t:"t",v:c},++l;break}var I=0,q=0,X;for(l=i.length-1,d="t";l>=0;--l)switch(i[l].t){case"h":case"H":i[l].t=E,d="h",I<1&&(I=1);break;case"s":(X=i[l].v.match(/\.0+$/))&&(q=Math.max(q,X[0].length-1)),I<3&&(I=3);case"d":case"y":case"M":case"e":d=i[l].t;break;case"m":d==="s"&&(i[l].t="M",I<2&&(I=2));break;case"X":break;case"Z":I<1&&i[l].v.match(/[Hh]/)&&(I=1),I<2&&i[l].v.match(/[Mm]/)&&(I=2),I<3&&i[l].v.match(/[Ss]/)&&(I=3)}switch(I){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var G="",te;for(l=0;l<i.length;++l)switch(i[l].t){case"t":case"T":case" ":case"D":break;case"X":i[l].v="",i[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[l].v=qb(i[l].t.charCodeAt(0),i[l].v,h,q),i[l].t="t";break;case"n":case"?":for(te=l+1;i[te]!=null&&((c=i[te].t)==="?"||c==="D"||(c===" "||c==="t")&&i[te+1]!=null&&(i[te+1].t==="?"||i[te+1].t==="t"&&i[te+1].v==="/")||i[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(i[te].v==="/"||i[te].v===" "&&i[te+1]!=null&&i[te+1].t=="?"));)i[l].v+=i[te].v,i[te]={v:"",t:";"},++te;G+=i[l].v,l=te-1;break;case"G":i[l].t="t",i[l].v=Xm(e,n);break}var he="",me,N;if(G.length>0){G.charCodeAt(0)==40?(me=e<0&&G.charCodeAt(0)===45?-e:e,N=ws("n",G,me)):(me=e<0&&r>1?-e:e,N=ws("n",G,me),me<0&&i[0]&&i[0].t=="t"&&(N=N.substr(1),i[0].v="-"+i[0].v)),te=N.length-1;var M=i.length;for(l=0;l<i.length;++l)if(i[l]!=null&&i[l].t!="t"&&i[l].v.indexOf(".")>-1){M=l;break}var D=i.length;if(M===i.length&&N.indexOf("E")===-1){for(l=i.length-1;l>=0;--l)i[l]==null||"n?".indexOf(i[l].t)===-1||(te>=i[l].v.length-1?(te-=i[l].v.length,i[l].v=N.substr(te+1,i[l].v.length)):te<0?i[l].v="":(i[l].v=N.substr(0,te+1),te=-1),i[l].t="t",D=l);te>=0&&D<i.length&&(i[D].v=N.substr(0,te+1)+i[D].v)}else if(M!==i.length&&N.indexOf("E")===-1){for(te=N.indexOf(".")-1,l=M;l>=0;--l)if(!(i[l]==null||"n?".indexOf(i[l].t)===-1)){for(m=i[l].v.indexOf(".")>-1&&l===M?i[l].v.indexOf(".")-1:i[l].v.length-1,he=i[l].v.substr(m+1);m>=0;--m)te>=0&&(i[l].v.charAt(m)==="0"||i[l].v.charAt(m)==="#")&&(he=N.charAt(te--)+he);i[l].v=he,i[l].t="t",D=l}for(te>=0&&D<i.length&&(i[D].v=N.substr(0,te+1)+i[D].v),te=N.indexOf(".")+1,l=M;l<i.length;++l)if(!(i[l]==null||"n?(".indexOf(i[l].t)===-1&&l!==M)){for(m=i[l].v.indexOf(".")>-1&&l===M?i[l].v.indexOf(".")+1:0,he=i[l].v.substr(0,m);m<i[l].v.length;++m)te<N.length&&(he+=N.charAt(te++));i[l].v=he,i[l].t="t",D=l}}}for(l=0;l<i.length;++l)i[l]!=null&&"n?".indexOf(i[l].t)>-1&&(me=r>1&&e<0&&l>0&&i[l-1].v==="-"?-e:e,i[l].v=ws(i[l].t,i[l].v,me),i[l].t="t");var k="";for(l=0;l!==i.length;++l)i[l]!=null&&(k+=i[l].v);return k}var SE=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function AE(t,e){if(e==null)return!1;var n=parseFloat(e[2]);switch(e[1]){case"=":if(t==n)return!0;break;case">":if(t>n)return!0;break;case"<":if(t<n)return!0;break;case"<>":if(t!=n)return!0;break;case">=":if(t>=n)return!0;break;case"<=":if(t<=n)return!0;break}return!1}function eP(t,e){var n=Zb(t),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof e!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var o=e>0?n[0]:e<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,o];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var l=n[0].match(SE),c=n[1].match(SE);return AE(e,l)?[r,n[0]]:AE(e,c)?[r,n[1]]:[r,n[l!=null&&c!=null?2:1]]}return[r,o]}function Fa(t,e,n){n==null&&(n={});var r="";switch(typeof t){case"string":t=="m/d/yy"&&n.dateNF?r=n.dateNF:r=t;break;case"number":t==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:hn)[t],r==null&&(r=n.table&&n.table[TE[t]]||hn[TE[t]]),r==null&&(r=Lb[t]||"General");break}if(fd(r,0))return Xm(e,n);e instanceof Date&&(e=S2(e,n.date1904));var i=eP(r,e);if(fd(i[1]))return Xm(e,n);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return jb(i[1],e,n,i[0])}function P2(t,e){if(typeof e!="number"){e=+e||-1;for(var n=0;n<392;++n){if(hn[n]==null){e<0&&(e=n);continue}if(hn[n]==t){e=n;break}}e<0&&(e=391)}return hn[e]=t,e}function Yd(t){for(var e=0;e!=392;++e)t[e]!==void 0&&P2(t[e],e)}function Kd(){hn=Fb()}var F2=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function tP(t){var e=typeof t=="number"?hn[t]:t;return e=e.replace(F2,"(\\d+)"),new RegExp("^"+e+"$")}function nP(t,e,n){var r=-1,i=-1,o=-1,l=-1,c=-1,d=-1;(e.match(F2)||[]).forEach(function(y,E){var x=parseInt(n[E+1],10);switch(y.toLowerCase().charAt(0)){case"y":r=x;break;case"d":o=x;break;case"h":l=x;break;case"s":d=x;break;case"m":l>=0?c=x:i=x;break}}),d>=0&&c==-1&&i>=0&&(c=i,i=-1);var h=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&c==-1&&d==-1?h:r==-1&&i==-1&&o==-1?m:h+"T"+m}var rP=(function(){var t={};t.version="1.2.0";function e(){for(var N=0,M=new Array(256),D=0;D!=256;++D)N=D,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,M[D]=N;return typeof Int32Array<"u"?new Int32Array(M):M}var n=e();function r(N){var M=0,D=0,k=0,F=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)F[k]=N[k];for(k=0;k!=256;++k)for(D=N[k],M=256+k;M<4096;M+=256)D=F[M]=D>>>8^N[D&255];var K=[];for(k=1;k!=16;++k)K[k-1]=typeof Int32Array<"u"?F.subarray(k*256,k*256+256):F.slice(k*256,k*256+256);return K}var i=r(n),o=i[0],l=i[1],c=i[2],d=i[3],h=i[4],m=i[5],y=i[6],E=i[7],x=i[8],R=i[9],A=i[10],I=i[11],q=i[12],X=i[13],G=i[14];function te(N,M){for(var D=M^-1,k=0,F=N.length;k<F;)D=D>>>8^n[(D^N.charCodeAt(k++))&255];return~D}function he(N,M){for(var D=M^-1,k=N.length-15,F=0;F<k;)D=G[N[F++]^D&255]^X[N[F++]^D>>8&255]^q[N[F++]^D>>16&255]^I[N[F++]^D>>>24]^A[N[F++]]^R[N[F++]]^x[N[F++]]^E[N[F++]]^y[N[F++]]^m[N[F++]]^h[N[F++]]^d[N[F++]]^c[N[F++]]^l[N[F++]]^o[N[F++]]^n[N[F++]];for(k+=15;F<k;)D=D>>>8^n[(D^N[F++])&255];return~D}function me(N,M){for(var D=M^-1,k=0,F=N.length,K=0,L=0;k<F;)K=N.charCodeAt(k++),K<128?D=D>>>8^n[(D^K)&255]:K<2048?(D=D>>>8^n[(D^(192|K>>6&31))&255],D=D>>>8^n[(D^(128|K&63))&255]):K>=55296&&K<57344?(K=(K&1023)+64,L=N.charCodeAt(k++)&1023,D=D>>>8^n[(D^(240|K>>8&7))&255],D=D>>>8^n[(D^(128|K>>2&63))&255],D=D>>>8^n[(D^(128|L>>6&15|(K&3)<<4))&255],D=D>>>8^n[(D^(128|L&63))&255]):(D=D>>>8^n[(D^(224|K>>12&15))&255],D=D>>>8^n[(D^(128|K>>6&63))&255],D=D>>>8^n[(D^(128|K&63))&255]);return~D}return t.table=n,t.bstr=te,t.buf=he,t.str=me,t})(),zt=(function(){var e={};e.version="1.2.1";function n(b,Y){for(var V=b.split("/"),B=Y.split("/"),z=0,W=0,oe=Math.min(V.length,B.length);z<oe;++z){if(W=V[z].length-B[z].length)return W;if(V[z]!=B[z])return V[z]<B[z]?-1:1}return V.length-B.length}function r(b){if(b.charAt(b.length-1)=="/")return b.slice(0,-1).indexOf("/")===-1?b:r(b.slice(0,-1));var Y=b.lastIndexOf("/");return Y===-1?b:b.slice(0,Y+1)}function i(b){if(b.charAt(b.length-1)=="/")return i(b.slice(0,-1));var Y=b.lastIndexOf("/");return Y===-1?b:b.slice(Y+1)}function o(b,Y){typeof Y=="string"&&(Y=new Date(Y));var V=Y.getHours();V=V<<6|Y.getMinutes(),V=V<<5|Y.getSeconds()>>>1,b.write_shift(2,V);var B=Y.getFullYear()-1980;B=B<<4|Y.getMonth()+1,B=B<<5|Y.getDate(),b.write_shift(2,B)}function l(b){var Y=b.read_shift(2)&65535,V=b.read_shift(2)&65535,B=new Date,z=V&31;V>>>=5;var W=V&15;V>>>=4,B.setMilliseconds(0),B.setFullYear(V+1980),B.setMonth(W-1),B.setDate(z);var oe=Y&31;Y>>>=5;var ye=Y&63;return Y>>>=6,B.setHours(Y),B.setMinutes(ye),B.setSeconds(oe<<1),B}function c(b){qr(b,0);for(var Y={},V=0;b.l<=b.length-4;){var B=b.read_shift(2),z=b.read_shift(2),W=b.l+z,oe={};switch(B){case 21589:V=b.read_shift(1),V&1&&(oe.mtime=b.read_shift(4)),z>5&&(V&2&&(oe.atime=b.read_shift(4)),V&4&&(oe.ctime=b.read_shift(4))),oe.mtime&&(oe.mt=new Date(oe.mtime*1e3));break}b.l=W,Y[B]=oe}return Y}var d;function h(){return d||(d={})}function m(b,Y){if(b[0]==80&&b[1]==75)return Mr(b,Y);if((b[0]|32)==109&&(b[1]|32)==105)return ns(b,Y);if(b.length<512)throw new Error("CFB file size "+b.length+" < 512");var V=3,B=512,z=0,W=0,oe=0,ye=0,le=0,fe=[],ce=b.slice(0,512);qr(ce,0);var Ne=y(ce);switch(V=Ne[0],V){case 3:B=512;break;case 4:B=4096;break;case 0:if(Ne[1]==0)return Mr(b,Y);default:throw new Error("Major Version: Expected 3 or 4 saw "+V)}B!==512&&(ce=b.slice(0,B),qr(ce,28));var Me=b.slice(0,B);E(ce,V);var Ve=ce.read_shift(4,"i");if(V===3&&Ve!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ve);ce.l+=4,oe=ce.read_shift(4,"i"),ce.l+=4,ce.chk("00100000","Mini Stream Cutoff Size: "),ye=ce.read_shift(4,"i"),z=ce.read_shift(4,"i"),le=ce.read_shift(4,"i"),W=ce.read_shift(4,"i");for(var Ie=-1,ke=0;ke<109&&(Ie=ce.read_shift(4,"i"),!(Ie<0));++ke)fe[ke]=Ie;var We=x(b,B);I(le,W,We,B,fe);var Dt=X(We,oe,fe,B);Dt[oe].name="!Directory",z>0&&ye!==L&&(Dt[ye].name="!MiniFAT"),Dt[fe[0]].name="!FAT",Dt.fat_addrs=fe,Dt.ssz=B;var Mt={},Kt=[],tr=[],pi=[];G(oe,Dt,We,Kt,z,Mt,tr,ye),R(tr,pi,Kt),Kt.shift();var mi={FileIndex:tr,FullPaths:pi};return Y&&Y.raw&&(mi.raw={header:Me,sectors:We}),mi}function y(b){if(b[b.l]==80&&b[b.l+1]==75)return[0,0];b.chk(Ye,"Header Signature: "),b.l+=16;var Y=b.read_shift(2,"u");return[b.read_shift(2,"u"),Y]}function E(b,Y){var V=9;switch(b.l+=2,V=b.read_shift(2)){case 9:if(Y!=3)throw new Error("Sector Shift: Expected 9 saw "+V);break;case 12:if(Y!=4)throw new Error("Sector Shift: Expected 12 saw "+V);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+V)}b.chk("0600","Mini Sector Shift: "),b.chk("000000000000","Reserved: ")}function x(b,Y){for(var V=Math.ceil(b.length/Y)-1,B=[],z=1;z<V;++z)B[z-1]=b.slice(z*Y,(z+1)*Y);return B[V-1]=b.slice(V*Y),B}function R(b,Y,V){for(var B=0,z=0,W=0,oe=0,ye=0,le=V.length,fe=[],ce=[];B<le;++B)fe[B]=ce[B]=B,Y[B]=V[B];for(;ye<ce.length;++ye)B=ce[ye],z=b[B].L,W=b[B].R,oe=b[B].C,fe[B]===B&&(z!==-1&&fe[z]!==z&&(fe[B]=fe[z]),W!==-1&&fe[W]!==W&&(fe[B]=fe[W])),oe!==-1&&(fe[oe]=B),z!==-1&&B!=fe[B]&&(fe[z]=fe[B],ce.lastIndexOf(z)<ye&&ce.push(z)),W!==-1&&B!=fe[B]&&(fe[W]=fe[B],ce.lastIndexOf(W)<ye&&ce.push(W));for(B=1;B<le;++B)fe[B]===B&&(W!==-1&&fe[W]!==W?fe[B]=fe[W]:z!==-1&&fe[z]!==z&&(fe[B]=fe[z]));for(B=1;B<le;++B)if(b[B].type!==0){if(ye=B,ye!=fe[ye])do ye=fe[ye],Y[B]=Y[ye]+"/"+Y[B];while(ye!==0&&fe[ye]!==-1&&ye!=fe[ye]);fe[B]=-1}for(Y[0]+="/",B=1;B<le;++B)b[B].type!==2&&(Y[B]+="/")}function A(b,Y,V){for(var B=b.start,z=b.size,W=[],oe=B;V&&z>0&&oe>=0;)W.push(Y.slice(oe*K,oe*K+K)),z-=K,oe=_o(V,oe*4);return W.length===0?ve(0):Jn(W).slice(0,b.size)}function I(b,Y,V,B,z){var W=L;if(b===L){if(Y!==0)throw new Error("DIFAT chain shorter than expected")}else if(b!==-1){var oe=V[b],ye=(B>>>2)-1;if(!oe)return;for(var le=0;le<ye&&(W=_o(oe,le*4))!==L;++le)z.push(W);I(_o(oe,B-4),Y-1,V,B,z)}}function q(b,Y,V,B,z){var W=[],oe=[];z||(z=[]);var ye=B-1,le=0,fe=0;for(le=Y;le>=0;){z[le]=!0,W[W.length]=le,oe.push(b[le]);var ce=V[Math.floor(le*4/B)];if(fe=le*4&ye,B<4+fe)throw new Error("FAT boundary crossed: "+le+" 4 "+B);if(!b[ce])break;le=_o(b[ce],fe)}return{nodes:W,data:bE([oe])}}function X(b,Y,V,B){var z=b.length,W=[],oe=[],ye=[],le=[],fe=B-1,ce=0,Ne=0,Me=0,Ve=0;for(ce=0;ce<z;++ce)if(ye=[],Me=ce+Y,Me>=z&&(Me-=z),!oe[Me]){le=[];var Ie=[];for(Ne=Me;Ne>=0;){Ie[Ne]=!0,oe[Ne]=!0,ye[ye.length]=Ne,le.push(b[Ne]);var ke=V[Math.floor(Ne*4/B)];if(Ve=Ne*4&fe,B<4+Ve)throw new Error("FAT boundary crossed: "+Ne+" 4 "+B);if(!b[ke]||(Ne=_o(b[ke],Ve),Ie[Ne]))break}W[Me]={nodes:ye,data:bE([le])}}return W}function G(b,Y,V,B,z,W,oe,ye){for(var le=0,fe=B.length?2:0,ce=Y[b].data,Ne=0,Me=0,Ve;Ne<ce.length;Ne+=128){var Ie=ce.slice(Ne,Ne+128);qr(Ie,64),Me=Ie.read_shift(2),Ve=Qg(Ie,0,Me-fe),B.push(Ve);var ke={name:Ve,type:Ie.read_shift(1),color:Ie.read_shift(1),L:Ie.read_shift(4,"i"),R:Ie.read_shift(4,"i"),C:Ie.read_shift(4,"i"),clsid:Ie.read_shift(16),state:Ie.read_shift(4,"i"),start:0,size:0},We=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);We!==0&&(ke.ct=te(Ie,Ie.l-8));var Dt=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);Dt!==0&&(ke.mt=te(Ie,Ie.l-8)),ke.start=Ie.read_shift(4,"i"),ke.size=Ie.read_shift(4,"i"),ke.size<0&&ke.start<0&&(ke.size=ke.type=0,ke.start=L,ke.name=""),ke.type===5?(le=ke.start,z>0&&le!==L&&(Y[le].name="!StreamData")):ke.size>=4096?(ke.storage="fat",Y[ke.start]===void 0&&(Y[ke.start]=q(V,ke.start,Y.fat_addrs,Y.ssz)),Y[ke.start].name=ke.name,ke.content=Y[ke.start].data.slice(0,ke.size)):(ke.storage="minifat",ke.size<0?ke.size=0:le!==L&&ke.start!==L&&Y[le]&&(ke.content=A(ke,Y[le].data,(Y[ye]||{}).data))),ke.content&&qr(ke.content,0),W[Ve]=ke,oe.push(ke)}}function te(b,Y){return new Date((Yr(b,Y+4)/1e7*Math.pow(2,32)+Yr(b,Y)/1e7-11644473600)*1e3)}function he(b,Y){return h(),m(d.readFileSync(b),Y)}function me(b,Y){var V=Y&&Y.type;switch(V||wt&&Buffer.isBuffer(b)&&(V="buffer"),V||"base64"){case"file":return he(b,Y);case"base64":return m(wi(bs(b)),Y);case"binary":return m(wi(b),Y)}return m(b,Y)}function N(b,Y){var V=Y||{},B=V.root||"Root Entry";if(b.FullPaths||(b.FullPaths=[]),b.FileIndex||(b.FileIndex=[]),b.FullPaths.length!==b.FileIndex.length)throw new Error("inconsistent CFB structure");b.FullPaths.length===0&&(b.FullPaths[0]=B+"/",b.FileIndex[0]={name:B,type:5}),V.CLSID&&(b.FileIndex[0].clsid=V.CLSID),M(b)}function M(b){var Y="Sh33tJ5";if(!zt.find(b,"/"+Y)){var V=ve(4);V[0]=55,V[1]=V[3]=50,V[2]=54,b.FileIndex.push({name:Y,type:2,content:V,size:4,L:69,R:69,C:69}),b.FullPaths.push(b.FullPaths[0]+Y),D(b)}}function D(b,Y){N(b);for(var V=!1,B=!1,z=b.FullPaths.length-1;z>=0;--z){var W=b.FileIndex[z];switch(W.type){case 0:B?V=!0:(b.FileIndex.pop(),b.FullPaths.pop());break;case 1:case 2:case 5:B=!0,isNaN(W.R*W.L*W.C)&&(V=!0),W.R>-1&&W.L>-1&&W.R==W.L&&(V=!0);break;default:V=!0;break}}if(!(!V&&!Y)){var oe=new Date(1987,1,19),ye=0,le=Object.create?Object.create(null):{},fe=[];for(z=0;z<b.FullPaths.length;++z)le[b.FullPaths[z]]=!0,b.FileIndex[z].type!==0&&fe.push([b.FullPaths[z],b.FileIndex[z]]);for(z=0;z<fe.length;++z){var ce=r(fe[z][0]);B=le[ce],B||(fe.push([ce,{name:i(ce).replace("/",""),type:1,clsid:ie,ct:oe,mt:oe,content:null}]),le[ce]=!0)}for(fe.sort(function(Ve,Ie){return n(Ve[0],Ie[0])}),b.FullPaths=[],b.FileIndex=[],z=0;z<fe.length;++z)b.FullPaths[z]=fe[z][0],b.FileIndex[z]=fe[z][1];for(z=0;z<fe.length;++z){var Ne=b.FileIndex[z],Me=b.FullPaths[z];if(Ne.name=i(Me).replace("/",""),Ne.L=Ne.R=Ne.C=-(Ne.color=1),Ne.size=Ne.content?Ne.content.length:0,Ne.start=0,Ne.clsid=Ne.clsid||ie,z===0)Ne.C=fe.length>1?1:-1,Ne.size=0,Ne.type=5;else if(Me.slice(-1)=="/"){for(ye=z+1;ye<fe.length&&r(b.FullPaths[ye])!=Me;++ye);for(Ne.C=ye>=fe.length?-1:ye,ye=z+1;ye<fe.length&&r(b.FullPaths[ye])!=r(Me);++ye);Ne.R=ye>=fe.length?-1:ye,Ne.type=1}else r(b.FullPaths[z+1]||"")==r(Me)&&(Ne.R=z+1),Ne.type=2}}}function k(b,Y){var V=Y||{};if(V.fileType=="mad")return cu(b,V);switch(D(b),V.fileType){case"zip":return ln(b,V)}var B=(function(Ve){for(var Ie=0,ke=0,We=0;We<Ve.FileIndex.length;++We){var Dt=Ve.FileIndex[We];if(Dt.content){var Mt=Dt.content.length;Mt>0&&(Mt<4096?Ie+=Mt+63>>6:ke+=Mt+511>>9)}}for(var Kt=Ve.FullPaths.length+3>>2,tr=Ie+7>>3,pi=Ie+127>>7,mi=tr+ke+Kt+pi,Pr=mi+127>>7,Us=Pr<=109?0:Math.ceil((Pr-109)/127);mi+Pr+Us+127>>7>Pr;)Us=++Pr<=109?0:Math.ceil((Pr-109)/127);var nr=[1,Us,Pr,pi,Kt,ke,Ie,0];return Ve.FileIndex[0].size=Ie<<6,nr[7]=(Ve.FileIndex[0].start=nr[0]+nr[1]+nr[2]+nr[3]+nr[4]+nr[5])+(nr[6]+7>>3),nr})(b),z=ve(B[7]<<9),W=0,oe=0;{for(W=0;W<8;++W)z.write_shift(1,Ee[W]);for(W=0;W<8;++W)z.write_shift(2,0);for(z.write_shift(2,62),z.write_shift(2,3),z.write_shift(2,65534),z.write_shift(2,9),z.write_shift(2,6),W=0;W<3;++W)z.write_shift(2,0);for(z.write_shift(4,0),z.write_shift(4,B[2]),z.write_shift(4,B[0]+B[1]+B[2]+B[3]-1),z.write_shift(4,0),z.write_shift(4,4096),z.write_shift(4,B[3]?B[0]+B[1]+B[2]-1:L),z.write_shift(4,B[3]),z.write_shift(-4,B[1]?B[0]-1:L),z.write_shift(4,B[1]),W=0;W<109;++W)z.write_shift(-4,W<B[2]?B[1]+W:-1)}if(B[1])for(oe=0;oe<B[1];++oe){for(;W<236+oe*127;++W)z.write_shift(-4,W<B[2]?B[1]+W:-1);z.write_shift(-4,oe===B[1]-1?L:oe+1)}var ye=function(Ve){for(oe+=Ve;W<oe-1;++W)z.write_shift(-4,W+1);Ve&&(++W,z.write_shift(-4,L))};for(oe=W=0,oe+=B[1];W<oe;++W)z.write_shift(-4,we.DIFSECT);for(oe+=B[2];W<oe;++W)z.write_shift(-4,we.FATSECT);ye(B[3]),ye(B[4]);for(var le=0,fe=0,ce=b.FileIndex[0];le<b.FileIndex.length;++le)ce=b.FileIndex[le],ce.content&&(fe=ce.content.length,!(fe<4096)&&(ce.start=oe,ye(fe+511>>9)));for(ye(B[6]+7>>3);z.l&511;)z.write_shift(-4,we.ENDOFCHAIN);for(oe=W=0,le=0;le<b.FileIndex.length;++le)ce=b.FileIndex[le],ce.content&&(fe=ce.content.length,!(!fe||fe>=4096)&&(ce.start=oe,ye(fe+63>>6)));for(;z.l&511;)z.write_shift(-4,we.ENDOFCHAIN);for(W=0;W<B[4]<<2;++W){var Ne=b.FullPaths[W];if(!Ne||Ne.length===0){for(le=0;le<17;++le)z.write_shift(4,0);for(le=0;le<3;++le)z.write_shift(4,-1);for(le=0;le<12;++le)z.write_shift(4,0);continue}ce=b.FileIndex[W],W===0&&(ce.start=ce.size?ce.start-1:L);var Me=W===0&&V.root||ce.name;if(fe=2*(Me.length+1),z.write_shift(64,Me,"utf16le"),z.write_shift(2,fe),z.write_shift(1,ce.type),z.write_shift(1,ce.color),z.write_shift(-4,ce.L),z.write_shift(-4,ce.R),z.write_shift(-4,ce.C),ce.clsid)z.write_shift(16,ce.clsid,"hex");else for(le=0;le<4;++le)z.write_shift(4,0);z.write_shift(4,ce.state||0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,ce.start),z.write_shift(4,ce.size),z.write_shift(4,0)}for(W=1;W<b.FileIndex.length;++W)if(ce=b.FileIndex[W],ce.size>=4096)if(z.l=ce.start+1<<9,wt&&Buffer.isBuffer(ce.content))ce.content.copy(z,z.l,0,ce.size),z.l+=ce.size+511&-512;else{for(le=0;le<ce.size;++le)z.write_shift(1,ce.content[le]);for(;le&511;++le)z.write_shift(1,0)}for(W=1;W<b.FileIndex.length;++W)if(ce=b.FileIndex[W],ce.size>0&&ce.size<4096)if(wt&&Buffer.isBuffer(ce.content))ce.content.copy(z,z.l,0,ce.size),z.l+=ce.size+63&-64;else{for(le=0;le<ce.size;++le)z.write_shift(1,ce.content[le]);for(;le&63;++le)z.write_shift(1,0)}if(wt)z.l=z.length;else for(;z.l<z.length;)z.write_shift(1,0);return z}function F(b,Y){var V=b.FullPaths.map(function(le){return le.toUpperCase()}),B=V.map(function(le){var fe=le.split("/");return fe[fe.length-(le.slice(-1)=="/"?2:1)]}),z=!1;Y.charCodeAt(0)===47?(z=!0,Y=V[0].slice(0,-1)+Y):z=Y.indexOf("/")!==-1;var W=Y.toUpperCase(),oe=z===!0?V.indexOf(W):B.indexOf(W);if(oe!==-1)return b.FileIndex[oe];var ye=!W.match(Dh);for(W=W.replace(xc,""),ye&&(W=W.replace(Dh,"!")),oe=0;oe<V.length;++oe)if((ye?V[oe].replace(Dh,"!"):V[oe]).replace(xc,"")==W||(ye?B[oe].replace(Dh,"!"):B[oe]).replace(xc,"")==W)return b.FileIndex[oe];return null}var K=64,L=-2,Ye="d0cf11e0a1b11ae1",Ee=[208,207,17,224,161,177,26,225],ie="00000000000000000000000000000000",we={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:Ye,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ie,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Be(b,Y,V){h();var B=k(b,V);d.writeFileSync(Y,B)}function Xe(b){for(var Y=new Array(b.length),V=0;V<b.length;++V)Y[V]=String.fromCharCode(b[V]);return Y.join("")}function je(b,Y){var V=k(b,Y);switch(Y&&Y.type||"buffer"){case"file":return h(),d.writeFileSync(Y.filename,V),V;case"binary":return typeof V=="string"?V:Xe(V);case"base64":return Bc(typeof V=="string"?V:Xe(V));case"buffer":if(wt)return Buffer.isBuffer(V)?V:Ls(V);case"array":return typeof V=="string"?wi(V):V}return V}var ee;function O(b){try{var Y=b.InflateRaw,V=new Y;if(V._processChunk(new Uint8Array([3,0]),V._finishFlushFlag),V.bytesRead)ee=b;else throw new Error("zlib does not expose bytesRead")}catch(B){console.error("cannot use native zlib: "+(B.message||B))}}function j(b,Y){if(!ee)return es(b,Y);var V=ee.InflateRaw,B=new V,z=B._processChunk(b.slice(b.l),B._finishFlushFlag);return b.l+=B.bytesRead,z}function J(b){return ee?ee.deflateRawSync(b):Ba(b)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],De=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ue(b){var Y=(b<<1|b<<11)&139536|(b<<5|b<<15)&558144;return(Y>>16|Y>>8|Y)&255}for(var be=typeof Uint8Array<"u",Oe=be?new Uint8Array(256):[],_t=0;_t<256;++_t)Oe[_t]=Ue(_t);function lt(b,Y){var V=Oe[b&255];return Y<=8?V>>>8-Y:(V=V<<8|Oe[b>>8&255],Y<=16?V>>>16-Y:(V=V<<8|Oe[b>>16&255],V>>>24-Y))}function on(b,Y){var V=Y&7,B=Y>>>3;return(b[B]|(V<=6?0:b[B+1]<<8))>>>V&3}function at(b,Y){var V=Y&7,B=Y>>>3;return(b[B]|(V<=5?0:b[B+1]<<8))>>>V&7}function cr(b,Y){var V=Y&7,B=Y>>>3;return(b[B]|(V<=4?0:b[B+1]<<8))>>>V&15}function It(b,Y){var V=Y&7,B=Y>>>3;return(b[B]|(V<=3?0:b[B+1]<<8))>>>V&31}function qe(b,Y){var V=Y&7,B=Y>>>3;return(b[B]|(V<=1?0:b[B+1]<<8))>>>V&127}function bn(b,Y,V){var B=Y&7,z=Y>>>3,W=(1<<V)-1,oe=b[z]>>>B;return V<8-B||(oe|=b[z+1]<<8-B,V<16-B)||(oe|=b[z+2]<<16-B,V<24-B)||(oe|=b[z+3]<<24-B),oe&W}function Nt(b,Y,V){var B=Y&7,z=Y>>>3;return B<=5?b[z]|=(V&7)<<B:(b[z]|=V<<B&255,b[z+1]=(V&7)>>8-B),Y+3}function Yt(b,Y,V){var B=Y&7,z=Y>>>3;return V=(V&1)<<B,b[z]|=V,Y+1}function fr(b,Y,V){var B=Y&7,z=Y>>>3;return V<<=B,b[z]|=V&255,V>>>=8,b[z+1]=V,Y+8}function Lo(b,Y,V){var B=Y&7,z=Y>>>3;return V<<=B,b[z]|=V&255,V>>>=8,b[z+1]=V&255,b[z+2]=V>>>8,Y+16}function Vs(b,Y){var V=b.length,B=2*V>Y?2*V:Y+5,z=0;if(V>=Y)return b;if(wt){var W=_E(B);if(b.copy)b.copy(W);else for(;z<b.length;++z)W[z]=b[z];return W}else if(be){var oe=new Uint8Array(B);if(oe.set)oe.set(b);else for(;z<V;++z)oe[z]=b[z];return oe}return b.length=B,b}function Xt(b){for(var Y=new Array(b),V=0;V<b;++V)Y[V]=0;return Y}function Wr(b,Y,V){var B=1,z=0,W=0,oe=0,ye=0,le=b.length,fe=be?new Uint16Array(32):Xt(32);for(W=0;W<32;++W)fe[W]=0;for(W=le;W<V;++W)b[W]=0;le=b.length;var ce=be?new Uint16Array(le):Xt(le);for(W=0;W<le;++W)fe[z=b[W]]++,B<z&&(B=z),ce[W]=0;for(fe[0]=0,W=1;W<=B;++W)fe[W+16]=ye=ye+fe[W-1]<<1;for(W=0;W<le;++W)ye=b[W],ye!=0&&(ce[W]=fe[ye+16]++);var Ne=0;for(W=0;W<le;++W)if(Ne=b[W],Ne!=0)for(ye=lt(ce[W],B)>>B-Ne,oe=(1<<B+4-Ne)-1;oe>=0;--oe)Y[ye|oe<<Ne]=Ne&15|W<<4;return B}var Zi=be?new Uint16Array(512):Xt(512),ji=be?new Uint16Array(32):Xt(32);if(!be){for(var er=0;er<512;++er)Zi[er]=0;for(er=0;er<32;++er)ji[er]=0}(function(){for(var b=[],Y=0;Y<32;Y++)b.push(5);Wr(b,ji,32);var V=[];for(Y=0;Y<=143;Y++)V.push(8);for(;Y<=255;Y++)V.push(9);for(;Y<=279;Y++)V.push(7);for(;Y<=287;Y++)V.push(8);Wr(V,Zi,288)})();var lu=(function(){for(var Y=be?new Uint8Array(32768):[],V=0,B=0;V<De.length-1;++V)for(;B<De[V+1];++B)Y[B]=V;for(;B<32768;++B)Y[B]=29;var z=be?new Uint8Array(259):[];for(V=0,B=0;V<pe.length-1;++V)for(;B<pe[V+1];++B)z[B]=V;function W(ye,le){for(var fe=0;fe<ye.length;){var ce=Math.min(65535,ye.length-fe),Ne=fe+ce==ye.length;for(le.write_shift(1,+Ne),le.write_shift(2,ce),le.write_shift(2,~ce&65535);ce-- >0;)le[le.l++]=ye[fe++]}return le.l}function oe(ye,le){for(var fe=0,ce=0,Ne=be?new Uint16Array(32768):[];ce<ye.length;){var Me=Math.min(65535,ye.length-ce);if(Me<10){for(fe=Nt(le,fe,+(ce+Me==ye.length)),fe&7&&(fe+=8-(fe&7)),le.l=fe/8|0,le.write_shift(2,Me),le.write_shift(2,~Me&65535);Me-- >0;)le[le.l++]=ye[ce++];fe=le.l*8;continue}fe=Nt(le,fe,+(ce+Me==ye.length)+2);for(var Ve=0;Me-- >0;){var Ie=ye[ce];Ve=(Ve<<5^Ie)&32767;var ke=-1,We=0;if((ke=Ne[Ve])&&(ke|=ce&-32768,ke>ce&&(ke-=32768),ke<ce))for(;ye[ke+We]==ye[ce+We]&&We<250;)++We;if(We>2){Ie=z[We],Ie<=22?fe=fr(le,fe,Oe[Ie+1]>>1)-1:(fr(le,fe,3),fe+=5,fr(le,fe,Oe[Ie-23]>>5),fe+=3);var Dt=Ie<8?0:Ie-4>>2;Dt>0&&(Lo(le,fe,We-pe[Ie]),fe+=Dt),Ie=Y[ce-ke],fe=fr(le,fe,Oe[Ie]>>3),fe-=3;var Mt=Ie<4?0:Ie-2>>1;Mt>0&&(Lo(le,fe,ce-ke-De[Ie]),fe+=Mt);for(var Kt=0;Kt<We;++Kt)Ne[Ve]=ce&32767,Ve=(Ve<<5^ye[ce])&32767,++ce;Me-=We-1}else Ie<=143?Ie=Ie+48:fe=Yt(le,fe,1),fe=fr(le,fe,Oe[Ie]),Ne[Ve]=ce&32767,++ce}fe=fr(le,fe,0)-1}return le.l=(fe+7)/8|0,le.l}return function(le,fe){return le.length<8?W(le,fe):oe(le,fe)}})();function Ba(b){var Y=ve(50+Math.floor(b.length*1.1)),V=lu(b,Y);return Y.slice(0,V)}var Ha=be?new Uint16Array(32768):Xt(32768),Ga=be?new Uint16Array(32768):Xt(32768),yr=be?new Uint16Array(128):Xt(128),_n=1,hr=1;function sn(b,Y){var V=It(b,Y)+257;Y+=5;var B=It(b,Y)+1;Y+=5;var z=cr(b,Y)+4;Y+=4;for(var W=0,oe=be?new Uint8Array(19):Xt(19),ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],le=1,fe=be?new Uint8Array(8):Xt(8),ce=be?new Uint8Array(8):Xt(8),Ne=oe.length,Me=0;Me<z;++Me)oe[Q[Me]]=W=at(b,Y),le<W&&(le=W),fe[W]++,Y+=3;var Ve=0;for(fe[0]=0,Me=1;Me<=le;++Me)ce[Me]=Ve=Ve+fe[Me-1]<<1;for(Me=0;Me<Ne;++Me)(Ve=oe[Me])!=0&&(ye[Me]=ce[Ve]++);var Ie=0;for(Me=0;Me<Ne;++Me)if(Ie=oe[Me],Ie!=0){Ve=Oe[ye[Me]]>>8-Ie;for(var ke=(1<<7-Ie)-1;ke>=0;--ke)yr[Ve|ke<<Ie]=Ie&7|Me<<3}var We=[];for(le=1;We.length<V+B;)switch(Ve=yr[qe(b,Y)],Y+=Ve&7,Ve>>>=3){case 16:for(W=3+on(b,Y),Y+=2,Ve=We[We.length-1];W-- >0;)We.push(Ve);break;case 17:for(W=3+at(b,Y),Y+=3;W-- >0;)We.push(0);break;case 18:for(W=11+qe(b,Y),Y+=7;W-- >0;)We.push(0);break;default:We.push(Ve),le<Ve&&(le=Ve);break}var Dt=We.slice(0,V),Mt=We.slice(V);for(Me=V;Me<286;++Me)Dt[Me]=0;for(Me=B;Me<30;++Me)Mt[Me]=0;return _n=Wr(Dt,Ha,286),hr=Wr(Mt,Ga,30),Y}function ko(b,Y){if(b[0]==3&&!(b[1]&3))return[xo(Y),2];for(var V=0,B=0,z=_E(Y||1<<18),W=0,oe=z.length>>>0,ye=0,le=0;(B&1)==0;){if(B=at(b,V),V+=3,B>>>1)B>>1==1?(ye=9,le=5):(V=sn(b,V),ye=_n,le=hr);else{V&7&&(V+=8-(V&7));var fe=b[V>>>3]|b[(V>>>3)+1]<<8;if(V+=32,fe>0)for(!Y&&oe<W+fe&&(z=Vs(z,W+fe),oe=z.length);fe-- >0;)z[W++]=b[V>>>3],V+=8;continue}for(;;){!Y&&oe<W+32767&&(z=Vs(z,W+32767),oe=z.length);var ce=bn(b,V,ye),Ne=B>>>1==1?Zi[ce]:Ha[ce];if(V+=Ne&15,Ne>>>=4,(Ne>>>8&255)===0)z[W++]=Ne;else{if(Ne==256)break;Ne-=257;var Me=Ne<8?0:Ne-4>>2;Me>5&&(Me=0);var Ve=W+pe[Ne];Me>0&&(Ve+=bn(b,V,Me),V+=Me),ce=bn(b,V,le),Ne=B>>>1==1?ji[ce]:Ga[ce],V+=Ne&15,Ne>>>=4;var Ie=Ne<4?0:Ne-2>>1,ke=De[Ne];for(Ie>0&&(ke+=bn(b,V,Ie),V+=Ie),!Y&&oe<Ve&&(z=Vs(z,Ve+100),oe=z.length);W<Ve;)z[W]=z[W-ke],++W}}}return Y?[z,V+7>>>3]:[z.slice(0,W),V+7>>>3]}function es(b,Y){var V=b.slice(b.l||0),B=ko(V,Y);return b.l+=B[1],B[0]}function qa(b,Y){if(b)typeof console<"u"&&console.error(Y);else throw new Error(Y)}function Mr(b,Y){var V=b;qr(V,0);var B=[],z=[],W={FileIndex:B,FullPaths:z};N(W,{root:Y.root});for(var oe=V.length-4;(V[oe]!=80||V[oe+1]!=75||V[oe+2]!=5||V[oe+3]!=6)&&oe>=0;)--oe;V.l=oe+4,V.l+=4;var ye=V.read_shift(2);V.l+=6;var le=V.read_shift(4);for(V.l=le,oe=0;oe<ye;++oe){V.l+=20;var fe=V.read_shift(4),ce=V.read_shift(4),Ne=V.read_shift(2),Me=V.read_shift(2),Ve=V.read_shift(2);V.l+=8;var Ie=V.read_shift(4),ke=c(V.slice(V.l+Ne,V.l+Ne+Me));V.l+=Ne+Me+Ve;var We=V.l;V.l=Ie+4,ts(V,fe,ce,W,ke),V.l=We}return W}function ts(b,Y,V,B,z){b.l+=2;var W=b.read_shift(2),oe=b.read_shift(2),ye=l(b);if(W&8257)throw new Error("Unsupported ZIP encryption");for(var le=b.read_shift(4),fe=b.read_shift(4),ce=b.read_shift(4),Ne=b.read_shift(2),Me=b.read_shift(2),Ve="",Ie=0;Ie<Ne;++Ie)Ve+=String.fromCharCode(b[b.l++]);if(Me){var ke=c(b.slice(b.l,b.l+Me));(ke[21589]||{}).mt&&(ye=ke[21589].mt),((z||{})[21589]||{}).mt&&(ye=z[21589].mt)}b.l+=Me;var We=b.slice(b.l,b.l+fe);switch(oe){case 8:We=j(b,ce);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+oe)}var Dt=!1;W&8&&(le=b.read_shift(4),le==134695760&&(le=b.read_shift(4),Dt=!0),fe=b.read_shift(4),ce=b.read_shift(4)),fe!=Y&&qa(Dt,"Bad compressed size: "+Y+" != "+fe),ce!=V&&qa(Dt,"Bad uncompressed size: "+V+" != "+ce),is(B,Ve,We,{unsafe:!0,mt:ye})}function ln(b,Y){var V=Y||{},B=[],z=[],W=ve(1),oe=V.compression?8:0,ye=0,le=0,fe=0,ce=0,Ne=0,Me=b.FullPaths[0],Ve=Me,Ie=b.FileIndex[0],ke=[],We=0;for(le=1;le<b.FullPaths.length;++le)if(Ve=b.FullPaths[le].slice(Me.length),Ie=b.FileIndex[le],!(!Ie.size||!Ie.content||Ve=="Sh33tJ5")){var Dt=ce,Mt=ve(Ve.length);for(fe=0;fe<Ve.length;++fe)Mt.write_shift(1,Ve.charCodeAt(fe)&127);Mt=Mt.slice(0,Mt.l),ke[Ne]=rP.buf(Ie.content,0);var Kt=Ie.content;oe==8&&(Kt=J(Kt)),W=ve(30),W.write_shift(4,67324752),W.write_shift(2,20),W.write_shift(2,ye),W.write_shift(2,oe),Ie.mt?o(W,Ie.mt):W.write_shift(4,0),W.write_shift(-4,ke[Ne]),W.write_shift(4,Kt.length),W.write_shift(4,Ie.content.length),W.write_shift(2,Mt.length),W.write_shift(2,0),ce+=W.length,B.push(W),ce+=Mt.length,B.push(Mt),ce+=Kt.length,B.push(Kt),W=ve(46),W.write_shift(4,33639248),W.write_shift(2,0),W.write_shift(2,20),W.write_shift(2,ye),W.write_shift(2,oe),W.write_shift(4,0),W.write_shift(-4,ke[Ne]),W.write_shift(4,Kt.length),W.write_shift(4,Ie.content.length),W.write_shift(2,Mt.length),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(4,0),W.write_shift(4,Dt),We+=W.l,z.push(W),We+=Mt.length,z.push(Mt),++Ne}return W=ve(22),W.write_shift(4,101010256),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,Ne),W.write_shift(2,Ne),W.write_shift(4,We),W.write_shift(4,ce),W.write_shift(2,0),Jn([Jn(B),Jn(z),W])}var dr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Xr(b,Y){if(b.ctype)return b.ctype;var V=b.name||"",B=V.match(/\.([^\.]+)$/);return B&&dr[B[1]]||Y&&(B=(V=Y).match(/[\.\\]([^\.\\])+$/),B&&dr[B[1]])?dr[B[1]]:"application/octet-stream"}function br(b){for(var Y=Bc(b),V=[],B=0;B<Y.length;B+=76)V.push(Y.slice(B,B+76));return V.join(`\r
`)+`\r
`}function uu(b){var Y=b.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(fe){var ce=fe.charCodeAt(0).toString(16).toUpperCase();return"="+(ce.length==1?"0"+ce:ce)});Y=Y.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Y.charAt(0)==`
`&&(Y="=0D"+Y.slice(1)),Y=Y.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var V=[],B=Y.split(`\r
`),z=0;z<B.length;++z){var W=B[z];if(W.length==0){V.push("");continue}for(var oe=0;oe<W.length;){var ye=76,le=W.slice(oe,oe+ye);le.charAt(ye-1)=="="?ye--:le.charAt(ye-2)=="="?ye-=2:le.charAt(ye-3)=="="&&(ye-=3),le=W.slice(oe,oe+ye),oe+=ye,oe<W.length&&(le+="="),V.push(le)}}return V.join(`\r
`)}function Oo(b){for(var Y=[],V=0;V<b.length;++V){for(var B=b[V];V<=b.length&&B.charAt(B.length-1)=="=";)B=B.slice(0,B.length-1)+b[++V];Y.push(B)}for(var z=0;z<Y.length;++z)Y[z]=Y[z].replace(/[=][0-9A-Fa-f]{2}/g,function(W){return String.fromCharCode(parseInt(W.slice(1),16))});return wi(Y.join(`\r
`))}function Jr(b,Y,V){for(var B="",z="",W="",oe,ye=0;ye<10;++ye){var le=Y[ye];if(!le||le.match(/^\s*$/))break;var fe=le.match(/^(.*?):\s*([^\s].*)$/);if(fe)switch(fe[1].toLowerCase()){case"content-location":B=fe[2].trim();break;case"content-type":W=fe[2].trim();break;case"content-transfer-encoding":z=fe[2].trim();break}}switch(++ye,z.toLowerCase()){case"base64":oe=wi(bs(Y.slice(ye).join("")));break;case"quoted-printable":oe=Oo(Y.slice(ye));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+z)}var ce=is(b,B.slice(V.length),oe,{unsafe:!0});W&&(ce.ctype=W)}function ns(b,Y){if(Xe(b.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var V=Y&&Y.root||"",B=(wt&&Buffer.isBuffer(b)?b.toString("binary"):Xe(b)).split(`\r
`),z=0,W="";for(z=0;z<B.length;++z)if(W=B[z],!!/^Content-Location:/i.test(W)&&(W=W.slice(W.indexOf("file")),V||(V=W.slice(0,W.lastIndexOf("/")+1)),W.slice(0,V.length)!=V))for(;V.length>0&&(V=V.slice(0,V.length-1),V=V.slice(0,V.lastIndexOf("/")+1),W.slice(0,V.length)!=V););var oe=(B[1]||"").match(/boundary="(.*?)"/);if(!oe)throw new Error("MAD cannot find boundary");var ye="--"+(oe[1]||""),le=[],fe=[],ce={FileIndex:le,FullPaths:fe};N(ce);var Ne,Me=0;for(z=0;z<B.length;++z){var Ve=B[z];Ve!==ye&&Ve!==ye+"--"||(Me++&&Jr(ce,B.slice(Ne,z),V),Ne=z)}return ce}function cu(b,Y){var V=Y||{},B=V.boundary||"SheetJS";B="------="+B;for(var z=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+B.slice(2)+'"',"","",""],W=b.FullPaths[0],oe=W,ye=b.FileIndex[0],le=1;le<b.FullPaths.length;++le)if(oe=b.FullPaths[le].slice(W.length),ye=b.FileIndex[le],!(!ye.size||!ye.content||oe=="Sh33tJ5")){oe=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(We){return"_x"+We.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(We){return"_u"+We.charCodeAt(0).toString(16)+"_"});for(var fe=ye.content,ce=wt&&Buffer.isBuffer(fe)?fe.toString("binary"):Xe(fe),Ne=0,Me=Math.min(1024,ce.length),Ve=0,Ie=0;Ie<=Me;++Ie)(Ve=ce.charCodeAt(Ie))>=32&&Ve<128&&++Ne;var ke=Ne>=Me*4/5;z.push(B),z.push("Content-Location: "+(V.root||"file:///C:/SheetJS/")+oe),z.push("Content-Transfer-Encoding: "+(ke?"quoted-printable":"base64")),z.push("Content-Type: "+Xr(ye,oe)),z.push(""),z.push(ke?uu(ce):br(ce))}return z.push(B+`--\r
`),z.join(`\r
`)}function rs(b){var Y={};return N(Y,b),Y}function is(b,Y,V,B){var z=B&&B.unsafe;z||N(b);var W=!z&&zt.find(b,Y);if(!W){var oe=b.FullPaths[0];Y.slice(0,oe.length)==oe?oe=Y:(oe.slice(-1)!="/"&&(oe+="/"),oe=(oe+Y).replace("//","/")),W={name:i(Y),type:2},b.FileIndex.push(W),b.FullPaths.push(oe),z||zt.utils.cfb_gc(b)}return W.content=V,W.size=V?V.length:0,B&&(B.CLSID&&(W.clsid=B.CLSID),B.mt&&(W.mt=B.mt),B.ct&&(W.ct=B.ct)),W}function za(b,Y){N(b);var V=zt.find(b,Y);if(V){for(var B=0;B<b.FileIndex.length;++B)if(b.FileIndex[B]==V)return b.FileIndex.splice(B,1),b.FullPaths.splice(B,1),!0}return!1}function ss(b,Y,V){N(b);var B=zt.find(b,Y);if(B){for(var z=0;z<b.FileIndex.length;++z)if(b.FileIndex[z]==B)return b.FileIndex[z].name=i(V),b.FullPaths[z]=V,!0}return!1}function di(b){D(b,!0)}return e.find=F,e.read=me,e.parse=m,e.write=je,e.writeFile=Be,e.utils={cfb_new:rs,cfb_add:is,cfb_del:za,cfb_mov:ss,cfb_gc:di,ReadShift:Ac,CheckField:Z2,prep_blob:qr,bconcat:Jn,use_zlib:O,_deflateRaw:Ba,_inflateRaw:es,consts:we},e})();function iP(t){return typeof t=="string"?zd(t):Array.isArray(t)?Db(t):t}function Zc(t,e,n){if(typeof Deno<"u"){if(n&&typeof e=="string")switch(n){case"utf8":e=new TextEncoder(n).encode(e);break;case"binary":e=zd(e);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(t,e)}var r=n=="utf8"?Gc(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,t);if(typeof Blob<"u"){var i=new Blob([iP(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:t,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=t,l.href=o,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(t);return c.open("w"),c.encoding="binary",Array.isArray(e)&&(e=Qc(e)),c.write(e),c.close(),e}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+t)}function jn(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(t,e[r])&&n.push(e[r]);return n}function CE(t,e){for(var n=[],r=jn(t),i=0;i!==r.length;++i)n[t[r[i]][e]]==null&&(n[t[r[i]][e]]=r[i]);return n}function Wg(t){for(var e=[],n=jn(t),r=0;r!==n.length;++r)e[t[n[r]]]=n[r];return e}function Wd(t){for(var e=[],n=jn(t),r=0;r!==n.length;++r)e[t[n[r]]]=parseInt(n[r],10);return e}function sP(t){for(var e=[],n=jn(t),r=0;r!==n.length;++r)e[t[n[r]]]==null&&(e[t[n[r]]]=[]),e[t[n[r]]].push(n[r]);return e}var dd=new Date(1899,11,30,0,0,0);function Nr(t,e){var n=t.getTime(),r=dd.getTime()+(t.getTimezoneOffset()-dd.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var L2=new Date,aP=dd.getTime()+(L2.getTimezoneOffset()-dd.getTimezoneOffset())*6e4,wE=L2.getTimezoneOffset();function k2(t){var e=new Date;return e.setTime(t*24*60*60*1e3+aP),e.getTimezoneOffset()!==wE&&e.setTime(e.getTime()+(e.getTimezoneOffset()-wE)*6e4),e}var RE=new Date("2017-02-19T19:06:09.000Z"),O2=isNaN(RE.getFullYear())?new Date("2/19/17"):RE,oP=O2.getFullYear()==2017;function vr(t,e){var n=new Date(t);if(oP)return e>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):e<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(t instanceof Date)return t;if(O2.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return t.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function Xd(t,e){if(wt&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(o){return n[o]||o})}catch{}for(var r=[],i=0;i!=t.length;++i)r.push(String.fromCharCode(t[i]));return r.join("")}function Dr(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=Dr(t[n]));return e}function fn(t,e){for(var n="";n.length<e;)n+=t;return n}function Rs(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var n=1,r=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,o){return n=-n,o}),!isNaN(e=Number(r)))?e/n:e}var lP=["january","february","march","april","may","june","july","august","september","october","november","december"];function Hc(t){var e=new Date(t),n=new Date(NaN),r=e.getYear(),i=e.getMonth(),o=e.getDate();if(isNaN(o))return n;var l=t.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&lP.indexOf(l)==-1)return n}else if(l.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||o>1)&&r!=101?e:t.match(/[^-0-9:,\/\\]/)?n:e}function ut(t,e,n){if(t.FullPaths){if(typeof n=="string"){var r;return wt?r=Ls(n):r=Mb(n),zt.utils.cfb_add(t,e,r)}zt.utils.cfb_add(t,e,n)}else t.file(e,n)}function Xg(){return zt.utils.cfb_new()}var In=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,uP={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Jg=Wg(uP),$g=/[&<>'"]/g,cP=/[\u0000-\u0008\u000b-\u001f]/g;function Ot(t){var e=t+"";return e.replace($g,function(n){return Jg[n]}).replace(cP,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function IE(t){return Ot(t).replace(/ /g,"_x0020_")}var V2=/[\u0000-\u001f]/g;function fP(t){var e=t+"";return e.replace($g,function(n){return Jg[n]}).replace(/\n/g,"<br/>").replace(V2,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function hP(t){var e=t+"";return e.replace($g,function(n){return Jg[n]}).replace(V2,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function dP(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function pP(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function mm(t){for(var e="",n=0,r=0,i=0,o=0,l=0,c=0;n<t.length;){if(r=t.charCodeAt(n++),r<128){e+=String.fromCharCode(r);continue}if(i=t.charCodeAt(n++),r>191&&r<224){l=(r&31)<<6,l|=i&63,e+=String.fromCharCode(l);continue}if(o=t.charCodeAt(n++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63);continue}l=t.charCodeAt(n++),c=((r&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536,e+=String.fromCharCode(55296+(c>>>10&1023)),e+=String.fromCharCode(56320+(c&1023))}return e}function NE(t){var e=xo(2*t.length),n,r,i=1,o=0,l=0,c;for(r=0;r<t.length;r+=i)i=1,(c=t.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(t.charCodeAt(r+1)&63),i=2):c<240?(n=(c&15)*4096+(t.charCodeAt(r+1)&63)*64+(t.charCodeAt(r+2)&63),i=3):(i=4,n=(c&7)*262144+(t.charCodeAt(r+1)&63)*4096+(t.charCodeAt(r+2)&63)*64+(t.charCodeAt(r+3)&63),n-=65536,l=55296+(n>>>10&1023),n=56320+(n&1023)),l!==0&&(e[o++]=l&255,e[o++]=l>>>8,l=0),e[o++]=n%256,e[o++]=n>>>8;return e.slice(0,o).toString("ucs2")}function DE(t){return Ls(t,"binary").toString("utf8")}var bh="foo bar baz",Sc=wt&&(DE(bh)==mm(bh)&&DE||NE(bh)==mm(bh)&&NE)||mm,Gc=wt?function(t){return Ls(t,"utf8").toString("binary")}:function(t){for(var e=[],n=0,r=0,i=0;n<t.length;)switch(r=t.charCodeAt(n++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=t.charCodeAt(n++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},mP=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)r=r.replace(t[i][0],t[i][1]);return r}})(),U2=/(^\s|\s$|\n)/;function $n(t,e){return"<"+t+(e.match(U2)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function qc(t){return jn(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function Pe(t,e,n){return"<"+t+(n!=null?qc(n):"")+(e!=null?(e.match(U2)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Jm(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(n){if(e)throw n}return""}function gP(t,e){switch(typeof t){case"string":var n=Pe("vt:lpwstr",Ot(t));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return Pe((t|0)==t?"vt:i4":"vt:r8",Ot(String(t)));case"boolean":return Pe("vt:bool",t?"true":"false")}if(t instanceof Date)return Pe("vt:filetime",Jm(t));throw new Error("Unable to serialize "+t)}var kn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},tu=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],zr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function _P(t,e){for(var n=1-2*(t[e+7]>>>7),r=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,o=5;o>=0;--o)i=i*256+t[e+o];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function vP(t,e,n){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,o=0,l=r?-e:e;isFinite(l)?l==0?i=o=0:(i=Math.floor(Math.log(l)/Math.LN2),o=l*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(e)?26985:0);for(var c=0;c<=5;++c,o/=256)t[n+c]=o&255;t[n+6]=(i&15)<<4|o&15,t[n+7]=i>>4|r}var ME=function(t){for(var e=[],n=10240,r=0;r<t[0].length;++r)if(t[0][r])for(var i=0,o=t[0][r].length;i<o;i+=n)e.push.apply(e,t[0][r].slice(i,i+n));return e},bE=wt?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ls(e)})):ME(t)}:ME,PE=function(t,e,n){for(var r=[],i=e;i<n;i+=2)r.push(String.fromCharCode(dc(t,i)));return r.join("").replace(xc,"")},Qg=wt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("utf16le",e,n).replace(xc,""):PE(t,e,n)}:PE,FE=function(t,e,n){for(var r=[],i=e;i<e+n;++i)r.push(("0"+t[i].toString(16)).slice(-2));return r.join("")},B2=wt?function(t,e,n){return Buffer.isBuffer(t)?t.toString("hex",e,e+n):FE(t,e,n)}:FE,LE=function(t,e,n){for(var r=[],i=e;i<n;i++)r.push(String.fromCharCode(Rl(t,i)));return r.join("")},jc=wt?function(e,n,r){return Buffer.isBuffer(e)?e.toString("utf8",n,r):LE(e,n,r)}:LE,H2=function(t,e){var n=Yr(t,e);return n>0?jc(t,e+4,e+4+n-1):""},G2=H2,q2=function(t,e){var n=Yr(t,e);return n>0?jc(t,e+4,e+4+n-1):""},z2=q2,Y2=function(t,e){var n=2*Yr(t,e);return n>0?jc(t,e+4,e+4+n-1):""},K2=Y2,W2=function(e,n){var r=Yr(e,n);return r>0?Qg(e,n+4,n+4+r):""},X2=W2,J2=function(t,e){var n=Yr(t,e);return n>0?jc(t,e+4,e+4+n):""},$2=J2,Q2=function(t,e){return _P(t,e)},pd=Q2,Zg=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};wt&&(G2=function(e,n){if(!Buffer.isBuffer(e))return H2(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},z2=function(e,n){if(!Buffer.isBuffer(e))return q2(e,n);var r=e.readUInt32LE(n);return r>0?e.toString("utf8",n+4,n+4+r-1):""},K2=function(e,n){if(!Buffer.isBuffer(e))return Y2(e,n);var r=2*e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r-1)},X2=function(e,n){if(!Buffer.isBuffer(e))return W2(e,n);var r=e.readUInt32LE(n);return e.toString("utf16le",n+4,n+4+r)},$2=function(e,n){if(!Buffer.isBuffer(e))return J2(e,n);var r=e.readUInt32LE(n);return e.toString("utf8",n+4,n+4+r)},pd=function(e,n){return Buffer.isBuffer(e)?e.readDoubleLE(n):Q2(e,n)},Zg=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Rl=function(t,e){return t[e]},dc=function(t,e){return t[e+1]*256+t[e]},yP=function(t,e){var n=t[e+1]*256+t[e];return n<32768?n:(65535-n+1)*-1},Yr=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},_o=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},TP=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Ac(t,e){var n="",r,i,o=[],l,c,d,h;switch(e){case"dbcs":if(h=this.l,wt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*t).toString("utf16le");else for(d=0;d<t;++d)n+=String.fromCharCode(dc(this,h)),h+=2;t*=2;break;case"utf8":n=jc(this,this.l,this.l+t);break;case"utf16le":t*=2,n=Qg(this,this.l,this.l+t);break;case"wstr":return Ac.call(this,t,"dbcs");case"lpstr-ansi":n=G2(this,this.l),t=4+Yr(this,this.l);break;case"lpstr-cp":n=z2(this,this.l),t=4+Yr(this,this.l);break;case"lpwstr":n=K2(this,this.l),t=4+2*Yr(this,this.l);break;case"lpp4":t=4+Yr(this,this.l),n=X2(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Yr(this,this.l),n=$2(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,n="";(l=Rl(this,this.l+t++))!==0;)o.push(Nh(l));n=o.join("");break;case"_wstr":for(t=0,n="";(l=dc(this,this.l+t))!==0;)o.push(Nh(l)),t+=2;t+=2,n=o.join("");break;case"dbcs-cont":for(n="",h=this.l,d=0;d<t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=Rl(this,h),this.l=h+1,c=Ac.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(Nh(dc(this,h))),h+=2}n=o.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(n="",h=this.l,d=0;d!=t;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=Rl(this,h),this.l=h+1,c=Ac.call(this,t-d,l?"dbcs-cont":"sbcs-cont"),o.join("")+c;o.push(Nh(Rl(this,h))),h+=1}n=o.join("");break;default:switch(t){case 1:return r=Rl(this,this.l),this.l++,r;case 2:return r=(e==="i"?yP:dc)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(t>0?_o:TP)(this,this.l),this.l+=4,r):(i=Yr(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=pd(this,this.l):i=pd([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:n=B2(this,this.l,t);break}}return this.l+=t,n}var EP=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24&255},xP=function(t,e,n){t[n]=e&255,t[n+1]=e>>8&255,t[n+2]=e>>16&255,t[n+3]=e>>24&255},SP=function(t,e,n){t[n]=e&255,t[n+1]=e>>>8&255};function AP(t,e,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=e.length;++i)SP(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(n==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(n==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var o=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var l=e.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(t){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,EP(this,e,this.l);break;case 8:if(r=8,n==="f"){vP(this,e,this.l);break}case 16:break;case-4:r=4,xP(this,e,this.l);break}return this.l+=r,this}function Z2(t,e){var n=B2(this,this.l,t.length>>1);if(n!==t)throw new Error(e+"Expected "+t+" saw "+n);this.l+=t.length>>1}function qr(t,e){t.l=e,t.read_shift=Ac,t.chk=Z2,t.write_shift=AP}function Qi(t,e){t.l+=e}function ve(t){var e=xo(t);return qr(e,0),e}function Ir(){var t=[],e=wt?256:2048,n=function(h){var m=ve(h);return qr(m,0),m},r=n(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&t.push(r),r=null)},o=function(h){return r&&h<r.length-r.l?r:(i(),r=n(Math.max(h+1,e)))},l=function(){return i(),Jn(t)},c=function(h){i(),r=h,r.l==null&&(r.l=r.length),o(e)};return{next:o,push:c,end:l,_bufs:t}}function Re(t,e,n,r){var i=+e,o;if(!isNaN(i)){r||(r=_8[i].p||(n||[]).length||0),o=1+(i>=128?1:0)+1,r>=128&&++o,r>=16384&&++o,r>=2097152&&++o;var l=t.next(o);i<=127?l.write_shift(1,i):(l.write_shift(1,(i&127)+128),l.write_shift(1,i>>7));for(var c=0;c!=4;++c)if(r>=128)l.write_shift(1,(r&127)+128),r>>=7;else{l.write_shift(1,r);break}r>0&&Zg(n)&&t.push(n)}}function Cc(t,e,n){var r=Dr(t);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function kE(t,e,n){var r=Dr(t);return r.s=Cc(r.s,e.s,n),r.e=Cc(r.e,e.s,n),r}function wc(t,e){if(t.cRel&&t.c<0)for(t=Dr(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Dr(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var n=Vt(t);return!t.cRel&&t.cRel!=null&&(n=RP(n)),!t.rRel&&t.rRel!=null&&(n=CP(n)),n}function gm(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+lr(t.s.c)+":"+(t.e.cRel?"":"$")+lr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Qn(t.s.r)+":"+(t.e.rRel?"":"$")+Qn(t.e.r):wc(t.s,e.biff)+":"+wc(t.e,e.biff)}function jg(t){return parseInt(wP(t),10)-1}function Qn(t){return""+(t+1)}function CP(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function wP(t){return t.replace(/\$(\d+)$/,"$1")}function e1(t){for(var e=IP(t),n=0,r=0;r!==e.length;++r)n=26*n+e.charCodeAt(r)-64;return n-1}function lr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function RP(t){return t.replace(/^([A-Z])/,"$$$1")}function IP(t){return t.replace(/^\$([A-Z])/,"$1")}function NP(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Vn(t){for(var e=0,n=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:e-1}}function Vt(t){for(var e=t.c+1,n="";e;e=(e-1)/26|0)n=String.fromCharCode((e-1)%26+65)+n;return n+(t.r+1)}function Kr(t){var e=t.indexOf(":");return e==-1?{s:Vn(t),e:Vn(t)}:{s:Vn(t.slice(0,e)),e:Vn(t.slice(e+1))}}function Rn(t,e){return typeof e>"u"||typeof e=="number"?Rn(t.s,t.e):(typeof t!="string"&&(t=Vt(t)),typeof e!="string"&&(e=Vt(e)),t==e?t:t+":"+e)}function en(t){var e={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,o=t.length;for(n=0;r<o&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.s.c=--n,n=0;r<o&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(e.s.r=--n,r===o||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,n=0;r!=o&&!((i=t.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(e.e.c=--n,n=0;r!=o&&!((i=t.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return e.e.r=--n,e}function OE(t,e){var n=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Fa(t.z,n?Nr(e):e)}catch{}try{return t.w=Fa((t.XF||{}).numFmtId||(n?14:0),n?Nr(e):e)}catch{return""+e}}function Ps(t,e,n){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&n&&n.dateNF&&(t.z=n.dateNF),t.t=="e"?ef[t.v]||t.v:e==null?OE(t,t.v):OE(t,e))}function No(t,e){var n=e&&e.sheet?e.sheet:"Sheet1",r={};return r[n]=t,{SheetNames:[n],Sheets:r}}function j2(t,e,n){var r=n||{},i=t?Array.isArray(t):r.dense,o=t||(i?[]:{}),l=0,c=0;if(o&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var d=typeof r.origin=="string"?Vn(r.origin):r.origin;l=d.r,c=d.c}o["!ref"]||(o["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var m=en(o["!ref"]);h.s.c=m.s.c,h.s.r=m.s.r,h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),l==-1&&(h.e.r=l=m.e.r+1)}for(var y=0;y!=e.length;++y)if(e[y]){if(!Array.isArray(e[y]))throw new Error("aoa_to_sheet expects an array of arrays");for(var E=0;E!=e[y].length;++E)if(!(typeof e[y][E]>"u")){var x={v:e[y][E]},R=l+y,A=c+E;if(h.s.r>R&&(h.s.r=R),h.s.c>A&&(h.s.c=A),h.e.r<R&&(h.e.r=R),h.e.c<A&&(h.e.c=A),e[y][E]&&typeof e[y][E]=="object"&&!Array.isArray(e[y][E])&&!(e[y][E]instanceof Date))x=e[y][E];else if(Array.isArray(x.v)&&(x.f=e[y][E][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(r.nullError)x.t="e",x.v=0;else if(r.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=r.dateNF||hn[14],r.cellDates?(x.t="d",x.w=Fa(x.z,Nr(x.v))):(x.t="n",x.v=Nr(x.v),x.w=Fa(x.z,x.v))):x.t="s";if(i)o[R]||(o[R]=[]),o[R][A]&&o[R][A].z&&(x.z=o[R][A].z),o[R][A]=x;else{var I=Vt({c:A,r:R});o[I]&&o[I].z&&(x.z=o[I].z),o[I]=x}}}return h.s.c<1e7&&(o["!ref"]=Rn(h)),o}function nu(t,e){return j2(null,t,e)}function DP(t){return t.read_shift(4,"i")}function Ni(t,e){return e||(e=ve(4)),e.write_shift(4,t),e}function ur(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Un(t,e){var n=!1;return e==null&&(n=!0,e=ve(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}function MP(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function bP(t,e){return e||(e=ve(4)),e.write_shift(2,0),e.write_shift(2,0),e}function t1(t,e){var n=t.l,r=t.read_shift(1),i=ur(t),o=[],l={t:i,h:i};if((r&1)!==0){for(var c=t.read_shift(4),d=0;d!=c;++d)o.push(MP(t));l.r=o}else l.r=[{ich:0,ifnt:0}];return t.l=n+e,l}function PP(t,e){var n=!1;return e==null&&(n=!0,e=ve(15+4*t.t.length)),e.write_shift(1,0),Un(t.t,e),n?e.slice(0,e.l):e}var FP=t1;function LP(t,e){var n=!1;return e==null&&(n=!0,e=ve(23+4*t.t.length)),e.write_shift(1,1),Un(t.t,e),e.write_shift(4,1),bP({},e),n?e.slice(0,e.l):e}function hi(t){var e=t.read_shift(4),n=t.read_shift(2);return n+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:n}}function Do(t,e){return e==null&&(e=ve(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Mo(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function bo(t,e){return e==null&&(e=ve(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var kP=ur,eC=Un;function n1(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function md(t,e){var n=!1;return e==null&&(n=!0,e=ve(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),n?e.slice(0,e.l):e}var OP=ur,$m=n1,r1=md;function tC(t){var e=t.slice(t.l,t.l+4),n=e[0]&1,r=e[0]&2;t.l+=4;var i=r===0?pd([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):_o(e,0)>>2;return n?i/100:i}function nC(t,e){e==null&&(e=ve(4));var n=0,r=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,n=1),r)e.write_shift(-4,((n?i:t)<<2)+(n+2));else throw new Error("unsupported RkNumber "+t)}function rC(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function VP(t,e){return e||(e=ve(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Po=rC,ru=VP;function iu(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function So(t,e){return(e||ve(8)).write_shift(8,t,"f")}function UP(t){var e={},n=t.read_shift(1),r=n>>>1,i=t.read_shift(1),o=t.read_shift(2,"i"),l=t.read_shift(1),c=t.read_shift(1),d=t.read_shift(1);switch(t.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var h=XP[i];h&&(e.rgb=XE(h));break;case 2:e.rgb=XE([l,c,d]);break;case 3:e.theme=i;break}return o!=0&&(e.tint=o>0?o/32767:o/32768),e}function gd(t,e){if(e||(e=ve(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var n=t.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),e.write_shift(2,n),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=t.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function BP(t){var e=t.read_shift(1);t.l++;var n={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return n}function HP(t,e){e||(e=ve(2));var n=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,n),e.write_shift(1,0),e}var iC=2,Gr=3,Ph=11,_d=19,Fh=64,GP=65,qP=71,zP=4108,YP=4126,Kn=80,VE={1:{n:"CodePage",t:iC},2:{n:"Category",t:Kn},3:{n:"PresentationFormat",t:Kn},4:{n:"ByteCount",t:Gr},5:{n:"LineCount",t:Gr},6:{n:"ParagraphCount",t:Gr},7:{n:"SlideCount",t:Gr},8:{n:"NoteCount",t:Gr},9:{n:"HiddenCount",t:Gr},10:{n:"MultimediaClipCount",t:Gr},11:{n:"ScaleCrop",t:Ph},12:{n:"HeadingPairs",t:zP},13:{n:"TitlesOfParts",t:YP},14:{n:"Manager",t:Kn},15:{n:"Company",t:Kn},16:{n:"LinksUpToDate",t:Ph},17:{n:"CharacterCount",t:Gr},19:{n:"SharedDoc",t:Ph},22:{n:"HyperlinksChanged",t:Ph},23:{n:"AppVersion",t:Gr,p:"version"},24:{n:"DigSig",t:GP},26:{n:"ContentType",t:Kn},27:{n:"ContentStatus",t:Kn},28:{n:"Language",t:Kn},29:{n:"Version",t:Kn},255:{},2147483648:{n:"Locale",t:_d},2147483651:{n:"Behavior",t:_d},1919054434:{}},UE={1:{n:"CodePage",t:iC},2:{n:"Title",t:Kn},3:{n:"Subject",t:Kn},4:{n:"Author",t:Kn},5:{n:"Keywords",t:Kn},6:{n:"Comments",t:Kn},7:{n:"Template",t:Kn},8:{n:"LastAuthor",t:Kn},9:{n:"RevNumber",t:Kn},10:{n:"EditTime",t:Fh},11:{n:"LastPrinted",t:Fh},12:{n:"CreatedDate",t:Fh},13:{n:"ModifiedDate",t:Fh},14:{n:"PageCount",t:Gr},15:{n:"WordCount",t:Gr},16:{n:"CharCount",t:Gr},17:{n:"Thumbnail",t:qP},18:{n:"Application",t:Kn},19:{n:"DocSecurity",t:Gr},255:{},2147483648:{n:"Locale",t:_d},2147483651:{n:"Behavior",t:_d},1919054434:{}};function KP(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var WP=KP([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),XP=Dr(WP),ef={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},JP={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Lh={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function sC(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function aC(t,e){var n=sP(JP),r=[],i;r[r.length]=In,r[r.length]=Pe("Types",null,{xmlns:kn.CT,"xmlns:xsd":kn.xsd,"xmlns:xsi":kn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Pe("Default",null,{Extension:d[0],ContentType:d[1]})}));var o=function(d){t[d]&&t[d].length>0&&(i=t[d][0],r[r.length]=Pe("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Lh[d][e.bookType]||Lh[d].xlsx}))},l=function(d){(t[d]||[]).forEach(function(h){r[r.length]=Pe("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Lh[d][e.bookType]||Lh[d].xlsx})})},c=function(d){(t[d]||[]).forEach(function(h){r[r.length]=Pe("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:n[d][0]})})};return o("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var xt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function oC(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function Ll(t){var e=[In,Pe("Relationships",null,{xmlns:kn.RELS})];return jn(t["!id"]).forEach(function(n){e[e.length]=Pe("Relationship",null,t["!id"][n])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function kt(t,e,n,r,i,o){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=n,[xt.HLINK,xt.XPATH,xt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function $P(t){var e=[In];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<t.length;++n)e.push('  <manifest:file-entry manifest:full-path="'+t[n][0]+'" manifest:media-type="'+t[n][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function BE(t,e,n){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function QP(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function ZP(t){var e=[In];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=t.length;++n)e.push(BE(t[n][0],t[n][1])),e.push(QP("",t[n][0]));return e.push(BE("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function lC(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+ld.version+"</meta:generator></office:meta></office:document-meta>"}var yo=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function _m(t,e,n,r,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Ot(e),r[r.length]=n?Pe(t,e,n):$n(t,e))}function uC(t,e){var n=e||{},r=[In,Pe("cp:coreProperties",null,{"xmlns:cp":kn.CORE_PROPS,"xmlns:dc":kn.dc,"xmlns:dcterms":kn.dcterms,"xmlns:dcmitype":kn.dcmitype,"xmlns:xsi":kn.xsi})],i={};if(!t&&!n.Props)return r.join("");t&&(t.CreatedDate!=null&&_m("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Jm(t.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),t.ModifiedDate!=null&&_m("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Jm(t.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var o=0;o!=yo.length;++o){var l=yo[o],c=n.Props&&n.Props[l[1]]!=null?n.Props[l[1]]:t?t[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&_m(l[0],c,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var kl=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],cC=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function fC(t){var e=[],n=Pe;return t||(t={}),t.Application="SheetJS",e[e.length]=In,e[e.length]=Pe("Properties",null,{xmlns:kn.EXT_PROPS,"xmlns:vt":kn.vt}),kl.forEach(function(r){if(t[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Ot(String(t[r[1]]));break;case"bool":i=t[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=n(r[0],i))}}),e[e.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=n("TitlesOfParts",n("vt:vector",t.SheetNames.map(function(r){return"<vt:lpstr>"+Ot(r)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function hC(t){var e=[In,Pe("Properties",null,{xmlns:kn.CUST_PROPS,"xmlns:vt":kn.vt})];if(!t)return e.join("");var n=1;return jn(t).forEach(function(i){++n,e[e.length]=Pe("property",gP(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Ot(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var HE={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function jP(t,e){var n=[];return jn(HE).map(function(r){for(var i=0;i<yo.length;++i)if(yo[i][1]==r)return yo[i];for(i=0;i<kl.length;++i)if(kl[i][1]==r)return kl[i];throw r}).forEach(function(r){if(t[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:t[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push($n(HE[r[1]]||r[1],i))}}),Pe("DocumentProperties",n.join(""),{xmlns:zr.o})}function e6(t,e){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return t&&jn(t).forEach(function(o){if(Object.prototype.hasOwnProperty.call(t,o)){for(var l=0;l<yo.length;++l)if(o==yo[l][1])return;for(l=0;l<kl.length;++l)if(o==kl[l][1])return;for(l=0;l<n.length;++l)if(o==n[l])return;var c=t[o],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c=String(c),i.push(Pe(IE(o),c,{"dt:dt":d}))}}),e&&jn(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)&&!(t&&Object.prototype.hasOwnProperty.call(t,o))){var l=e[o],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),i.push(Pe(IE(o),l,{"dt:dt":c}))}}),"<"+r+' xmlns="'+zr.o+'">'+i.join("")+"</"+r+">"}function t6(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,n=e.getTime()/1e3+11644473600,r=n%Math.pow(2,32),i=(n-r)/Math.pow(2,32);r*=1e7,i*=1e7;var o=r/Math.pow(2,32)|0;o>0&&(r=r%Math.pow(2,32),i+=o);var l=ve(8);return l.write_shift(4,r),l.write_shift(4,i),l}function GE(t,e){var n=ve(4),r=ve(4);switch(n.write_shift(4,t==80?31:t),t){case 3:r.write_shift(-4,e);break;case 5:r=ve(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=t6(e);break;case 31:case 80:for(r=ve(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Jn([n,r])}var dC=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function n6(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function qE(t,e,n){var r=ve(8),i=[],o=[],l=8,c=0,d=ve(8),h=ve(8);if(d.write_shift(4,2),d.write_shift(4,1200),h.write_shift(4,1),o.push(d),i.push(h),l+=8+d.length,!e){h=ve(8),h.write_shift(4,0),i.unshift(h);var m=[ve(4)];for(m[0].write_shift(4,t.length),c=0;c<t.length;++c){var y=t[c][0];for(d=ve(8+2*(y.length+1)+(y.length%2?0:2)),d.write_shift(4,c+2),d.write_shift(4,y.length+1),d.write_shift(0,y,"dbcs");d.l!=d.length;)d.write_shift(1,0);m.push(d)}d=Jn(m),o.unshift(d),l+=8+d.length}for(c=0;c<t.length;++c)if(!(e&&!e[t[c][0]])&&!(dC.indexOf(t[c][0])>-1||cC.indexOf(t[c][0])>-1)&&t[c][1]!=null){var E=t[c][1],x=0;if(e){x=+e[t[c][0]];var R=n[x];if(R.p=="version"&&typeof E=="string"){var A=E.split(".");E=(+A[0]<<16)+(+A[1]||0)}d=GE(R.t,E)}else{var I=n6(E);I==-1&&(I=31,E=String(E)),d=GE(I,E)}o.push(d),h=ve(8),h.write_shift(4,e?x:2+c),i.push(h),l+=8+d.length}var q=8*(o.length+1);for(c=0;c<o.length;++c)i[c].write_shift(4,q),q+=o[c].length;return r.write_shift(4,l),r.write_shift(4,o.length),Jn([r].concat(i).concat(o))}function zE(t,e,n,r,i,o){var l=ve(i?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,zt.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,i?2:1),l.write_shift(16,e,"hex"),l.write_shift(4,i?68:48);var d=qE(t,n,r);if(c.push(d),i){var h=qE(i,null,null);l.write_shift(16,o,"hex"),l.write_shift(4,68+d.length),c.push(h)}return Jn(c)}function r6(t,e){e||(e=ve(t));for(var n=0;n<t;++n)e.write_shift(1,0);return e}function i6(t,e){return t.read_shift(e)===1}function _r(t,e){return e||(e=ve(2)),e.write_shift(2,+!!t),e}function pC(t){return t.read_shift(2,"u")}function li(t,e){return e||(e=ve(2)),e.write_shift(2,t),e}function mC(t,e,n){return n||(n=ve(2)),n.write_shift(1,e=="e"?+t:+!!t),n.write_shift(1,e=="e"?1:0),n}function gC(t,e,n){var r=t.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var o=t.read_shift(1);o&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var l=r?t.read_shift(r,i):"";return l}function s6(t){var e=t.t||"",n=ve(3);n.write_shift(2,e.length),n.write_shift(1,1);var r=ve(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[n,r];return Jn(i)}function a6(t,e,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return t.read_shift(e,"cpstr");if(n.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?r=t.read_shift(e,"sbcs-cont"):r=t.read_shift(e,"dbcs-cont"),r}function o6(t,e,n){var r=t.read_shift(n&&n.biff==2?1:2);return r===0?(t.l++,""):a6(t,r,n)}function l6(t,e,n){if(n.biff>5)return o6(t,e,n);var r=t.read_shift(1);return r===0?(t.l++,""):t.read_shift(r,n.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function _C(t,e,n){return n||(n=ve(3+2*t.length)),n.write_shift(2,t.length),n.write_shift(1,1),n.write_shift(31,t,"utf16le"),n}function YE(t,e){e||(e=ve(6+t.length*2)),e.write_shift(4,1+t.length);for(var n=0;n<t.length;++n)e.write_shift(2,t.charCodeAt(n));return e.write_shift(2,0),e}function u6(t){var e=ve(512),n=0,r=t.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),o=i>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3;break}e.write_shift(4,2),e.write_shift(4,o);var l=[8,6815827,6619237,4849780,83];for(n=0;n<l.length;++n)e.write_shift(4,l[n]);if(o==28)r=r.slice(1),YE(r,e);else if(o&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<l.length;++n)e.write_shift(1,parseInt(l[n],16));var c=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(c.length+1)),n=0;n<c.length;++n)e.write_shift(2,c.charCodeAt(n));e.write_shift(2,0),o&8&&YE(i>-1?r.slice(i+1):"",e)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<l.length;++n)e.write_shift(1,parseInt(l[n],16));for(var d=0;r.slice(d*3,d*3+3)=="../"||r.slice(d*3,d*3+3)=="..\\";)++d;for(e.write_shift(2,d),e.write_shift(4,r.length-3*d+1),n=0;n<r.length-3*d;++n)e.write_shift(1,r.charCodeAt(n+3*d)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),n=0;n<6;++n)e.write_shift(4,0)}return e.slice(0,e.l)}function Ao(t,e,n,r){return r||(r=ve(6)),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n||0),r}function c6(t,e,n){var r=n.biff>8?4:2,i=t.read_shift(r),o=t.read_shift(r,"i"),l=t.read_shift(r,"i");return[i,o,l]}function f6(t){var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(2),i=t.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:n}}}function vC(t,e){return e||(e=ve(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function i1(t,e,n){var r=1536,i=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=ve(i);return o.write_shift(2,r),o.write_shift(2,e),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function h6(t,e){var n=!e||e.biff==8,r=ve(n?112:54);for(r.write_shift(e.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function d6(t,e){var n=!e||e.biff>=8?2:1,r=ve(8+n*t.name.length);r.write_shift(4,t.pos),r.write_shift(1,t.hs||0),r.write_shift(1,t.dt),r.write_shift(1,t.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(n*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function p6(t,e){var n=ve(8);n.write_shift(4,t.Count),n.write_shift(4,t.Unique);for(var r=[],i=0;i<t.length;++i)r[i]=s6(t[i]);var o=Jn([n].concat(r));return o.parts=[n.length].concat(r.map(function(l){return l.length})),o}function m6(){var t=ve(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function g6(t){var e=ve(18),n=1718;return t&&t.RTL&&(n|=64),e.write_shift(2,n),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function _6(t,e){var n=t.name||"Arial",r=e&&e.biff==5,i=r?15+n.length:16+2*n.length,o=ve(i);return o.write_shift(2,t.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,n.length),r||o.write_shift(1,1),o.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),o}function v6(t,e,n,r){var i=ve(10);return Ao(t,e,r,i),i.write_shift(4,n),i}function y6(t,e,n,r,i){var o=!i||i.biff==8,l=ve(8+ +o+(1+o)*n.length);return Ao(t,e,r,l),l.write_shift(2,n.length),o&&l.write_shift(1,1),l.write_shift((1+o)*n.length,n,o?"utf16le":"sbcs"),l}function T6(t,e,n,r){var i=n&&n.biff==5;r||(r=ve(i?3+e.length:5+2*e.length)),r.write_shift(2,t),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return o.l==null&&(o.l=o.length),o}function E6(t,e){var n=e.biff==8||!e.biff?4:2,r=ve(2*n+6);return r.write_shift(n,t.s.r),r.write_shift(n,t.e.r+1),r.write_shift(2,t.s.c),r.write_shift(2,t.e.c+1),r.write_shift(2,0),r}function KE(t,e,n,r){var i=n&&n.biff==5;r||(r=ve(i?16:20)),r.write_shift(2,0),t.style?(r.write_shift(2,t.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,t.numFmtId||0),r.write_shift(2,e<<4));var o=0;return t.numFmtId>0&&i&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function x6(t){var e=ve(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function S6(t,e,n,r,i,o){var l=ve(8);return Ao(t,e,r,l),mC(n,o,l),l}function A6(t,e,n,r){var i=ve(14);return Ao(t,e,r,i),So(n,i),i}function C6(t,e,n){if(n.biff<8)return w6(t,e,n);for(var r=[],i=t.l+e,o=t.read_shift(n.biff>8?4:2);o--!==0;)r.push(c6(t,n.biff>8?12:6,n));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return r}function w6(t,e,n){t[t.l+1]==3&&t[t.l]++;var r=gC(t,e,n);return r.charCodeAt(0)==3?r.slice(1):r}function R6(t){var e=ve(2+t.length*8);e.write_shift(2,t.length);for(var n=0;n<t.length;++n)vC(t[n],e);return e}function I6(t){var e=ve(24),n=Vn(t[0]);e.write_shift(2,n.r),e.write_shift(2,n.r),e.write_shift(2,n.c),e.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Jn([e,u6(t[1])])}function N6(t){var e=t[1].Tooltip,n=ve(10+2*(e.length+1));n.write_shift(2,2048);var r=Vn(t[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<e.length;++i)n.write_shift(2,e.charCodeAt(i));return n.write_shift(2,0),n}function D6(t){return t||(t=ve(4)),t.write_shift(2,1),t.write_shift(2,1),t}function M6(t,e,n){if(!n.cellStyles)return Qi(t,e);var r=n&&n.biff>=12?4:2,i=t.read_shift(r),o=t.read_shift(r),l=t.read_shift(r),c=t.read_shift(r),d=t.read_shift(2);r==2&&(t.l+=2);var h={s:i,e:o,w:l,ixfe:c,flags:d};return(n.biff>=5||!n.biff)&&(h.level=d>>8&7),h}function b6(t,e){var n=ve(12);n.write_shift(2,e),n.write_shift(2,e),n.write_shift(2,t.width*256),n.write_shift(2,0);var r=0;return t.hidden&&(r|=1),n.write_shift(1,r),r=t.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function P6(t){for(var e=ve(2*t),n=0;n<t;++n)e.write_shift(2,n+1);return e}function F6(t,e,n){var r=ve(15);return nf(r,t,e),r.write_shift(8,n,"f"),r}function L6(t,e,n){var r=ve(9);return nf(r,t,e),r.write_shift(2,n),r}var k6=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Wg({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,d){var h=[],m=xo(1);switch(d.type){case"base64":m=wi(bs(c));break;case"binary":m=wi(c);break;case"buffer":case"array":m=c;break}qr(m,0);var y=m.read_shift(1),E=!!(y&136),x=!1,R=!1;switch(y){case 2:break;case 3:break;case 48:x=!0,E=!0;break;case 49:x=!0,E=!0;break;case 131:break;case 139:break;case 140:R=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+y.toString(16))}var A=0,I=521;y==2&&(A=m.read_shift(2)),m.l+=3,y!=2&&(A=m.read_shift(4)),A>1048576&&(A=1e6),y!=2&&(I=m.read_shift(2));var q=m.read_shift(2),X=d.codepage||1252;y!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(X=t[m[m.l]]),m.l+=1,m.l+=2),R&&(m.l+=36);for(var G=[],te={},he=Math.min(m.length,y==2?521:I-10-(x?264:0)),me=R?32:11;m.l<he&&m[m.l]!=13;)switch(te={},te.name=ud.utils.decode(X,m.slice(m.l,m.l+me)).replace(/[\u0000\r\n].*$/g,""),m.l+=me,te.type=String.fromCharCode(m.read_shift(1)),y!=2&&!R&&(te.offset=m.read_shift(4)),te.len=m.read_shift(1),y==2&&(te.offset=m.read_shift(2)),te.dec=m.read_shift(1),te.name.length&&G.push(te),y!=2&&(m.l+=R?13:14),te.type){case"B":(!x||te.len!=8)&&d.WTF&&console.log("Skipping "+te.name+":"+te.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+te.name+":"+te.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+te.type)}if(m[m.l]!==13&&(m.l=I-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=I;var N=0,M=0;for(h[0]=[],M=0;M!=G.length;++M)h[0][M]=G[M].name;for(;A-- >0;){if(m[m.l]===42){m.l+=q;continue}for(++m.l,h[++N]=[],M=0,M=0;M!=G.length;++M){var D=m.slice(m.l,m.l+G[M].len);m.l+=G[M].len,qr(D,0);var k=ud.utils.decode(X,D);switch(G[M].type){case"C":k.trim().length&&(h[N][M]=k.replace(/\s+$/,""));break;case"D":k.length===8?h[N][M]=new Date(+k.slice(0,4),+k.slice(4,6)-1,+k.slice(6,8)):h[N][M]=k;break;case"F":h[N][M]=parseFloat(k.trim());break;case"+":case"I":h[N][M]=R?D.read_shift(-4,"i")^2147483648:D.read_shift(4,"i");break;case"L":switch(k.trim().toUpperCase()){case"Y":case"T":h[N][M]=!0;break;case"N":case"F":h[N][M]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+k+"|")}break;case"M":if(!E)throw new Error("DBF Unexpected MEMO for type "+y.toString(16));h[N][M]="##MEMO##"+(R?parseInt(k.trim(),10):D.read_shift(4));break;case"N":k=k.replace(/\u0000/g,"").trim(),k&&k!="."&&(h[N][M]=+k||0);break;case"@":h[N][M]=new Date(D.read_shift(-8,"f")-621356832e5);break;case"T":h[N][M]=new Date((D.read_shift(4)-2440588)*864e5+D.read_shift(4));break;case"Y":h[N][M]=D.read_shift(4,"i")/1e4+D.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[N][M]=-D.read_shift(-8,"f");break;case"B":if(x&&G[M].len==8){h[N][M]=D.read_shift(8,"f");break}case"G":case"P":D.l+=G[M].len;break;case"0":if(G[M].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+G[M].type)}}}if(y!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return d&&d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=G,h}function r(c,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var m=nu(n(c,h),h);return m["!cols"]=h.DBF.map(function(y){return{wch:y.len,DBF:y}}),delete h.DBF,m}function i(c,d){try{return No(r(c,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,d){var h=d||{};if(+h.codepage>=0&&Uc(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var m=Ir(),y=xd(c,{header:1,raw:!0,cellDates:!0}),E=y[0],x=y.slice(1),R=c["!cols"]||[],A=0,I=0,q=0,X=1;for(A=0;A<E.length;++A){if(((R[A]||{}).DBF||{}).name){E[A]=R[A].DBF.name,++q;continue}if(E[A]!=null){if(++q,typeof E[A]=="number"&&(E[A]=E[A].toString(10)),typeof E[A]!="string")throw new Error("DBF Invalid column name "+E[A]+" |"+typeof E[A]+"|");if(E.indexOf(E[A])!==A){for(I=0;I<1024;++I)if(E.indexOf(E[A]+"_"+I)==-1){E[A]+="_"+I;break}}}}var G=en(c["!ref"]),te=[],he=[],me=[];for(A=0;A<=G.e.c-G.s.c;++A){var N="",M="",D=0,k=[];for(I=0;I<x.length;++I)x[I][A]!=null&&k.push(x[I][A]);if(k.length==0||E[A]==null){te[A]="?";continue}for(I=0;I<k.length;++I){switch(typeof k[I]){case"number":M="B";break;case"string":M="C";break;case"boolean":M="L";break;case"object":M=k[I]instanceof Date?"D":"C";break;default:M="C"}D=Math.max(D,String(k[I]).length),N=N&&N!=M?"C":M}D>250&&(D=250),M=((R[A]||{}).DBF||{}).type,M=="C"&&R[A].DBF.len>D&&(D=R[A].DBF.len),N=="B"&&M=="N"&&(N="N",me[A]=R[A].DBF.dec,D=R[A].DBF.len),he[A]=N=="C"||M=="N"?D:o[N]||0,X+=he[A],te[A]=N}var F=m.next(32);for(F.write_shift(4,318902576),F.write_shift(4,x.length),F.write_shift(2,296+32*q),F.write_shift(2,X),A=0;A<4;++A)F.write_shift(4,0);for(F.write_shift(4,0|(+e[T2]||3)<<8),A=0,I=0;A<E.length;++A)if(E[A]!=null){var K=m.next(32),L=(E[A].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);K.write_shift(1,L,"sbcs"),K.write_shift(1,te[A]=="?"?"C":te[A],"sbcs"),K.write_shift(4,I),K.write_shift(1,he[A]||o[te[A]]||0),K.write_shift(1,me[A]||0),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(1,0),K.write_shift(4,0),K.write_shift(4,0),I+=he[A]||o[te[A]]||0}var Ye=m.next(264);for(Ye.write_shift(4,13),A=0;A<65;++A)Ye.write_shift(4,0);for(A=0;A<x.length;++A){var Ee=m.next(X);for(Ee.write_shift(1,0),I=0;I<E.length;++I)if(E[I]!=null)switch(te[I]){case"L":Ee.write_shift(1,x[A][I]==null?63:x[A][I]?84:70);break;case"B":Ee.write_shift(8,x[A][I]||0,"f");break;case"N":var ie="0";for(typeof x[A][I]=="number"&&(ie=x[A][I].toFixed(me[I]||0)),q=0;q<he[I]-ie.length;++q)Ee.write_shift(1,32);Ee.write_shift(1,ie,"sbcs");break;case"D":x[A][I]?(Ee.write_shift(4,("0000"+x[A][I].getFullYear()).slice(-4),"sbcs"),Ee.write_shift(2,("00"+(x[A][I].getMonth()+1)).slice(-2),"sbcs"),Ee.write_shift(2,("00"+x[A][I].getDate()).slice(-2),"sbcs")):Ee.write_shift(8,"00000000","sbcs");break;case"C":var we=String(x[A][I]!=null?x[A][I]:"").slice(0,he[I]);for(Ee.write_shift(1,we,"sbcs"),q=0;q<he[I]-we.length;++q)Ee.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:i,to_sheet:r,from_sheet:l}})(),O6=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+jn(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(E,x){var R=t[x];return typeof R=="number"?gE(R):R},r=function(E,x,R){var A=x.charCodeAt(0)-32<<4|R.charCodeAt(0)-48;return A==59?E:gE(A)};t["|"]=254;function i(E,x){switch(x.type){case"base64":return o(bs(E),x);case"binary":return o(E,x);case"buffer":return o(wt&&Buffer.isBuffer(E)?E.toString("binary"):Qc(E),x);case"array":return o(Xd(E),x)}throw new Error("Unrecognized type "+x.type)}function o(E,x){var R=E.split(/[\n\r]+/),A=-1,I=-1,q=0,X=0,G=[],te=[],he=null,me={},N=[],M=[],D=[],k=0,F;for(+x.codepage>=0&&Uc(+x.codepage);q!==R.length;++q){k=0;var K=R[q].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,n),L=K.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),Ye=L[0],Ee;if(K.length>0)switch(Ye){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&te.push(K.slice(3).replace(/;;/g,";"));break;case"C":var ie=!1,we=!1,Be=!1,Xe=!1,je=-1,ee=-1;for(X=1;X<L.length;++X)switch(L[X].charAt(0)){case"A":break;case"X":I=parseInt(L[X].slice(1))-1,we=!0;break;case"Y":for(A=parseInt(L[X].slice(1))-1,we||(I=0),F=G.length;F<=A;++F)G[F]=[];break;case"K":Ee=L[X].slice(1),Ee.charAt(0)==='"'?Ee=Ee.slice(1,Ee.length-1):Ee==="TRUE"?Ee=!0:Ee==="FALSE"?Ee=!1:isNaN(Rs(Ee))?isNaN(Hc(Ee).getDate())||(Ee=vr(Ee)):(Ee=Rs(Ee),he!==null&&b2(he)&&(Ee=k2(Ee))),ie=!0;break;case"E":Xe=!0;var O=LF(L[X].slice(1),{r:A,c:I});G[A][I]=[G[A][I],O];break;case"S":Be=!0,G[A][I]=[G[A][I],"S5S"];break;case"G":break;case"R":je=parseInt(L[X].slice(1))-1;break;case"C":ee=parseInt(L[X].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+K)}if(ie&&(G[A][I]&&G[A][I].length==2?G[A][I][0]=Ee:G[A][I]=Ee,he=null),Be){if(Xe)throw new Error("SYLK shared formula cannot have own formula");var j=je>-1&&G[je][ee];if(!j||!j[1])throw new Error("SYLK shared formula cannot find base");G[A][I][1]=kF(j[1],{r:A-je,c:I-ee})}break;case"F":var J=0;for(X=1;X<L.length;++X)switch(L[X].charAt(0)){case"X":I=parseInt(L[X].slice(1))-1,++J;break;case"Y":for(A=parseInt(L[X].slice(1))-1,F=G.length;F<=A;++F)G[F]=[];break;case"M":k=parseInt(L[X].slice(1))/20;break;case"F":break;case"G":break;case"P":he=te[parseInt(L[X].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(D=L[X].slice(1).split(" "),F=parseInt(D[0],10);F<=parseInt(D[1],10);++F)k=parseInt(D[2],10),M[F-1]=k===0?{hidden:!0}:{wch:k},s1(M[F-1]);break;case"C":I=parseInt(L[X].slice(1))-1,M[I]||(M[I]={});break;case"R":A=parseInt(L[X].slice(1))-1,N[A]||(N[A]={}),k>0?(N[A].hpt=k,N[A].hpx=SC(k)):k===0&&(N[A].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+K)}J<1&&(he=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+K)}}return N.length>0&&(me["!rows"]=N),M.length>0&&(me["!cols"]=M),x&&x.sheetRows&&(G=G.slice(0,x.sheetRows)),[G,me]}function l(E,x){var R=i(E,x),A=R[0],I=R[1],q=nu(A,x);return jn(I).forEach(function(X){q[X]=I[X]}),q}function c(E,x){return No(l(E,x),x)}function d(E,x,R,A){var I="C;Y"+(R+1)+";X"+(A+1)+";K";switch(E.t){case"n":I+=E.v||0,E.f&&!E.F&&(I+=";E"+o1(E.f,{r:R,c:A}));break;case"b":I+=E.v?"TRUE":"FALSE";break;case"e":I+=E.w||E.v;break;case"d":I+='"'+(E.w||E.v)+'"';break;case"s":I+='"'+E.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return I}function h(E,x){x.forEach(function(R,A){var I="F;W"+(A+1)+" "+(A+1)+" ";R.hidden?I+="0":(typeof R.width=="number"&&!R.wpx&&(R.wpx=vd(R.width)),typeof R.wpx=="number"&&!R.wch&&(R.wch=yd(R.wpx)),typeof R.wch=="number"&&(I+=Math.round(R.wch))),I.charAt(I.length-1)!=" "&&E.push(I)})}function m(E,x){x.forEach(function(R,A){var I="F;";R.hidden?I+="M0;":R.hpt?I+="M"+20*R.hpt+";":R.hpx&&(I+="M"+20*Td(R.hpx)+";"),I.length>2&&E.push(I+"R"+(A+1))})}function y(E,x){var R=["ID;PWXL;N;E"],A=[],I=en(E["!ref"]),q,X=Array.isArray(E),G=`\r
`;R.push("P;PGeneral"),R.push("F;P0;DG0G8;M255"),E["!cols"]&&h(R,E["!cols"]),E["!rows"]&&m(R,E["!rows"]),R.push("B;Y"+(I.e.r-I.s.r+1)+";X"+(I.e.c-I.s.c+1)+";D"+[I.s.c,I.s.r,I.e.c,I.e.r].join(" "));for(var te=I.s.r;te<=I.e.r;++te)for(var he=I.s.c;he<=I.e.c;++he){var me=Vt({r:te,c:he});q=X?(E[te]||[])[he]:E[me],!(!q||q.v==null&&(!q.f||q.F))&&A.push(d(q,E,te,he))}return R.join(G)+G+A.join(G)+G+"E"+G}return{to_workbook:c,to_sheet:l,from_sheet:y}})(),V6=(function(){function t(o,l){switch(l.type){case"base64":return e(bs(o),l);case"binary":return e(o,l);case"buffer":return e(wt&&Buffer.isBuffer(o)?o.toString("binary"):Qc(o),l);case"array":return e(Xd(o),l)}throw new Error("Unrecognized type "+l.type)}function e(o,l){for(var c=o.split(`
`),d=-1,h=-1,m=0,y=[];m!==c.length;++m){if(c[m].trim()==="BOT"){y[++d]=[],h=0;continue}if(!(d<0)){var E=c[m].trim().split(","),x=E[0],R=E[1];++m;for(var A=c[m]||"";(A.match(/["]/g)||[]).length&1&&m<c.length-1;)A+=`
`+c[++m];switch(A=A.trim(),+x){case-1:if(A==="BOT"){y[++d]=[],h=0;continue}else if(A!=="EOD")throw new Error("Unrecognized DIF special command "+A);break;case 0:A==="TRUE"?y[d][h]=!0:A==="FALSE"?y[d][h]=!1:isNaN(Rs(R))?isNaN(Hc(R).getDate())?y[d][h]=R:y[d][h]=vr(R):y[d][h]=Rs(R),++h;break;case 1:A=A.slice(1,A.length-1),A=A.replace(/""/g,'"'),A&&A.match(/^=".*"$/)&&(A=A.slice(2,-1)),y[d][h++]=A!==""?A:null;break}if(A==="EOD")break}}return l&&l.sheetRows&&(y=y.slice(0,l.sheetRows)),y}function n(o,l){return nu(t(o,l),l)}function r(o,l){return No(n(o,l),l)}var i=(function(){var o=function(d,h,m,y,E){d.push(h),d.push(m+","+y),d.push('"'+E.replace(/"/g,'""')+'"')},l=function(d,h,m,y){d.push(h+","+m),d.push(h==1?'"'+y.replace(/"/g,'""')+'"':y)};return function(d){var h=[],m=en(d["!ref"]),y,E=Array.isArray(d);o(h,"TABLE",0,1,"sheetjs"),o(h,"VECTORS",0,m.e.r-m.s.r+1,""),o(h,"TUPLES",0,m.e.c-m.s.c+1,""),o(h,"DATA",0,0,"");for(var x=m.s.r;x<=m.e.r;++x){l(h,-1,0,"BOT");for(var R=m.s.c;R<=m.e.c;++R){var A=Vt({r:x,c:R});if(y=E?(d[x]||[])[R]:d[A],!y){l(h,1,0,"");continue}switch(y.t){case"n":var I=y.w;!I&&y.v!=null&&(I=y.v),I==null?y.f&&!y.F?l(h,1,0,"="+y.f):l(h,1,0,""):l(h,0,I,"V");break;case"b":l(h,0,y.v?1:0,y.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(y.v)?y.v:'="'+y.v+'"');break;case"d":y.w||(y.w=Fa(y.z||hn[14],Nr(vr(y.v)))),l(h,0,y.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var q=`\r
`,X=h.join(q);return X}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),yC=(function(){function t(y){return y.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(y){return y.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(y,E){for(var x=y.split(`
`),R=-1,A=-1,I=0,q=[];I!==x.length;++I){var X=x[I].trim().split(":");if(X[0]==="cell"){var G=Vn(X[1]);if(q.length<=G.r)for(R=q.length;R<=G.r;++R)q[R]||(q[R]=[]);switch(R=G.r,A=G.c,X[2]){case"t":q[R][A]=t(X[3]);break;case"v":q[R][A]=+X[3];break;case"vtf":var te=X[X.length-1];case"vtc":switch(X[3]){case"nl":q[R][A]=!!+X[4];break;default:q[R][A]=+X[4];break}X[2]=="vtf"&&(q[R][A]=[q[R][A],te])}}}return E&&E.sheetRows&&(q=q.slice(0,E.sheetRows)),q}function r(y,E){return nu(n(y,E),E)}function i(y,E){return No(r(y,E),E)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(y){if(!y||!y["!ref"])return"";for(var E=[],x=[],R,A="",I=Kr(y["!ref"]),q=Array.isArray(y),X=I.s.r;X<=I.e.r;++X)for(var G=I.s.c;G<=I.e.c;++G)if(A=Vt({r:X,c:G}),R=q?(y[X]||[])[G]:y[A],!(!R||R.v==null||R.t==="z")){switch(x=["cell",A,"t"],R.t){case"s":case"str":x.push(e(R.v));break;case"n":R.f?(x[2]="vtf",x[3]="n",x[4]=R.v,x[5]=e(R.f)):(x[2]="v",x[3]=R.v);break;case"b":x[2]="vt"+(R.f?"f":"c"),x[3]="nl",x[4]=R.v?"1":"0",x[5]=e(R.f||(R.v?"TRUE":"FALSE"));break;case"d":var te=Nr(vr(R.v));x[2]="vtc",x[3]="nd",x[4]=""+te,x[5]=R.w||Fa(R.z||hn[14],te);break;case"e":continue}E.push(x.join(":"))}return E.push("sheet:c:"+(I.e.c-I.s.c+1)+":r:"+(I.e.r-I.s.r+1)+":tvf:1"),E.push("valueformat:1:text-wiki"),E.join(`
`)}function m(y){return[o,l,c,l,h(y),d].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:m}})(),U6=(function(){function t(m,y,E,x,R){R.raw?y[E][x]=m:m===""||(m==="TRUE"?y[E][x]=!0:m==="FALSE"?y[E][x]=!1:isNaN(Rs(m))?isNaN(Hc(m).getDate())?y[E][x]=m:y[E][x]=vr(m):y[E][x]=Rs(m))}function e(m,y){var E=y||{},x=[];if(!m||m.length===0)return x;for(var R=m.split(/[\r\n]/),A=R.length-1;A>=0&&R[A].length===0;)--A;for(var I=10,q=0,X=0;X<=A;++X)q=R[X].indexOf(" "),q==-1?q=R[X].length:q++,I=Math.max(I,q);for(X=0;X<=A;++X){x[X]=[];var G=0;for(t(R[X].slice(0,I).trim(),x,X,G,E),G=1;G<=(R[X].length-I)/10+1;++G)t(R[X].slice(I+(G-1)*10,I+G*10).trim(),x,X,G,E)}return E.sheetRows&&(x=x.slice(0,E.sheetRows)),x}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(m){for(var y={},E=!1,x=0,R=0;x<m.length;++x)(R=m.charCodeAt(x))==34?E=!E:!E&&R in n&&(y[R]=(y[R]||0)+1);R=[];for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&R.push([y[x],x]);if(!R.length){y=r;for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&R.push([y[x],x])}return R.sort(function(A,I){return A[0]-I[0]||r[A[1]]-r[I[1]]}),n[R.pop()[1]]||44}function o(m,y){var E=y||{},x="",R=E.dense?[]:{},A={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(x=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(x=m.charAt(4),m=m.slice(6)):x=i(m.slice(0,1024)):E&&E.FS?x=E.FS:x=i(m.slice(0,1024));var I=0,q=0,X=0,G=0,te=0,he=x.charCodeAt(0),me=!1,N=0,M=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var D=E.dateNF!=null?tP(E.dateNF):null;function k(){var F=m.slice(G,te),K={};if(F.charAt(0)=='"'&&F.charAt(F.length-1)=='"'&&(F=F.slice(1,-1).replace(/""/g,'"')),F.length===0)K.t="z";else if(E.raw)K.t="s",K.v=F;else if(F.trim().length===0)K.t="s",K.v=F;else if(F.charCodeAt(0)==61)F.charCodeAt(1)==34&&F.charCodeAt(F.length-1)==34?(K.t="s",K.v=F.slice(2,-1).replace(/""/g,'"')):OF(F)?(K.t="n",K.f=F.slice(1)):(K.t="s",K.v=F);else if(F=="TRUE")K.t="b",K.v=!0;else if(F=="FALSE")K.t="b",K.v=!1;else if(!isNaN(X=Rs(F)))K.t="n",E.cellText!==!1&&(K.w=F),K.v=X;else if(!isNaN(Hc(F).getDate())||D&&F.match(D)){K.z=E.dateNF||hn[14];var L=0;D&&F.match(D)&&(F=nP(F,E.dateNF,F.match(D)||[]),L=1),E.cellDates?(K.t="d",K.v=vr(F,L)):(K.t="n",K.v=Nr(vr(F,L))),E.cellText!==!1&&(K.w=Fa(K.z,K.v instanceof Date?Nr(K.v):K.v)),E.cellNF||delete K.z}else K.t="s",K.v=F;if(K.t=="z"||(E.dense?(R[I]||(R[I]=[]),R[I][q]=K):R[Vt({c:q,r:I})]=K),G=te+1,M=m.charCodeAt(G),A.e.c<q&&(A.e.c=q),A.e.r<I&&(A.e.r=I),N==he)++q;else if(q=0,++I,E.sheetRows&&E.sheetRows<=I)return!0}e:for(;te<m.length;++te)switch(N=m.charCodeAt(te)){case 34:M===34&&(me=!me);break;case he:case 10:case 13:if(!me&&k())break e;break}return te-G>0&&k(),R["!ref"]=Rn(A),R}function l(m,y){return!(y&&y.PRN)||y.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?o(m,y):nu(e(m,y),y)}function c(m,y){var E="",x=y.type=="string"?[0,0,0,0]:Q8(m,y);switch(y.type){case"base64":E=bs(m);break;case"binary":E=m;break;case"buffer":y.codepage==65001?E=m.toString("utf8"):y.codepage&&typeof ud<"u"||(E=wt&&Buffer.isBuffer(m)?m.toString("binary"):Qc(m));break;case"array":E=Xd(m);break;case"string":E=m;break;default:throw new Error("Unrecognized type "+y.type)}return x[0]==239&&x[1]==187&&x[2]==191?E=Sc(E.slice(3)):y.type!="string"&&y.type!="buffer"&&y.codepage==65001?E=Sc(E):y.type=="binary"&&typeof ud<"u",E.slice(0,19)=="socialcalc:version:"?yC.to_sheet(y.type=="string"?E:Sc(E),y):l(E,y)}function d(m,y){return No(c(m,y),y)}function h(m){for(var y=[],E=en(m["!ref"]),x,R=Array.isArray(m),A=E.s.r;A<=E.e.r;++A){for(var I=[],q=E.s.c;q<=E.e.c;++q){var X=Vt({r:A,c:q});if(x=R?(m[A]||[])[q]:m[X],!x||x.v==null){I.push("          ");continue}for(var G=(x.w||(Ps(x),x.w)||"").slice(0,10);G.length<10;)G+=" ";I.push(G+(q===0?" ":""))}y.push(I.join(""))}return y.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:h}})(),WE=(function(){function t(O,j,J){if(O){qr(O,O.l||0);for(var Q=J.Enum||je;O.l<O.length;){var pe=O.read_shift(2),De=Q[pe]||Q[65535],Ue=O.read_shift(2),be=O.l+Ue,Oe=De.f&&De.f(O,Ue,J);if(O.l=be,j(Oe,De,pe))return}}}function e(O,j){switch(j.type){case"base64":return n(wi(bs(O)),j);case"binary":return n(wi(O),j);case"buffer":case"array":return n(O,j)}throw"Unsupported type "+j.type}function n(O,j){if(!O)return O;var J=j||{},Q=J.dense?[]:{},pe="Sheet1",De="",Ue=0,be={},Oe=[],_t=[],lt={s:{r:0,c:0},e:{r:0,c:0}},on=J.sheetRows||0;if(O[2]==0&&(O[3]==8||O[3]==9)&&O.length>=16&&O[14]==5&&O[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(O[2]==2)J.Enum=je,t(O,function(qe,bn,Nt){switch(Nt){case 0:J.vers=qe,qe>=4096&&(J.qpro=!0);break;case 6:lt=qe;break;case 204:qe&&(De=qe);break;case 222:De=qe;break;case 15:case 51:J.qpro||(qe[1].v=qe[1].v.slice(1));case 13:case 14:case 16:Nt==14&&(qe[2]&112)==112&&(qe[2]&15)>1&&(qe[2]&15)<15&&(qe[1].z=J.dateNF||hn[14],J.cellDates&&(qe[1].t="d",qe[1].v=k2(qe[1].v))),J.qpro&&qe[3]>Ue&&(Q["!ref"]=Rn(lt),be[pe]=Q,Oe.push(pe),Q=J.dense?[]:{},lt={s:{r:0,c:0},e:{r:0,c:0}},Ue=qe[3],pe=De||"Sheet"+(Ue+1),De="");var Yt=J.dense?(Q[qe[0].r]||[])[qe[0].c]:Q[Vt(qe[0])];if(Yt){Yt.t=qe[1].t,Yt.v=qe[1].v,qe[1].z!=null&&(Yt.z=qe[1].z),qe[1].f!=null&&(Yt.f=qe[1].f);break}J.dense?(Q[qe[0].r]||(Q[qe[0].r]=[]),Q[qe[0].r][qe[0].c]=qe[1]):Q[Vt(qe[0])]=qe[1];break}},J);else if(O[2]==26||O[2]==14)J.Enum=ee,O[2]==14&&(J.qpro=!0,O.l=0),t(O,function(qe,bn,Nt){switch(Nt){case 204:pe=qe;break;case 22:qe[1].v=qe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(qe[3]>Ue&&(Q["!ref"]=Rn(lt),be[pe]=Q,Oe.push(pe),Q=J.dense?[]:{},lt={s:{r:0,c:0},e:{r:0,c:0}},Ue=qe[3],pe="Sheet"+(Ue+1)),on>0&&qe[0].r>=on)break;J.dense?(Q[qe[0].r]||(Q[qe[0].r]=[]),Q[qe[0].r][qe[0].c]=qe[1]):Q[Vt(qe[0])]=qe[1],lt.e.c<qe[0].c&&(lt.e.c=qe[0].c),lt.e.r<qe[0].r&&(lt.e.r=qe[0].r);break;case 27:qe[14e3]&&(_t[qe[14e3][0]]=qe[14e3][1]);break;case 1537:_t[qe[0]]=qe[1],qe[0]==Ue&&(pe=qe[1]);break}},J);else throw new Error("Unrecognized LOTUS BOF "+O[2]);if(Q["!ref"]=Rn(lt),be[De||pe]=Q,Oe.push(De||pe),!_t.length)return{SheetNames:Oe,Sheets:be};for(var at={},cr=[],It=0;It<_t.length;++It)be[Oe[It]]?(cr.push(_t[It]||Oe[It]),at[_t[It]]=be[_t[It]]||be[Oe[It]]):(cr.push(_t[It]),at[_t[It]]={"!ref":"A1"});return{SheetNames:cr,Sheets:at}}function r(O,j){var J=j||{};if(+J.codepage>=0&&Uc(+J.codepage),J.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=Ir(),pe=en(O["!ref"]),De=Array.isArray(O),Ue=[];Fe(Q,0,o(1030)),Fe(Q,6,d(pe));for(var be=Math.min(pe.e.r,8191),Oe=pe.s.r;Oe<=be;++Oe)for(var _t=Qn(Oe),lt=pe.s.c;lt<=pe.e.c;++lt){Oe===pe.s.r&&(Ue[lt]=lr(lt));var on=Ue[lt]+_t,at=De?(O[Oe]||[])[lt]:O[on];if(!(!at||at.t=="z"))if(at.t=="n")(at.v|0)==at.v&&at.v>=-32768&&at.v<=32767?Fe(Q,13,x(Oe,lt,at.v)):Fe(Q,14,A(Oe,lt,at.v));else{var cr=Ps(at);Fe(Q,15,y(Oe,lt,cr.slice(0,239)))}}return Fe(Q,1),Q.end()}function i(O,j){var J=j||{};if(+J.codepage>=0&&Uc(+J.codepage),J.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=Ir();Fe(Q,0,l(O));for(var pe=0,De=0;pe<O.SheetNames.length;++pe)(O.Sheets[O.SheetNames[pe]]||{})["!ref"]&&Fe(Q,27,Xe(O.SheetNames[pe],De++));var Ue=0;for(pe=0;pe<O.SheetNames.length;++pe){var be=O.Sheets[O.SheetNames[pe]];if(!(!be||!be["!ref"])){for(var Oe=en(be["!ref"]),_t=Array.isArray(be),lt=[],on=Math.min(Oe.e.r,8191),at=Oe.s.r;at<=on;++at)for(var cr=Qn(at),It=Oe.s.c;It<=Oe.e.c;++It){at===Oe.s.r&&(lt[It]=lr(It));var qe=lt[It]+cr,bn=_t?(be[at]||[])[It]:be[qe];if(!(!bn||bn.t=="z"))if(bn.t=="n")Fe(Q,23,k(at,It,Ue,bn.v));else{var Nt=Ps(bn);Fe(Q,22,N(at,It,Ue,Nt.slice(0,239)))}}++Ue}}return Fe(Q,1),Q.end()}function o(O){var j=ve(2);return j.write_shift(2,O),j}function l(O){var j=ve(26);j.write_shift(2,4096),j.write_shift(2,4),j.write_shift(4,0);for(var J=0,Q=0,pe=0,De=0;De<O.SheetNames.length;++De){var Ue=O.SheetNames[De],be=O.Sheets[Ue];if(!(!be||!be["!ref"])){++pe;var Oe=Kr(be["!ref"]);J<Oe.e.r&&(J=Oe.e.r),Q<Oe.e.c&&(Q=Oe.e.c)}}return J>8191&&(J=8191),j.write_shift(2,J),j.write_shift(1,pe),j.write_shift(1,Q),j.write_shift(2,0),j.write_shift(2,0),j.write_shift(1,1),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(4,0),j}function c(O,j,J){var Q={s:{c:0,r:0},e:{c:0,r:0}};return j==8&&J.qpro?(Q.s.c=O.read_shift(1),O.l++,Q.s.r=O.read_shift(2),Q.e.c=O.read_shift(1),O.l++,Q.e.r=O.read_shift(2),Q):(Q.s.c=O.read_shift(2),Q.s.r=O.read_shift(2),j==12&&J.qpro&&(O.l+=2),Q.e.c=O.read_shift(2),Q.e.r=O.read_shift(2),j==12&&J.qpro&&(O.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function d(O){var j=ve(8);return j.write_shift(2,O.s.c),j.write_shift(2,O.s.r),j.write_shift(2,O.e.c),j.write_shift(2,O.e.r),j}function h(O,j,J){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return J.qpro&&J.vers!=20768?(Q[0].c=O.read_shift(1),Q[3]=O.read_shift(1),Q[0].r=O.read_shift(2),O.l+=2):(Q[2]=O.read_shift(1),Q[0].c=O.read_shift(2),Q[0].r=O.read_shift(2)),Q}function m(O,j,J){var Q=O.l+j,pe=h(O,j,J);if(pe[1].t="s",J.vers==20768){O.l++;var De=O.read_shift(1);return pe[1].v=O.read_shift(De,"utf8"),pe}return J.qpro&&O.l++,pe[1].v=O.read_shift(Q-O.l,"cstr"),pe}function y(O,j,J){var Q=ve(7+J.length);Q.write_shift(1,255),Q.write_shift(2,j),Q.write_shift(2,O),Q.write_shift(1,39);for(var pe=0;pe<Q.length;++pe){var De=J.charCodeAt(pe);Q.write_shift(1,De>=128?95:De)}return Q.write_shift(1,0),Q}function E(O,j,J){var Q=h(O,j,J);return Q[1].v=O.read_shift(2,"i"),Q}function x(O,j,J){var Q=ve(7);return Q.write_shift(1,255),Q.write_shift(2,j),Q.write_shift(2,O),Q.write_shift(2,J,"i"),Q}function R(O,j,J){var Q=h(O,j,J);return Q[1].v=O.read_shift(8,"f"),Q}function A(O,j,J){var Q=ve(13);return Q.write_shift(1,255),Q.write_shift(2,j),Q.write_shift(2,O),Q.write_shift(8,J,"f"),Q}function I(O,j,J){var Q=O.l+j,pe=h(O,j,J);if(pe[1].v=O.read_shift(8,"f"),J.qpro)O.l=Q;else{var De=O.read_shift(2);te(O.slice(O.l,O.l+De),pe),O.l+=De}return pe}function q(O,j,J){var Q=j&32768;return j&=-32769,j=(Q?O:0)+(j>=8192?j-16384:j),(Q?"":"$")+(J?lr(j):Qn(j))}var X={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},G=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function te(O,j){qr(O,0);for(var J=[],Q=0,pe="",De="",Ue="",be="";O.l<O.length;){var Oe=O[O.l++];switch(Oe){case 0:J.push(O.read_shift(8,"f"));break;case 1:De=q(j[0].c,O.read_shift(2),!0),pe=q(j[0].r,O.read_shift(2),!1),J.push(De+pe);break;case 2:{var _t=q(j[0].c,O.read_shift(2),!0),lt=q(j[0].r,O.read_shift(2),!1);De=q(j[0].c,O.read_shift(2),!0),pe=q(j[0].r,O.read_shift(2),!1),J.push(_t+lt+":"+De+pe)}break;case 3:if(O.l<O.length){console.error("WK1 premature formula end");return}break;case 4:J.push("("+J.pop()+")");break;case 5:J.push(O.read_shift(2));break;case 6:{for(var on="";Oe=O[O.l++];)on+=String.fromCharCode(Oe);J.push('"'+on.replace(/"/g,'""')+'"')}break;case 8:J.push("-"+J.pop());break;case 23:J.push("+"+J.pop());break;case 22:J.push("NOT("+J.pop()+")");break;case 20:case 21:be=J.pop(),Ue=J.pop(),J.push(["AND","OR"][Oe-20]+"("+Ue+","+be+")");break;default:if(Oe<32&&G[Oe])be=J.pop(),Ue=J.pop(),J.push(Ue+G[Oe]+be);else if(X[Oe]){if(Q=X[Oe][1],Q==69&&(Q=O[O.l++]),Q>J.length){console.error("WK1 bad formula parse 0x"+Oe.toString(16)+":|"+J.join("|")+"|");return}var at=J.slice(-Q);J.length-=Q,J.push(X[Oe][0]+"("+at.join(",")+")")}else return Oe<=7?console.error("WK1 invalid opcode "+Oe.toString(16)):Oe<=24?console.error("WK1 unsupported op "+Oe.toString(16)):Oe<=30?console.error("WK1 invalid opcode "+Oe.toString(16)):Oe<=115?console.error("WK1 unsupported function opcode "+Oe.toString(16)):console.error("WK1 unrecognized opcode "+Oe.toString(16))}}J.length==1?j[1].f=""+J[0]:console.error("WK1 bad formula parse |"+J.join("|")+"|")}function he(O){var j=[{c:0,r:0},{t:"n",v:0},0];return j[0].r=O.read_shift(2),j[3]=O[O.l++],j[0].c=O[O.l++],j}function me(O,j){var J=he(O);return J[1].t="s",J[1].v=O.read_shift(j-4,"cstr"),J}function N(O,j,J,Q){var pe=ve(6+Q.length);pe.write_shift(2,O),pe.write_shift(1,J),pe.write_shift(1,j),pe.write_shift(1,39);for(var De=0;De<Q.length;++De){var Ue=Q.charCodeAt(De);pe.write_shift(1,Ue>=128?95:Ue)}return pe.write_shift(1,0),pe}function M(O,j){var J=he(O);J[1].v=O.read_shift(2);var Q=J[1].v>>1;if(J[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return J[1].v=Q,J}function D(O,j){var J=he(O),Q=O.read_shift(4),pe=O.read_shift(4),De=O.read_shift(2);if(De==65535)return Q===0&&pe===3221225472?(J[1].t="e",J[1].v=15):Q===0&&pe===3489660928?(J[1].t="e",J[1].v=42):J[1].v=0,J;var Ue=De&32768;return De=(De&32767)-16446,J[1].v=(1-Ue*2)*(pe*Math.pow(2,De+32)+Q*Math.pow(2,De)),J}function k(O,j,J,Q){var pe=ve(14);if(pe.write_shift(2,O),pe.write_shift(1,J),pe.write_shift(1,j),Q==0)return pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(2,65535),pe;var De=0,Ue=0,be=0,Oe=0;return Q<0&&(De=1,Q=-Q),Ue=Math.log2(Q)|0,Q/=Math.pow(2,Ue-31),Oe=Q>>>0,(Oe&2147483648)==0&&(Q/=2,++Ue,Oe=Q>>>0),Q-=Oe,Oe|=2147483648,Oe>>>=0,Q*=Math.pow(2,32),be=Q>>>0,pe.write_shift(4,be),pe.write_shift(4,Oe),Ue+=16383+(De?32768:0),pe.write_shift(2,Ue),pe}function F(O,j){var J=D(O);return O.l+=j-14,J}function K(O,j){var J=he(O),Q=O.read_shift(4);return J[1].v=Q>>6,J}function L(O,j){var J=he(O),Q=O.read_shift(8,"f");return J[1].v=Q,J}function Ye(O,j){var J=L(O);return O.l+=j-10,J}function Ee(O,j){return O[O.l+j-1]==0?O.read_shift(j,"cstr"):""}function ie(O,j){var J=O[O.l++];J>j-1&&(J=j-1);for(var Q="";Q.length<J;)Q+=String.fromCharCode(O[O.l++]);return Q}function we(O,j,J){if(!(!J.qpro||j<21)){var Q=O.read_shift(1);O.l+=17,O.l+=1,O.l+=2;var pe=O.read_shift(j-21,"cstr");return[Q,pe]}}function Be(O,j){for(var J={},Q=O.l+j;O.l<Q;){var pe=O.read_shift(2);if(pe==14e3){for(J[pe]=[0,""],J[pe][0]=O.read_shift(2);O[O.l];)J[pe][1]+=String.fromCharCode(O[O.l]),O.l++;O.l++}}return J}function Xe(O,j){var J=ve(5+O.length);J.write_shift(2,14e3),J.write_shift(2,j);for(var Q=0;Q<O.length;++Q){var pe=O.charCodeAt(Q);J[J.l++]=pe>127?95:pe}return J[J.l++]=0,J}var je={0:{n:"BOF",f:pC},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:E},14:{n:"NUMBER",f:R},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:I},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ee},222:{n:"SHEETNAMELP",f:ie},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:me},23:{n:"NUMBER17",f:D},24:{n:"NUMBER18",f:M},25:{n:"FORMULA19",f:F},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Be},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:K},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:Ye},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:we},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})(),B6=/^\s|\s$|[\t\n\r]/;function TC(t,e){if(!e.bookSST)return"";var n=[In];n[n.length]=Pe("sst",null,{xmlns:tu[0],count:t.Count,uniqueCount:t.Unique});for(var r=0;r!=t.length;++r)if(t[r]!=null){var i=t[r],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(B6)&&(o+=' xml:space="preserve"'),o+=">"+Ot(i.t)+"</t>"),o+="</si>",n[n.length]=o}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function H6(t){return[t.read_shift(4),t.read_shift(4)]}function G6(t,e){return e||(e=ve(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var q6=PP;function z6(t){var e=Ir();Re(e,159,G6(t));for(var n=0;n<t.length;++n)Re(e,19,q6(t[n]));return Re(e,160),e.end()}function Y6(t){for(var e=[],n=t.split(""),r=0;r<n.length;++r)e[r]=n[r].charCodeAt(0);return e}function EC(t){var e=0,n,r=Y6(t),i=r.length+1,o,l,c,d,h;for(n=xo(i),n[0]=r.length,o=1;o!=i;++o)n[o]=r[o-1];for(o=i-1;o>=0;--o)l=n[o],c=(e&16384)===0?0:1,d=e<<1&32767,h=c|d,e=h^l;return e^52811}var K6=(function(){function t(i,o){switch(o.type){case"base64":return e(bs(i),o);case"binary":return e(i,o);case"buffer":return e(wt&&Buffer.isBuffer(i)?i.toString("binary"):Qc(i),o);case"array":return e(Xd(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){var l=o||{},c=l.dense?[]:{},d=i.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(m,y){Array.isArray(c)&&(c[y]=[]);for(var E=/\\\w+\b/g,x=0,R,A=-1;R=E.exec(m);){switch(R[0]){case"\\cell":var I=m.slice(x,E.lastIndex-R[0].length);if(I[0]==" "&&(I=I.slice(1)),++A,I.length){var q={v:I,t:"s"};Array.isArray(c)?c[y][A]=q:c[Vt({r:y,c:A})]=q}break}x=E.lastIndex}A>h.e.c&&(h.e.c=A)}),c["!ref"]=Rn(h),c}function n(i,o){return No(t(i,o),o)}function r(i){for(var o=["{\\rtf1\\ansi"],l=en(i["!ref"]),c,d=Array.isArray(i),h=l.s.r;h<=l.e.r;++h){o.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)o.push("\\cellx"+(m+1));for(o.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var y=Vt({r:h,c:m});c=d?(i[h]||[])[m]:i[y],!(!c||c.v==null&&(!c.f||c.F))&&(o.push(" "+(c.w||(Ps(c),c.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:n,to_sheet:t,from_sheet:r}})();function XE(t){for(var e=0,n=1;e!=3;++e)n=n*256+(t[e]>255?255:t[e]<0?0:t[e]);return n.toString(16).toUpperCase().slice(1)}var W6=6,Is=W6;function vd(t){return Math.floor((t+Math.round(128/Is)/256)*Is)}function yd(t){return Math.floor((t-5)/Is*100+.5)/100}function Qm(t){return Math.round((t*Is+5)/Is*256)/256}function s1(t){t.width?(t.wpx=vd(t.width),t.wch=yd(t.wpx),t.MDW=Is):t.wpx?(t.wch=yd(t.wpx),t.width=Qm(t.wch),t.MDW=Is):typeof t.wch=="number"&&(t.width=Qm(t.wch),t.wpx=vd(t.width),t.MDW=Is),t.customWidth&&delete t.customWidth}var X6=96,xC=X6;function Td(t){return t*96/xC}function SC(t){return t*xC/96}function J6(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)t[r]!=null&&(e[e.length]=Pe("numFmt",null,{numFmtId:r,formatCode:Ot(t[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Pe("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function $6(t){var e=[];return e[e.length]=Pe("cellXfs",null),t.forEach(function(n){e[e.length]=Pe("xf",null,n)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Pe("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function AC(t,e){var n=[In,Pe("styleSheet",null,{xmlns:tu[0],"xmlns:vt":kn.vt})],r;return t.SSF&&(r=J6(t.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=$6(e.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function Q6(t,e){var n=t.read_shift(2),r=ur(t);return[n,r]}function Z6(t,e,n){n||(n=ve(6+4*e.length)),n.write_shift(2,t),Un(e,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function j6(t,e,n){var r={};r.sz=t.read_shift(2)/20;var i=BP(t);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var o=t.read_shift(2);switch(o===700&&(r.bold=1),t.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=t.read_shift(1);l!=0&&(r.underline=l);var c=t.read_shift(1);c>0&&(r.family=c);var d=t.read_shift(1);switch(d>0&&(r.charset=d),t.l++,r.color=UP(t),t.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=ur(t),r}function eF(t,e){e||(e=ve(153)),e.write_shift(2,t.sz*20),HP(t,e),e.write_shift(2,t.bold?700:400);var n=0;t.vertAlign=="superscript"?n=1:t.vertAlign=="subscript"&&(n=2),e.write_shift(2,n),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),gd(t.color,e);var r=0;return r=2,e.write_shift(1,r),Un(t.name,e),e.length>e.l?e.slice(0,e.l):e}var tF=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],vm,nF=Qi;function JE(t,e){e||(e=ve(84)),vm||(vm=Wg(tF));var n=vm[t.patternType];n==null&&(n=40),e.write_shift(4,n);var r=0;if(n!=40)for(gd({auto:1},e),gd({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function rF(t,e){var n=t.l+e,r=t.read_shift(2),i=t.read_shift(2);return t.l=n,{ixfe:r,numFmtId:i}}function CC(t,e,n){n||(n=ve(16)),n.write_shift(2,e||0),n.write_shift(2,t.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function sc(t,e){return e||(e=ve(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var iF=Qi;function sF(t,e){return e||(e=ve(51)),e.write_shift(1,0),sc(null,e),sc(null,e),sc(null,e),sc(null,e),sc(null,e),e.length>e.l?e.slice(0,e.l):e}function aF(t,e){return e||(e=ve(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),md(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function oF(t,e,n){var r=ve(2052);return r.write_shift(4,t),md(e,r),md(n,r),r.length>r.l?r.slice(0,r.l):r}function lF(t,e){if(e){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++n}),n!=0&&(Re(t,615,Ni(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Re(t,44,Z6(i,e[i]))}),Re(t,616))}}function uF(t){var e=1;Re(t,611,Ni(e)),Re(t,43,eF({sz:12,color:{theme:1},name:"Calibri",family:2})),Re(t,612)}function cF(t){var e=2;Re(t,603,Ni(e)),Re(t,45,JE({patternType:"none"})),Re(t,45,JE({patternType:"gray125"})),Re(t,604)}function fF(t){var e=1;Re(t,613,Ni(e)),Re(t,46,sF()),Re(t,614)}function hF(t){var e=1;Re(t,626,Ni(e)),Re(t,47,CC({numFmtId:0},65535)),Re(t,627)}function dF(t,e){Re(t,617,Ni(e.length)),e.forEach(function(n){Re(t,47,CC(n,0))}),Re(t,618)}function pF(t){var e=1;Re(t,619,Ni(e)),Re(t,48,aF({xfId:0,name:"Normal"})),Re(t,620)}function mF(t){var e=0;Re(t,505,Ni(e)),Re(t,506)}function gF(t){var e=0;Re(t,508,oF(e,"TableStyleMedium9","PivotStyleMedium4")),Re(t,509)}function _F(t,e){var n=Ir();return Re(n,278),lF(n,t.SSF),uF(n),cF(n),fF(n),hF(n),dF(n,e.cellXfs),pF(n),mF(n),gF(n),Re(n,279),n.end()}function wC(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var n=[In];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function vF(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:ur(t)}}function yF(t){var e=ve(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Un(t.name,e),e.slice(0,e.l)}function TF(t){for(var e=[],n=t.read_shift(4);n-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function EF(t){var e=ve(4+8*t.length);e.write_shift(4,t.length);for(var n=0;n<t.length;++n)e.write_shift(4,t[n][0]),e.write_shift(4,t[n][1]);return e}function xF(t,e){var n=ve(8+2*e.length);return n.write_shift(4,t),Un(e,n),n.slice(0,n.l)}function SF(t){return t.l+=4,t.read_shift(4)!=0}function AF(t,e){var n=ve(8);return n.write_shift(4,t),n.write_shift(4,1),n}function CF(){var t=Ir();return Re(t,332),Re(t,334,Ni(1)),Re(t,335,yF({name:"XLDAPR",version:12e4,flags:3496657072})),Re(t,336),Re(t,339,xF(1,"XLDAPR")),Re(t,52),Re(t,35,Ni(514)),Re(t,4096,Ni(0)),Re(t,4097,li(1)),Re(t,36),Re(t,53),Re(t,340),Re(t,337,AF(1)),Re(t,51,EF([[1,0]])),Re(t,338),Re(t,333),t.end()}function RC(){var t=[In];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function wF(t){var e={};e.i=t.read_shift(4);var n={};n.r=t.read_shift(4),n.c=t.read_shift(4),e.r=Vt(n);var r=t.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var Il=1024;function IC(t,e){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[Pe("xml",null,{"xmlns:v":zr.v,"xmlns:o":zr.o,"xmlns:x":zr.x,"xmlns:mv":zr.mv}).replace(/\/>/,">"),Pe("o:shapelayout",Pe("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),Pe("v:shapetype",[Pe("v:stroke",null,{joinstyle:"miter"}),Pe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];Il<t*1e3;)Il+=1e3;return e.forEach(function(o){var l=Vn(o[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var d=c.type=="gradient"?Pe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=Pe("v:fill",d,c),m={on:"t",obscured:"t"};++Il,i=i.concat(["<v:shape"+qc({id:"_x0000_s"+Il,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,Pe("v:shadow",null,m),Pe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",$n("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),$n("x:AutoFill","False"),$n("x:Row",String(l.r)),$n("x:Column",String(l.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function NC(t){var e=[In,Pe("comments",null,{xmlns:tu[0]})],n=[];return e.push("<authors>"),t.forEach(function(r){r[1].forEach(function(i){var o=Ot(i.a);n.indexOf(o)==-1&&(n.push(o),e.push("<author>"+o+"</author>")),i.T&&i.ID&&n.indexOf("tc="+i.ID)==-1&&(n.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(r){var i=0,o=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(d){d.a&&(i=n.indexOf(Ot(d.a))),o.push(d.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),o.length<=1)e.push($n("t",Ot(o[0]||"")));else{for(var l=`Comment:
    `+o[0]+`
`,c=1;c<o.length;++c)l+=`Reply:
    `+o[c]+`
`;e.push($n("t",Ot(l)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function RF(t,e,n){var r=[In,Pe("ThreadedComments",null,{xmlns:kn.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var o="";(i[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&e.indexOf(l.a)==-1&&e.push(l.a);var d={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};c==0?o=d.id:d.parentId=o,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(l.a)).slice(-12)+"}"),r.push(Pe("threadedComment",$n("text",l.t||""),d))})}),r.push("</ThreadedComments>"),r.join("")}function IF(t){var e=[In,Pe("personList",null,{xmlns:kn.TCMNT,"xmlns:x":tu[0]}).replace(/[\/]>/,">")];return t.forEach(function(n,r){e.push(Pe("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),e.push("</personList>"),e.join("")}function NF(t){var e={};e.iauthor=t.read_shift(4);var n=Po(t);return e.rfx=n.s,e.ref=Vt(n.s),t.l+=16,e}function DF(t,e){return e==null&&(e=ve(36)),e.write_shift(4,t[1].iauthor),ru(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var MF=ur;function bF(t){return Un(t.slice(0,54))}function PF(t){var e=Ir(),n=[];return Re(e,628),Re(e,630),t.forEach(function(r){r[1].forEach(function(i){n.indexOf(i.a)>-1||(n.push(i.a.slice(0,54)),Re(e,632,bF(i.a)))})}),Re(e,631),Re(e,633),t.forEach(function(r){r[1].forEach(function(i){i.iauthor=n.indexOf(i.a);var o={s:Vn(r[0]),e:Vn(r[0])};Re(e,635,DF([o,i])),i.t&&i.t.length>0&&Re(e,637,LP(i)),Re(e,636),delete i.iauthor})}),Re(e,634),Re(e,629),e.end()}function FF(t,e){e.FullPaths.forEach(function(n,r){if(r!=0){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&zt.utils.cfb_add(t,i,e.FileIndex[r].content)}})}var DC=["xlsb","xlsm","xlam","biff8","xla"],LF=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function n(r,i,o,l){var c=!1,d=!1;o.length==0?d=!0:o.charAt(0)=="["&&(d=!0,o=o.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var h=o.length>0?parseInt(o,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return c?m+=e.c:--m,d?h+=e.r:--h,i+(c?"":"$")+lr(m)+(d?"":"$")+Qn(h)}return function(i,o){return e=o,i.replace(t,n)}})(),a1=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,o1=(function(){return function(e,n){return e.replace(a1,function(r,i,o,l,c,d){var h=e1(l)-(o?0:n.c),m=jg(d)-(c?0:n.r),y=m==0?"":c?m+1:"["+m+"]",E=h==0?"":o?h+1:"["+h+"]";return i+"R"+y+"C"+E})}})();function kF(t,e){return t.replace(a1,function(n,r,i,o,l,c){return r+(i=="$"?i+o:lr(e1(o)+e.c))+(l=="$"?l+c:Qn(jg(c)+e.r))})}function OF(t){return t.length!=1}function Sn(t){t.l+=1}function La(t,e){var n=t.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function MC(t,e,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return bC(t);n.biff==12&&(r=4)}var i=t.read_shift(r),o=t.read_shift(r),l=La(t),c=La(t);return{s:{r:i,c:l[0],cRel:l[1],rRel:l[2]},e:{r:o,c:c[0],cRel:c[1],rRel:c[2]}}}function bC(t){var e=La(t),n=La(t),r=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function VF(t,e,n){if(n.biff<8)return bC(t);var r=t.read_shift(n.biff==12?4:2),i=t.read_shift(n.biff==12?4:2),o=La(t),l=La(t);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:l[0],cRel:l[1],rRel:l[2]}}}function PC(t,e,n){if(n&&n.biff>=2&&n.biff<=5)return UF(t);var r=t.read_shift(n&&n.biff==12?4:2),i=La(t);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function UF(t){var e=La(t),n=t.read_shift(1);return{r:e[0],c:n,cRel:e[1],rRel:e[2]}}function BF(t){var e=t.read_shift(2),n=t.read_shift(2);return{r:e,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function HF(t,e,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return GF(t);var i=t.read_shift(r>=12?4:2),o=t.read_shift(2),l=(o&16384)>>14,c=(o&32768)>>15;if(o&=16383,c==1)for(;i>524287;)i-=1048576;if(l==1)for(;o>8191;)o=o-16384;return{r:i,c:o,cRel:l,rRel:c}}function GF(t){var e=t.read_shift(2),n=t.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&n>=128&&(n=n-256),{r:e,c:n,cRel:i,rRel:r}}function qF(t,e,n){var r=(t[t.l++]&96)>>5,i=MC(t,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function zF(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),o=8;if(n)switch(n.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}var l=MC(t,o,n);return[r,i,l]}function YF(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function KF(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),o=8;if(n)switch(n.biff){case 5:t.l+=12,o=6;break;case 12:o=12;break}return t.l+=o,[r,i]}function WF(t,e,n){var r=(t[t.l++]&96)>>5,i=VF(t,e-1,n);return[r,i]}function XF(t,e,n){var r=(t[t.l++]&96)>>5;return t.l+=n.biff==2?6:n.biff==12?14:7,[r]}function $E(t){var e=t[t.l+1]&1,n=1;return t.l+=4,[e,n]}function JF(t,e,n){t.l+=2;for(var r=t.read_shift(n&&n.biff==2?1:2),i=[],o=0;o<=r;++o)i.push(t.read_shift(n&&n.biff==2?1:2));return i}function $F(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function QF(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=2,[r,t.read_shift(n&&n.biff==2?1:2)]}function ZF(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function jF(t,e,n){var r=t[t.l+1]&255?1:0;return t.l+=n&&n.biff==2?3:4,[r]}function FC(t){var e=t.read_shift(1),n=t.read_shift(1);return[e,n]}function e5(t){return t.read_shift(2),FC(t)}function t5(t){return t.read_shift(2),FC(t)}function n5(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=PC(t,0,n);return[r,i]}function r5(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=HF(t,0,n);return[r,i]}function i5(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);n&&n.biff==5&&(t.l+=12);var o=PC(t,0,n);return[r,i,o]}function s5(t,e,n){var r=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(n&&n.biff<=3?1:2);return[sL[i],OC[i],r]}function a5(t,e,n){var r=t[t.l++],i=t.read_shift(1),o=n&&n.biff<=3?[r==88?-1:0,t.read_shift(1)]:o5(t);return[i,(o[0]===0?OC:iL)[o[1]]]}function o5(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function l5(t,e,n){t.l+=n&&n.biff==2?3:4}function u5(t,e,n){if(t.l++,n&&n.biff==12)return[t.read_shift(4,"i"),0];var r=t.read_shift(2),i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function c5(t){return t.l++,ef[t.read_shift(1)]}function f5(t){return t.l++,t.read_shift(2)}function h5(t){return t.l++,t.read_shift(1)!==0}function d5(t){return t.l++,iu(t)}function p5(t,e,n){return t.l++,gC(t,e-1,n)}function m5(t,e){var n=[t.read_shift(1)];if(e==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=i6(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:n[1]=ef[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:n[1]=iu(t);break;case 2:n[1]=l6(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function g5(t,e,n){for(var r=t.read_shift(n.biff==12?4:2),i=[],o=0;o!=r;++o)i.push((n.biff==12?Po:f6)(t));return i}function _5(t,e,n){var r=0,i=0;n.biff==12?(r=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),r=1+t.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var o=0,l=[];o!=r&&(l[o]=[]);++o)for(var c=0;c!=i;++c)l[o][c]=m5(t,n.biff);return l}function v5(t,e,n){var r=t.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,o=t.read_shift(i);switch(n.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[r,0,o]}function y5(t,e,n){if(n.biff==5)return T5(t);var r=t.read_shift(1)>>>5&3,i=t.read_shift(2),o=t.read_shift(4);return[r,i,o]}function T5(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2,"i");t.l+=8;var r=t.read_shift(2);return t.l+=12,[e,n,r]}function E5(t,e,n){var r=t.read_shift(1)>>>5&3;t.l+=n&&n.biff==2?3:4;var i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function x5(t,e,n){var r=t.read_shift(1)>>>5&3,i=t.read_shift(n&&n.biff==2?1:2);return[r,i]}function S5(t,e,n){var r=t.read_shift(1)>>>5&3;return t.l+=4,n.biff<8&&t.l--,n.biff==12&&(t.l+=2),[r]}function A5(t,e,n){var r=(t[t.l++]&96)>>5,i=t.read_shift(2),o=4;if(n)switch(n.biff){case 5:o=15;break;case 12:o=6;break}return t.l+=o,[r,i]}var C5=Qi,w5=Qi,R5=Qi;function tf(t,e,n){return t.l+=2,[BF(t)]}function l1(t){return t.l+=6,[]}var I5=tf,N5=l1,D5=l1,M5=tf;function LC(t){return t.l+=2,[pC(t),t.read_shift(2)&1]}var b5=tf,P5=LC,F5=l1,L5=tf,k5=tf,O5=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function V5(t){t.l+=2;var e=t.read_shift(2),n=t.read_shift(2),r=t.read_shift(4),i=t.read_shift(2),o=t.read_shift(2),l=O5[n>>2&31];return{ixti:e,coltype:n&3,rt:l,idx:r,c:i,C:o}}function U5(t){return t.l+=2,[t.read_shift(4)]}function B5(t,e,n){return t.l+=5,t.l+=2,t.l+=n.biff==2?1:4,["PTGSHEET"]}function H5(t,e,n){return t.l+=n.biff==2?4:5,["PTGENDSHEET"]}function G5(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function q5(t){var e=t.read_shift(1)>>>5&3,n=t.read_shift(2);return[e,n]}function z5(t){return t.l+=4,[0,0]}var QE={1:{n:"PtgExp",f:u5},2:{n:"PtgTbl",f:R5},3:{n:"PtgAdd",f:Sn},4:{n:"PtgSub",f:Sn},5:{n:"PtgMul",f:Sn},6:{n:"PtgDiv",f:Sn},7:{n:"PtgPower",f:Sn},8:{n:"PtgConcat",f:Sn},9:{n:"PtgLt",f:Sn},10:{n:"PtgLe",f:Sn},11:{n:"PtgEq",f:Sn},12:{n:"PtgGe",f:Sn},13:{n:"PtgGt",f:Sn},14:{n:"PtgNe",f:Sn},15:{n:"PtgIsect",f:Sn},16:{n:"PtgUnion",f:Sn},17:{n:"PtgRange",f:Sn},18:{n:"PtgUplus",f:Sn},19:{n:"PtgUminus",f:Sn},20:{n:"PtgPercent",f:Sn},21:{n:"PtgParen",f:Sn},22:{n:"PtgMissArg",f:Sn},23:{n:"PtgStr",f:p5},26:{n:"PtgSheet",f:B5},27:{n:"PtgEndSheet",f:H5},28:{n:"PtgErr",f:c5},29:{n:"PtgBool",f:h5},30:{n:"PtgInt",f:f5},31:{n:"PtgNum",f:d5},32:{n:"PtgArray",f:XF},33:{n:"PtgFunc",f:s5},34:{n:"PtgFuncVar",f:a5},35:{n:"PtgName",f:v5},36:{n:"PtgRef",f:n5},37:{n:"PtgArea",f:qF},38:{n:"PtgMemArea",f:E5},39:{n:"PtgMemErr",f:C5},40:{n:"PtgMemNoMem",f:w5},41:{n:"PtgMemFunc",f:x5},42:{n:"PtgRefErr",f:S5},43:{n:"PtgAreaErr",f:YF},44:{n:"PtgRefN",f:r5},45:{n:"PtgAreaN",f:WF},46:{n:"PtgMemAreaN",f:G5},47:{n:"PtgMemNoMemN",f:q5},57:{n:"PtgNameX",f:y5},58:{n:"PtgRef3d",f:i5},59:{n:"PtgArea3d",f:zF},60:{n:"PtgRefErr3d",f:A5},61:{n:"PtgAreaErr3d",f:KF},255:{}},Y5={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},K5={1:{n:"PtgElfLel",f:LC},2:{n:"PtgElfRw",f:L5},3:{n:"PtgElfCol",f:I5},6:{n:"PtgElfRwV",f:k5},7:{n:"PtgElfColV",f:M5},10:{n:"PtgElfRadical",f:b5},11:{n:"PtgElfRadicalS",f:F5},13:{n:"PtgElfColS",f:N5},15:{n:"PtgElfColSV",f:D5},16:{n:"PtgElfRadicalLel",f:P5},25:{n:"PtgList",f:V5},29:{n:"PtgSxName",f:U5},255:{}},W5={0:{n:"PtgAttrNoop",f:z5},1:{n:"PtgAttrSemi",f:jF},2:{n:"PtgAttrIf",f:QF},4:{n:"PtgAttrChoose",f:JF},8:{n:"PtgAttrGoto",f:$F},16:{n:"PtgAttrSum",f:l5},32:{n:"PtgAttrBaxcel",f:$E},33:{n:"PtgAttrBaxcel",f:$E},64:{n:"PtgAttrSpace",f:e5},65:{n:"PtgAttrSpaceSemi",f:t5},128:{n:"PtgAttrIfError",f:ZF},255:{}};function X5(t,e,n,r){if(r.biff<8)return Qi(t,e);for(var i=t.l+e,o=[],l=0;l!==n.length;++l)switch(n[l][0]){case"PtgArray":n[l][1]=_5(t,0,r),o.push(n[l][1]);break;case"PtgMemArea":n[l][2]=g5(t,n[l][1],r),o.push(n[l][2]);break;case"PtgExp":r&&r.biff==12&&(n[l][1][1]=t.read_shift(4),o.push(n[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[l][0]}return e=i-t.l,e!==0&&o.push(Qi(t,e)),o}function J5(t,e,n){for(var r=t.l+e,i,o,l=[];r!=t.l;)e=r-t.l,o=t[t.l],i=QE[o]||QE[Y5[o]],(o===24||o===25)&&(i=(o===24?K5:W5)[t[t.l+1]]),!i||!i.f?Qi(t,e):l.push([i.n,i.f(t,e,n)]);return l}function $5(t){for(var e=[],n=0;n<t.length;++n){for(var r=t[n],i=[],o=0;o<r.length;++o){var l=r[o];if(l)switch(l[0]){case 2:i.push('"'+l[1].replace(/"/g,'""')+'"');break;default:i.push(l[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var Q5={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Z5(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function kC(t,e,n){if(!t)return"SH33TJSERR0";if(n.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var r=t.XTI[e];if(n.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(t[r[0]][0]){case 357:return i=r[1]==-1?"#REF":t.SheetNames[r[1]],r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 358:return n.SID!=null?t.SheetNames[n.SID]:"SH33TJSSAME"+t[r[0]][0];case 355:default:return"SH33TJSSRC"+t[r[0]][0]}switch(t[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":t.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+t.SheetNames[r[2]];case 14849:return t[r[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return t[r[0]][0][3]?(i=r[1]==-1?"#REF":t[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+t[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function ZE(t,e,n){var r=kC(t,e,n);return r=="#REF"?r:Z5(r,n)}function Xl(t,e,n,r,i){var o=i&&i.biff||8,l={s:{c:0,r:0}},c=[],d,h,m,y=0,E=0,x,R="";if(!t[0]||!t[0][0])return"";for(var A=-1,I="",q=0,X=t[0].length;q<X;++q){var G=t[0][q];switch(G[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),h=c.pop(),A>=0){switch(t[0][A][1][0]){case 0:I=fn(" ",t[0][A][1][1]);break;case 1:I=fn("\r",t[0][A][1][1]);break;default:if(I="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}h=h+I,A=-1}c.push(h+Q5[G[0]]+d);break;case"PtgIsect":d=c.pop(),h=c.pop(),c.push(h+" "+d);break;case"PtgUnion":d=c.pop(),h=c.pop(),c.push(h+","+d);break;case"PtgRange":d=c.pop(),h=c.pop(),c.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=Cc(G[1][1],l,i),c.push(wc(m,o));break;case"PtgRefN":m=n?Cc(G[1][1],n,i):G[1][1],c.push(wc(m,o));break;case"PtgRef3d":y=G[1][1],m=Cc(G[1][2],l,i),R=ZE(r,y,i),c.push(R+"!"+wc(m,o));break;case"PtgFunc":case"PtgFuncVar":var te=G[1][0],he=G[1][1];te||(te=0),te&=127;var me=te==0?[]:c.slice(-te);c.length-=te,he==="User"&&(he=me.shift()),c.push(he+"("+me.join(",")+")");break;case"PtgBool":c.push(G[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(G[1]);break;case"PtgNum":c.push(String(G[1]));break;case"PtgStr":c.push('"'+G[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(G[1]);break;case"PtgAreaN":x=kE(G[1][1],n?{s:n}:l,i),c.push(gm(x,i));break;case"PtgArea":x=kE(G[1][1],l,i),c.push(gm(x,i));break;case"PtgArea3d":y=G[1][1],x=G[1][2],R=ZE(r,y,i),c.push(R+"!"+gm(x,i));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":E=G[1][2];var N=(r.names||[])[E-1]||(r[0]||[])[E],M=N?N.Name:"SH33TJSNAME"+String(E);M&&M.slice(0,6)=="_xlfn."&&!i.xlfn&&(M=M.slice(6)),c.push(M);break;case"PtgNameX":var D=G[1][1];E=G[1][2];var k;if(i.biff<=5)D<0&&(D=-D),r[D]&&(k=r[D][E]);else{var F="";if(((r[D]||[])[0]||[])[0]==14849||(((r[D]||[])[0]||[])[0]==1025?r[D][E]&&r[D][E].itab>0&&(F=r.SheetNames[r[D][E].itab-1]+"!"):F=r.SheetNames[E-1]+"!"),r[D]&&r[D][E])F+=r[D][E].Name;else if(r[0]&&r[0][E])F+=r[0][E].Name;else{var K=(kC(r,D,i)||"").split(";;");K[E-1]?F=K[E-1]:F+="SH33TJSERRX"}c.push(F);break}k||(k={Name:"SH33TJSERRY"}),c.push(k.Name);break;case"PtgParen":var L="(",Ye=")";if(A>=0){switch(I="",t[0][A][1][0]){case 2:L=fn(" ",t[0][A][1][1])+L;break;case 3:L=fn("\r",t[0][A][1][1])+L;break;case 4:Ye=fn(" ",t[0][A][1][1])+Ye;break;case 5:Ye=fn("\r",t[0][A][1][1])+Ye;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][A][1][0])}A=-1}c.push(L+c.pop()+Ye);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":m={c:G[1][1],r:G[1][0]};var Ee={c:n.c,r:n.r};if(r.sharedf[Vt(m)]){var ie=r.sharedf[Vt(m)];c.push(Xl(ie,l,Ee,r,i))}else{var we=!1;for(d=0;d!=r.arrayf.length;++d)if(h=r.arrayf[d],!(m.c<h[0].s.c||m.c>h[0].e.c)&&!(m.r<h[0].s.r||m.r>h[0].e.r)){c.push(Xl(h[1],l,Ee,r,i)),we=!0;break}we||c.push(G[1])}break;case"PtgArray":c.push("{"+$5(G[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":A=q;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+G[1].idx+"[#"+G[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(G));default:throw new Error("Unrecognized Formula Token: "+String(G))}var Be=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&A>=0&&Be.indexOf(t[0][q][0])==-1){G=t[0][A];var Xe=!0;switch(G[1][0]){case 4:Xe=!1;case 0:I=fn(" ",G[1][1]);break;case 5:Xe=!1;case 1:I=fn("\r",G[1][1]);break;default:if(I="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+G[1][0])}c.push((Xe?I:"")+c.pop()+(Xe?"":I)),A=-1}}if(c.length>1&&i.WTF)throw new Error("bad formula stack");return c[0]}function j5(t){if(t==null){var e=ve(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return So(t);return So(0)}function eL(t,e,n,r,i){var o=Ao(e,n,i),l=j5(t.v),c=ve(6),d=33;c.write_shift(2,d),c.write_shift(4,0);for(var h=ve(t.bf.length),m=0;m<t.bf.length;++m)h[m]=t.bf[m];var y=Jn([o,l,c,h]);return y}function Jd(t,e,n){var r=t.read_shift(4),i=J5(t,r,n),o=t.read_shift(4),l=o>0?X5(t,o,i,n):null;return[i,l]}var tL=Jd,$d=Jd,nL=Jd,rL=Jd,iL={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},OC={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},sL={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function aL(t){var e="of:="+t.replace(a1,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function oL(t){return t.replace(/\./,"!")}var Rc=typeof Map<"u";function u1(t,e,n){var r=0,i=t.length;if(n){if(Rc?n.has(e):Object.prototype.hasOwnProperty.call(n,e)){for(var o=Rc?n.get(e):n[e];r<o.length;++r)if(t[o[r]].t===e)return t.Count++,o[r]}}else for(;r<i;++r)if(t[r].t===e)return t.Count++,r;return t[i]={t:e},t.Count++,t.Unique++,n&&(Rc?(n.has(e)||n.set(e,[]),n.get(e).push(i)):(Object.prototype.hasOwnProperty.call(n,e)||(n[e]=[]),n[e].push(i))),i}function Qd(t,e){var n={min:t+1,max:t+1},r=-1;return e.MDW&&(Is=e.MDW),e.width!=null?n.customWidth=1:e.wpx!=null?r=yd(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(n.width=Qm(r),n.customWidth=1):e.width!=null&&(n.width=e.width),e.hidden&&(n.hidden=!0),e.level!=null&&(n.outlineLevel=n.level=e.level),n}function VC(t,e){if(t){var n=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=n[0]),t.right==null&&(t.right=n[1]),t.top==null&&(t.top=n[2]),t.bottom==null&&(t.bottom=n[3]),t.header==null&&(t.header=n[4]),t.footer==null&&(t.footer=n[5])}}function Va(t,e,n){var r=n.revssf[e.z!=null?e.z:"General"],i=60,o=t.length;if(r==null&&n.ssf){for(;i<392;++i)if(n.ssf[i]==null){P2(e.z,i),n.ssf[i]=e.z,n.revssf[e.z]=r=i;break}}for(i=0;i!=o;++i)if(t[i].numFmtId===r)return i;return t[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function lL(t,e,n){if(t&&t["!ref"]){var r=en(t["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+t["!ref"])}}function uL(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',n=0;n!=t.length;++n)e+='<mergeCell ref="'+Rn(t[n])+'"/>';return e+"</mergeCells>"}function cL(t,e,n,r,i){var o=!1,l={},c=null;if(r.bookType!=="xlsx"&&e.vbaraw){var d=e.SheetNames[n];try{e.Workbook&&(d=e.Workbook.Sheets[n].CodeName||d)}catch{}o=!0,l.codeName=Gc(Ot(d))}if(t&&t["!outline"]){var h={summaryBelow:1,summaryRight:1};t["!outline"].above&&(h.summaryBelow=0),t["!outline"].left&&(h.summaryRight=0),c=(c||"")+Pe("outlinePr",null,h)}!o&&!c||(i[i.length]=Pe("sheetPr",c,l))}var fL=["objects","scenarios","selectLockedCells","selectUnlockedCells"],hL=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function dL(t){var e={sheet:1};return fL.forEach(function(n){t[n]!=null&&t[n]&&(e[n]="1")}),hL.forEach(function(n){t[n]!=null&&!t[n]&&(e[n]="0")}),t.password&&(e.password=EC(t.password).toString(16).toUpperCase()),Pe("sheetProtection",null,e)}function pL(t){return VC(t),Pe("pageMargins",null,t)}function mL(t,e){for(var n=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(n[n.length]=Pe("col",null,Qd(i,r)));return n[n.length]="</cols>",n.join("")}function gL(t,e,n,r){var i=typeof t.ref=="string"?t.ref:Rn(t.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,l=Kr(i);l.s.r==l.e.r&&(l.e.r=Kr(e["!ref"]).e.r,i=Rn(l));for(var c=0;c<o.length;++c){var d=o[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Pe("autoFilter",null,{ref:i})}function _L(t,e,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Pe("sheetViews",Pe("sheetView",null,i),{})}function vL(t,e,n,r){if(t.c&&n["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",o=t.t,l=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=ef[t.v];break;case"d":r&&r.cellDates?i=vr(t.v,-1).toISOString():(t=Dr(t),t.t="n",i=""+(t.v=Nr(vr(t.v)))),typeof t.z>"u"&&(t.z=hn[14]);break;default:i=t.v;break}var c=$n("v",Ot(i)),d={r:e},h=Va(r.cellXfs,t,r);switch(h!==0&&(d.s=h),t.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=$n("v",""+u1(r.Strings,t.v,r.revStrings)),d.t="s";break}d.t="str";break}if(t.t!=o&&(t.t=o,t.v=l),typeof t.f=="string"&&t.f){var m=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;c=Pe("f",Ot(t.f),m)+(t.v!=null?c:"")}return t.l&&n["!links"].push([e,t.l]),t.D&&(d.cm=1),Pe("c",c,d)}function yL(t,e,n,r){var i=[],o=[],l=en(t["!ref"]),c="",d,h="",m=[],y=0,E=0,x=t["!rows"],R=Array.isArray(t),A={r:h},I,q=-1;for(E=l.s.c;E<=l.e.c;++E)m[E]=lr(E);for(y=l.s.r;y<=l.e.r;++y){for(o=[],h=Qn(y),E=l.s.c;E<=l.e.c;++E){d=m[E]+h;var X=R?(t[y]||[])[E]:t[d];X!==void 0&&(c=vL(X,d,t,e))!=null&&o.push(c)}(o.length>0||x&&x[y])&&(A={r:h},x&&x[y]&&(I=x[y],I.hidden&&(A.hidden=1),q=-1,I.hpx?q=Td(I.hpx):I.hpt&&(q=I.hpt),q>-1&&(A.ht=q,A.customHeight=1),I.level&&(A.outlineLevel=I.level)),i[i.length]=Pe("row",o.join(""),A))}if(x)for(;y<x.length;++y)x&&x[y]&&(A={r:y+1},I=x[y],I.hidden&&(A.hidden=1),q=-1,I.hpx?q=Td(I.hpx):I.hpt&&(q=I.hpt),q>-1&&(A.ht=q,A.customHeight=1),I.level&&(A.outlineLevel=I.level),i[i.length]=Pe("row","",A));return i.join("")}function UC(t,e,n,r){var i=[In,Pe("worksheet",null,{xmlns:tu[0],"xmlns:r":kn.r})],o=n.SheetNames[t],l=0,c="",d=n.Sheets[o];d==null&&(d={});var h=d["!ref"]||"A1",m=en(h);if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),h=Rn(m)}r||(r={}),d["!comments"]=[];var y=[];cL(d,n,t,e,i),i[i.length]=Pe("dimension",null,{ref:h}),i[i.length]=_L(d,e,t,n),e.sheetFormat&&(i[i.length]=Pe("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(i[i.length]=mL(d,d["!cols"])),i[l=i.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(c=yL(d,e),c.length>0&&(i[i.length]=c)),i.length>l+1&&(i[i.length]="</sheetData>",i[l]=i[l].replace("/>",">")),d["!protect"]&&(i[i.length]=dL(d["!protect"])),d["!autofilter"]!=null&&(i[i.length]=gL(d["!autofilter"],d,n,t)),d["!merges"]!=null&&d["!merges"].length>0&&(i[i.length]=uL(d["!merges"]));var E=-1,x,R=-1;return d["!links"].length>0&&(i[i.length]="<hyperlinks>",d["!links"].forEach(function(A){A[1].Target&&(x={ref:A[0]},A[1].Target.charAt(0)!="#"&&(R=kt(r,-1,Ot(A[1].Target).replace(/#.*$/,""),xt.HLINK),x["r:id"]="rId"+R),(E=A[1].Target.indexOf("#"))>-1&&(x.location=Ot(A[1].Target.slice(E+1))),A[1].Tooltip&&(x.tooltip=Ot(A[1].Tooltip)),i[i.length]=Pe("hyperlink",null,x))}),i[i.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(i[i.length]=pL(d["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=$n("ignoredErrors",Pe("ignoredError",null,{numberStoredAsText:1,sqref:h}))),y.length>0&&(R=kt(r,-1,"../drawings/drawing"+(t+1)+".xml",xt.DRAW),i[i.length]=Pe("drawing",null,{"r:id":"rId"+R}),d["!drawing"]=y),d["!comments"].length>0&&(R=kt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",xt.VML),i[i.length]=Pe("legacyDrawing",null,{"r:id":"rId"+R}),d["!legacy"]=R),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function TL(t,e){var n={},r=t.l+e;n.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var o=t.read_shift(1);return t.l=r,o&7&&(n.level=o&7),o&16&&(n.hidden=!0),o&32&&(n.hpt=i/20),n}function EL(t,e,n){var r=ve(145),i=(n["!rows"]||[])[t]||{};r.write_shift(4,t),r.write_shift(4,0);var o=320;i.hpx?o=Td(i.hpx)*20:i.hpt&&(o=i.hpt*20),r.write_shift(2,o),r.write_shift(1,0);var l=0;i.level&&(l|=i.level),i.hidden&&(l|=16),(i.hpx||i.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var c=0,d=r.l;r.l+=4;for(var h={r:t,c:0},m=0;m<16;++m)if(!(e.s.c>m+1<<10||e.e.c<m<<10)){for(var y=-1,E=-1,x=m<<10;x<m+1<<10;++x){h.c=x;var R=Array.isArray(n)?(n[h.r]||[])[h.c]:n[Vt(h)];R&&(y<0&&(y=x),E=x)}y<0||(++c,r.write_shift(4,y),r.write_shift(4,E))}var A=r.l;return r.l=d,r.write_shift(4,c),r.l=A,r.length>r.l?r.slice(0,r.l):r}function xL(t,e,n,r){var i=EL(r,n,e);(i.length>17||(e["!rows"]||[])[r])&&Re(t,0,i)}var SL=Po,AL=ru;function CL(){}function wL(t,e){var n={},r=t[t.l];return++t.l,n.above=!(r&64),n.left=!(r&128),t.l+=18,n.name=kP(t),n}function RL(t,e,n){n==null&&(n=ve(84+4*t.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return gd({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),eC(t,n),n.slice(0,n.l)}function IL(t){var e=hi(t);return[e]}function NL(t,e,n){return n==null&&(n=ve(8)),Do(e,n)}function DL(t){var e=Mo(t);return[e]}function ML(t,e,n){return n==null&&(n=ve(4)),bo(e,n)}function bL(t){var e=hi(t),n=t.read_shift(1);return[e,n,"b"]}function PL(t,e,n){return n==null&&(n=ve(9)),Do(e,n),n.write_shift(1,t.v?1:0),n}function FL(t){var e=Mo(t),n=t.read_shift(1);return[e,n,"b"]}function LL(t,e,n){return n==null&&(n=ve(5)),bo(e,n),n.write_shift(1,t.v?1:0),n}function kL(t){var e=hi(t),n=t.read_shift(1);return[e,n,"e"]}function OL(t,e,n){return n==null&&(n=ve(9)),Do(e,n),n.write_shift(1,t.v),n}function VL(t){var e=Mo(t),n=t.read_shift(1);return[e,n,"e"]}function UL(t,e,n){return n==null&&(n=ve(8)),bo(e,n),n.write_shift(1,t.v),n.write_shift(2,0),n.write_shift(1,0),n}function BL(t){var e=hi(t),n=t.read_shift(4);return[e,n,"s"]}function HL(t,e,n){return n==null&&(n=ve(12)),Do(e,n),n.write_shift(4,e.v),n}function GL(t){var e=Mo(t),n=t.read_shift(4);return[e,n,"s"]}function qL(t,e,n){return n==null&&(n=ve(8)),bo(e,n),n.write_shift(4,e.v),n}function zL(t){var e=hi(t),n=iu(t);return[e,n,"n"]}function YL(t,e,n){return n==null&&(n=ve(16)),Do(e,n),So(t.v,n),n}function KL(t){var e=Mo(t),n=iu(t);return[e,n,"n"]}function WL(t,e,n){return n==null&&(n=ve(12)),bo(e,n),So(t.v,n),n}function XL(t){var e=hi(t),n=tC(t);return[e,n,"n"]}function JL(t,e,n){return n==null&&(n=ve(12)),Do(e,n),nC(t.v,n),n}function $L(t){var e=Mo(t),n=tC(t);return[e,n,"n"]}function QL(t,e,n){return n==null&&(n=ve(8)),bo(e,n),nC(t.v,n),n}function ZL(t){var e=hi(t),n=t1(t);return[e,n,"is"]}function jL(t){var e=hi(t),n=ur(t);return[e,n,"str"]}function ek(t,e,n){return n==null&&(n=ve(12+4*t.v.length)),Do(e,n),Un(t.v,n),n.length>n.l?n.slice(0,n.l):n}function tk(t){var e=Mo(t),n=ur(t);return[e,n,"str"]}function nk(t,e,n){return n==null&&(n=ve(8+4*t.v.length)),bo(e,n),Un(t.v,n),n.length>n.l?n.slice(0,n.l):n}function rk(t,e,n){var r=t.l+e,i=hi(t);i.r=n["!row"];var o=t.read_shift(1),l=[i,o,"b"];if(n.cellFormula){t.l+=2;var c=$d(t,r-t.l,n);l[3]=Xl(c,null,i,n.supbooks,n)}else t.l=r;return l}function ik(t,e,n){var r=t.l+e,i=hi(t);i.r=n["!row"];var o=t.read_shift(1),l=[i,o,"e"];if(n.cellFormula){t.l+=2;var c=$d(t,r-t.l,n);l[3]=Xl(c,null,i,n.supbooks,n)}else t.l=r;return l}function sk(t,e,n){var r=t.l+e,i=hi(t);i.r=n["!row"];var o=iu(t),l=[i,o,"n"];if(n.cellFormula){t.l+=2;var c=$d(t,r-t.l,n);l[3]=Xl(c,null,i,n.supbooks,n)}else t.l=r;return l}function ak(t,e,n){var r=t.l+e,i=hi(t);i.r=n["!row"];var o=ur(t),l=[i,o,"str"];if(n.cellFormula){t.l+=2;var c=$d(t,r-t.l,n);l[3]=Xl(c,null,i,n.supbooks,n)}else t.l=r;return l}var ok=Po,lk=ru;function uk(t,e){return e==null&&(e=ve(4)),e.write_shift(4,t),e}function ck(t,e){var n=t.l+e,r=Po(t),i=n1(t),o=ur(t),l=ur(t),c=ur(t);t.l=n;var d={rfx:r,relId:i,loc:o,display:c};return l&&(d.Tooltip=l),d}function fk(t,e){var n=ve(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));ru({s:Vn(t[0]),e:Vn(t[0])},n),r1("rId"+e,n);var r=t[1].Target.indexOf("#"),i=r==-1?"":t[1].Target.slice(r+1);return Un(i||"",n),Un(t[1].Tooltip||"",n),Un("",n),n.slice(0,n.l)}function hk(){}function dk(t,e,n){var r=t.l+e,i=rC(t),o=t.read_shift(1),l=[i];if(l[2]=o,n.cellFormula){var c=tL(t,r-t.l,n);l[1]=c}else t.l=r;return l}function pk(t,e,n){var r=t.l+e,i=Po(t),o=[i];if(n.cellFormula){var l=rL(t,r-t.l,n);o[1]=l,t.l=r}else t.l=r;return o}function mk(t,e,n){n==null&&(n=ve(18));var r=Qd(t,e);n.write_shift(-4,t),n.write_shift(-4,t),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),n.write_shift(2,i),n}var BC=["left","right","top","bottom","header","footer"];function gk(t){var e={};return BC.forEach(function(n){e[n]=iu(t)}),e}function _k(t,e){return e==null&&(e=ve(48)),VC(t),BC.forEach(function(n){So(t[n],e)}),e}function vk(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function yk(t,e,n){n==null&&(n=ve(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function Tk(t){var e=ve(24);return e.write_shift(4,4),e.write_shift(4,1),ru(t,e),e}function Ek(t,e){return e==null&&(e=ve(66)),e.write_shift(2,t.password?EC(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?e.write_shift(4,t[n[0]]!=null&&!t[n[0]]?1:0):e.write_shift(4,t[n[0]]!=null&&t[n[0]]?0:1)}),e}function xk(){}function Sk(){}function Ak(t,e,n,r,i,o,l){if(e.v===void 0)return!1;var c="";switch(e.t){case"b":c=e.v?"1":"0";break;case"d":e=Dr(e),e.z=e.z||hn[14],e.v=Nr(vr(e.v)),e.t="n";break;case"n":case"e":c=""+e.v;break;default:c=e.v;break}var d={r:n,c:r};switch(d.s=Va(i.cellXfs,e,i),e.l&&o["!links"].push([Vt(d),e.l]),e.c&&o["!comments"].push([Vt(d),e.c]),e.t){case"s":case"str":return i.bookSST?(c=u1(i.Strings,e.v,i.revStrings),d.t="s",d.v=c,l?Re(t,18,qL(e,d)):Re(t,7,HL(e,d))):(d.t="str",l?Re(t,17,nk(e,d)):Re(t,6,ek(e,d))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?l?Re(t,13,QL(e,d)):Re(t,2,JL(e,d)):l?Re(t,16,WL(e,d)):Re(t,5,YL(e,d)),!0;case"b":return d.t="b",l?Re(t,15,LL(e,d)):Re(t,4,PL(e,d)),!0;case"e":return d.t="e",l?Re(t,14,UL(e,d)):Re(t,3,OL(e,d)),!0}return l?Re(t,12,ML(e,d)):Re(t,1,NL(e,d)),!0}function Ck(t,e,n,r){var i=en(e["!ref"]||"A1"),o,l="",c=[];Re(t,145);var d=Array.isArray(e),h=i.e.r;e["!rows"]&&(h=Math.max(i.e.r,e["!rows"].length-1));for(var m=i.s.r;m<=h;++m){l=Qn(m),xL(t,e,i,m);var y=!1;if(m<=i.e.r)for(var E=i.s.c;E<=i.e.c;++E){m===i.s.r&&(c[E]=lr(E)),o=c[E]+l;var x=d?(e[m]||[])[E]:e[o];if(!x){y=!1;continue}y=Ak(t,x,m,E,r,e,y)}}Re(t,146)}function wk(t,e){!e||!e["!merges"]||(Re(t,177,uk(e["!merges"].length)),e["!merges"].forEach(function(n){Re(t,176,lk(n))}),Re(t,178))}function Rk(t,e){!e||!e["!cols"]||(Re(t,390),e["!cols"].forEach(function(n,r){n&&Re(t,60,mk(r,n))}),Re(t,391))}function Ik(t,e){!e||!e["!ref"]||(Re(t,648),Re(t,649,Tk(en(e["!ref"]))),Re(t,650))}function Nk(t,e,n){e["!links"].forEach(function(r){if(r[1].Target){var i=kt(n,-1,r[1].Target.replace(/#.*$/,""),xt.HLINK);Re(t,494,fk(r,i))}}),delete e["!links"]}function Dk(t,e,n,r){if(e["!comments"].length>0){var i=kt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",xt.VML);Re(t,551,r1("rId"+i)),e["!legacy"]=i}}function Mk(t,e,n,r){if(e["!autofilter"]){var i=e["!autofilter"],o=typeof i.ref=="string"?i.ref:Rn(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var l=n.Workbook.Names,c=Kr(o);c.s.r==c.e.r&&(c.e.r=Kr(e["!ref"]).e.r,o=Rn(c));for(var d=0;d<l.length;++d){var h=l[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+n.SheetNames[r]+"'!"+o;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+o}),Re(t,161,ru(en(o))),Re(t,162)}}function bk(t,e,n){Re(t,133),Re(t,137,yk(e,n)),Re(t,138),Re(t,134)}function Pk(t,e){e["!protect"]&&Re(t,535,Ek(e["!protect"]))}function Fk(t,e,n,r){var i=Ir(),o=n.SheetNames[t],l=n.Sheets[o]||{},c=o;try{n&&n.Workbook&&(c=n.Workbook.Sheets[t].CodeName||c)}catch{}var d=en(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Re(i,129),(n.vbaraw||l["!outline"])&&Re(i,147,RL(c,l["!outline"])),Re(i,148,AL(d)),bk(i,l,n.Workbook),Rk(i,l),Ck(i,l,t,e),Pk(i,l),Mk(i,l,n,t),wk(i,l),Nk(i,l,r),l["!margins"]&&Re(i,476,_k(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Ik(i,l),Dk(i,l,t,r),Re(i,130),i.end()}function Lk(t,e){t.l+=10;var n=ur(t);return{name:n}}var kk=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Ok(t){return!t.Workbook||!t.Workbook.WBProps?"false":pP(t.Workbook.WBProps.date1904)?"true":"false"}var Vk="][*?/\\".split("");function HC(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return Vk.forEach(function(r){if(t.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function Uk(t,e,n){t.forEach(function(r,i){HC(r);for(var o=0;o<i;++o)if(r==t[o])throw new Error("Duplicate Sheet Name: "+r);if(n){var l=e&&e[i]&&e[i].CodeName||r;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function Bk(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];Uk(t.SheetNames,e,!!t.vbaraw);for(var n=0;n<t.SheetNames.length;++n)lL(t.Sheets[t.SheetNames[n]],t.SheetNames[n],n)}function GC(t){var e=[In];e[e.length]=Pe("workbook",null,{xmlns:tu[0],"xmlns:r":kn.r});var n=t.Workbook&&(t.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(kk.forEach(function(c){t.Workbook.WBProps[c[0]]!=null&&t.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=t.Workbook.WBProps[c[0]])}),t.Workbook.WBProps.CodeName&&(r.codeName=t.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Pe("workbookPr",null,r);var i=t.Workbook&&t.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",o=0;o!=t.SheetNames.length&&!(!i[o]||!i[o].Hidden);++o);o==t.SheetNames.length&&(o=0),e[e.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",o=0;o!=t.SheetNames.length;++o){var l={name:Ot(t.SheetNames[o].slice(0,31))};if(l.sheetId=""+(o+1),l["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}e[e.length]=Pe("sheet",null,l)}return e[e.length]="</sheets>",n&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(c){var d={name:c.Name};c.Comment&&(d.comment=c.Comment),c.Sheet!=null&&(d.localSheetId=""+c.Sheet),c.Hidden&&(d.hidden="1"),c.Ref&&(e[e.length]=Pe("definedName",Ot(c.Ref),d))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Hk(t,e){var n={};return n.Hidden=t.read_shift(4),n.iTabID=t.read_shift(4),n.strRelID=$m(t),n.name=ur(t),n}function Gk(t,e){return e||(e=ve(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),r1(t.strRelID,e),Un(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function qk(t,e){var n={},r=t.read_shift(4);n.defaultThemeVersion=t.read_shift(4);var i=e>8?ur(t):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function zk(t,e){e||(e=ve(72));var n=0;return t&&t.filterPrivacy&&(n|=8),e.write_shift(4,n),e.write_shift(4,0),eC(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function Yk(t,e,n){var r=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),o=OP(t),l=nL(t,0,n),c=n1(t);t.l=r;var d={Name:o,Ptg:l};return i<268435455&&(d.Sheet=i),c&&(d.Comment=c),d}function Kk(t,e){Re(t,143);for(var n=0;n!=e.SheetNames.length;++n){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[n]&&e.Workbook.Sheets[n].Hidden||0,i={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:e.SheetNames[n]};Re(t,156,Gk(i))}Re(t,144)}function Wk(t,e){e||(e=ve(127));for(var n=0;n!=4;++n)e.write_shift(4,0);return Un("SheetJS",e),Un(ld.version,e),Un(ld.version,e),Un("7262",e),e.length>e.l?e.slice(0,e.l):e}function Xk(t,e){e||(e=ve(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var n=120;return e.write_shift(1,n),e.length>e.l?e.slice(0,e.l):e}function Jk(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var n=e.Workbook.Sheets,r=0,i=-1,o=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&i==-1?i=r:n[r].Hidden==1&&o==-1&&(o=r);o>i||(Re(t,135),Re(t,158,Xk(i)),Re(t,136))}}function $k(t,e){var n=Ir();return Re(n,131),Re(n,128,Wk()),Re(n,153,zk(t.Workbook&&t.Workbook.WBProps||null)),Jk(n,t),Kk(n,t),Re(n,132),n.end()}function Qk(t,e,n){return(e.slice(-4)===".bin"?$k:GC)(t)}function Zk(t,e,n,r,i){return(e.slice(-4)===".bin"?Fk:UC)(t,n,r,i)}function jk(t,e,n){return(e.slice(-4)===".bin"?_F:AC)(t,n)}function e8(t,e,n){return(e.slice(-4)===".bin"?z6:TC)(t,n)}function t8(t,e,n){return(e.slice(-4)===".bin"?PF:NC)(t)}function n8(t){return(t.slice(-4)===".bin"?CF:RC)()}function r8(t,e){var n=[];return t.Props&&n.push(jP(t.Props,e)),t.Custprops&&n.push(e6(t.Props,t.Custprops)),n.join("")}function i8(){return""}function s8(t,e){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var o=[];o.push(Pe("NumberFormat",null,{"ss:Format":Ot(hn[r.numFmtId])}));var l={"ss:ID":"s"+(21+i)};n.push(Pe("Style",o.join(""),l))}),Pe("Styles",n.join(""))}function qC(t){return Pe("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+o1(t.Ref,{r:0,c:0})})}function a8(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,n=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||n.push(qC(i)))}return Pe("Names",n.join(""))}function o8(t,e,n,r){if(!t||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,o=[],l=0;l<i.length;++l){var c=i[l];c.Sheet==n&&(c.Name.match(/^_xlfn\./)||o.push(qC(c)))}return o.join("")}function l8(t,e,n,r){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(Pe("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(Pe("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(Pe("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(Pe("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<n&&!(r.Workbook.Sheets[o]&&!r.Workbook.Sheets[o].Hidden);++o);o==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push($n("ProtectContents","True")),t["!protect"].objects&&i.push($n("ProtectObjects","True")),t["!protect"].scenarios&&i.push($n("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push($n("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push($n("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){t["!protect"][l[0]]&&i.push("<"+l[1]+"/>")})),i.length==0?"":Pe("WorksheetOptions",i.join(""),{xmlns:zr.x})}function u8(t){return t.map(function(e){var n=dP(e.t||""),r=Pe("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return Pe("Comment",r,{"ss:Author":e.a})}).join("")}function c8(t,e,n,r,i,o,l){if(!t||t.v==null&&t.f==null)return"";var c={};if(t.f&&(c["ss:Formula"]="="+Ot(o1(t.f,l))),t.F&&t.F.slice(0,e.length)==e){var d=Vn(t.F.slice(e.length+1));c["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(t.l&&t.l.Target&&(c["ss:HRef"]=Ot(t.l.Target),t.l.Tooltip&&(c["x:HRefScreenTip"]=Ot(t.l.Tooltip))),n["!merges"])for(var h=n["!merges"],m=0;m!=h.length;++m)h[m].s.c!=l.c||h[m].s.r!=l.r||(h[m].e.c>h[m].s.c&&(c["ss:MergeAcross"]=h[m].e.c-h[m].s.c),h[m].e.r>h[m].s.r&&(c["ss:MergeDown"]=h[m].e.r-h[m].s.r));var y="",E="";switch(t.t){case"z":if(!r.sheetStubs)return"";break;case"n":y="Number",E=String(t.v);break;case"b":y="Boolean",E=t.v?"1":"0";break;case"e":y="Error",E=ef[t.v];break;case"d":y="DateTime",E=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||hn[14]);break;case"s":y="String",E=hP(t.v||"");break}var x=Va(r.cellXfs,t,r);c["ss:StyleID"]="s"+(21+x),c["ss:Index"]=l.c+1;var R=t.v!=null?E:"",A=t.t=="z"?"":'<Data ss:Type="'+y+'">'+R+"</Data>";return(t.c||[]).length>0&&(A+=u8(t.c)),Pe("Cell",A,c)}function f8(t,e){var n='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=SC(e.hpt)),e.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(n+=' ss:Hidden="1"')),n+">"}function h8(t,e,n,r){if(!t["!ref"])return"";var i=en(t["!ref"]),o=t["!merges"]||[],l=0,c=[];t["!cols"]&&t["!cols"].forEach(function(I,q){s1(I);var X=!!I.width,G=Qd(q,I),te={"ss:Index":q+1};X&&(te["ss:Width"]=vd(G.width)),I.hidden&&(te["ss:Hidden"]="1"),c.push(Pe("Column",null,te))});for(var d=Array.isArray(t),h=i.s.r;h<=i.e.r;++h){for(var m=[f8(h,(t["!rows"]||[])[h])],y=i.s.c;y<=i.e.c;++y){var E=!1;for(l=0;l!=o.length;++l)if(!(o[l].s.c>y)&&!(o[l].s.r>h)&&!(o[l].e.c<y)&&!(o[l].e.r<h)){(o[l].s.c!=y||o[l].s.r!=h)&&(E=!0);break}if(!E){var x={r:h,c:y},R=Vt(x),A=d?(t[h]||[])[y]:t[R];m.push(c8(A,R,t,e,n,r,x))}}m.push("</Row>"),m.length>2&&c.push(m.join(""))}return c.join("")}function d8(t,e,n){var r=[],i=n.SheetNames[t],o=n.Sheets[i],l=o?o8(o,e,t,n):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=o?h8(o,e,t,n):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(l8(o,e,t,n)),r.join("")}function p8(t,e){e||(e={}),t.SSF||(t.SSF=Dr(hn)),t.SSF&&(Kd(),Yd(t.SSF),e.revssf=Wd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Va(e.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(r8(t,e)),n.push(i8()),n.push(""),n.push("");for(var r=0;r<t.SheetNames.length;++r)n.push(Pe("Worksheet",d8(r,e,t),{"ss:Name":Ot(t.SheetNames[r])}));return n[2]=s8(t,e),n[3]=a8(t),In+Pe("Workbook",n.join(""),{xmlns:zr.ss,"xmlns:o":zr.o,"xmlns:x":zr.x,"xmlns:ss":zr.ss,"xmlns:dt":zr.dt,"xmlns:html":zr.html})}var ym={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function m8(t,e){var n=[],r=[],i=[],o=0,l,c=CE(VE,"n"),d=CE(UE,"n");if(t.Props)for(l=jn(t.Props),o=0;o<l.length;++o)(Object.prototype.hasOwnProperty.call(c,l[o])?n:Object.prototype.hasOwnProperty.call(d,l[o])?r:i).push([l[o],t.Props[l[o]]]);if(t.Custprops)for(l=jn(t.Custprops),o=0;o<l.length;++o)Object.prototype.hasOwnProperty.call(t.Props||{},l[o])||(Object.prototype.hasOwnProperty.call(c,l[o])?n:Object.prototype.hasOwnProperty.call(d,l[o])?r:i).push([l[o],t.Custprops[l[o]]]);var h=[];for(o=0;o<i.length;++o)dC.indexOf(i[o][0])>-1||cC.indexOf(i[o][0])>-1||i[o][1]!=null&&h.push(i[o]);r.length&&zt.utils.cfb_add(e,"/SummaryInformation",zE(r,ym.SI,d,UE)),(n.length||h.length)&&zt.utils.cfb_add(e,"/DocumentSummaryInformation",zE(n,ym.DSI,c,VE,h.length?h:null,ym.UDI))}function g8(t,e){var n=e||{},r=zt.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return zt.utils.cfb_add(r,i,zC(t,n)),n.biff==8&&(t.Props||t.Custprops)&&m8(t,r),n.biff==8&&t.vbaraw&&FF(r,zt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),r}var _8={0:{f:TL},1:{f:IL},2:{f:XL},3:{f:kL},4:{f:bL},5:{f:zL},6:{f:jL},7:{f:BL},8:{f:ak},9:{f:sk},10:{f:rk},11:{f:ik},12:{f:DL},13:{f:$L},14:{f:VL},15:{f:FL},16:{f:KL},17:{f:tk},18:{f:GL},19:{f:t1},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Yk},40:{},42:{},43:{f:j6},44:{f:Q6},45:{f:nF},46:{f:iF},47:{f:rF},48:{},49:{f:DP},50:{},51:{f:TF},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:M6},62:{f:ZL},63:{f:wF},64:{f:xk},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Qi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:vk},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:wL},148:{f:SL,p:16},151:{f:hk},152:{},153:{f:qk},154:{},155:{},156:{f:Hk},157:{},158:{},159:{T:1,f:H6},160:{T:-1},161:{T:1,f:Po},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:ok},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:vF},336:{T:-1},337:{f:SF,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:$m},357:{},358:{},359:{},360:{T:1},361:{},362:{f:C6},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:dk},427:{f:pk},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:gk},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:CL},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ck},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:$m},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:MF},633:{T:1},634:{T:-1},635:{T:1,f:NF},636:{T:-1},637:{f:FP},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Lk},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Sk},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Fe(t,e,n,r){var i=e;if(!isNaN(i)){var o=r||(n||[]).length||0,l=t.next(4);l.write_shift(2,i),l.write_shift(2,o),o>0&&Zg(n)&&t.push(n)}}function v8(t,e,n,r){var i=(n||[]).length||0;if(i<=8224)return Fe(t,e,n,i);var o=e;if(!isNaN(o)){for(var l=n.parts||[],c=0,d=0,h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;var m=t.next(4);for(m.write_shift(2,o),m.write_shift(2,h),t.push(n.slice(d,d+h)),d+=h;d<i;){for(m=t.next(4),m.write_shift(2,60),h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;m.write_shift(2,h),t.push(n.slice(d,d+h)),d+=h}}}function nf(t,e,n){return t||(t=ve(7)),t.write_shift(2,e),t.write_shift(2,n),t.write_shift(2,0),t.write_shift(1,0),t}function y8(t,e,n,r){var i=ve(9);return nf(i,t,e),mC(n,r||"b",i),i}function T8(t,e,n){var r=ve(8+2*n.length);return nf(r,t,e),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function E8(t,e,n,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Nr(vr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Fe(t,2,L6(n,r,i)):Fe(t,3,F6(n,r,i));return;case"b":case"e":Fe(t,5,y8(n,r,e.v,e.t));return;case"s":case"str":Fe(t,4,T8(n,r,(e.v||"").slice(0,255)));return}Fe(t,1,nf(null,n,r))}function x8(t,e,n,r){var i=Array.isArray(e),o=en(e["!ref"]||"A1"),l,c="",d=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),l=Rn(o)}for(var h=o.s.r;h<=o.e.r;++h){c=Qn(h);for(var m=o.s.c;m<=o.e.c;++m){h===o.s.r&&(d[m]=lr(m)),l=d[m]+c;var y=i?(e[h]||[])[m]:e[l];y&&E8(t,y,h,m)}}}function S8(t,e){for(var n=e||{},r=Ir(),i=0,o=0;o<t.SheetNames.length;++o)t.SheetNames[o]==n.sheet&&(i=o);if(i==0&&n.sheet&&t.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Fe(r,n.biff==4?1033:n.biff==3?521:9,i1(t,16,n)),x8(r,t.Sheets[t.SheetNames[i]],i,n),Fe(r,10),r.end()}function A8(t,e,n){Fe(t,49,_6({sz:12,name:"Arial"},n))}function C8(t,e,n){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Fe(t,1054,T6(i,e[i],n))})}function w8(t,e){var n=ve(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Fe(t,2151,n),n=ve(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),vC(en(e["!ref"]||"A1"),n),n.write_shift(4,4),Fe(t,2152,n)}function R8(t,e){for(var n=0;n<16;++n)Fe(t,224,KE({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Fe(t,224,KE(r,0,e))})}function I8(t,e){for(var n=0;n<e["!links"].length;++n){var r=e["!links"][n];Fe(t,440,I6(r)),r[1].Tooltip&&Fe(t,2048,N6(r))}delete e["!links"]}function N8(t,e){if(e){var n=0;e.forEach(function(r,i){++n<=256&&r&&Fe(t,125,b6(Qd(i,r),i))})}}function D8(t,e,n,r,i){var o=16+Va(i.cellXfs,e,i);if(e.v==null&&!e.bf){Fe(t,513,Ao(n,r,o));return}if(e.bf)Fe(t,6,eL(e,n,r,i,o));else switch(e.t){case"d":case"n":var l=e.t=="d"?Nr(vr(e.v)):e.v;Fe(t,515,A6(n,r,l,o));break;case"b":case"e":Fe(t,517,S6(n,r,e.v,o,i,e.t));break;case"s":case"str":if(i.bookSST){var c=u1(i.Strings,e.v,i.revStrings);Fe(t,253,v6(n,r,c,o))}else Fe(t,516,y6(n,r,(e.v||"").slice(0,255),o,i));break;default:Fe(t,513,Ao(n,r,o))}}function M8(t,e,n){var r=Ir(),i=n.SheetNames[t],o=n.Sheets[i]||{},l=(n||{}).Workbook||{},c=(l.Sheets||[])[t]||{},d=Array.isArray(o),h=e.biff==8,m,y="",E=[],x=en(o["!ref"]||"A1"),R=h?65536:16384;if(x.e.c>255||x.e.r>=R){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,R-1)}Fe(r,2057,i1(n,16,e)),Fe(r,13,li(1)),Fe(r,12,li(100)),Fe(r,15,_r(!0)),Fe(r,17,_r(!1)),Fe(r,16,So(.001)),Fe(r,95,_r(!0)),Fe(r,42,_r(!1)),Fe(r,43,_r(!1)),Fe(r,130,li(1)),Fe(r,128,x6()),Fe(r,131,_r(!1)),Fe(r,132,_r(!1)),h&&N8(r,o["!cols"]),Fe(r,512,E6(x,e)),h&&(o["!links"]=[]);for(var A=x.s.r;A<=x.e.r;++A){y=Qn(A);for(var I=x.s.c;I<=x.e.c;++I){A===x.s.r&&(E[I]=lr(I)),m=E[I]+y;var q=d?(o[A]||[])[I]:o[m];q&&(D8(r,q,A,I,e),h&&q.l&&o["!links"].push([m,q.l]))}}var X=c.CodeName||c.name||i;return h&&Fe(r,574,g6((l.Views||[])[0])),h&&(o["!merges"]||[]).length&&Fe(r,229,R6(o["!merges"])),h&&I8(r,o),Fe(r,442,_C(X)),h&&w8(r,o),Fe(r,10),r.end()}function b8(t,e,n){var r=Ir(),i=(t||{}).Workbook||{},o=i.Sheets||[],l=i.WBProps||{},c=n.biff==8,d=n.biff==5;if(Fe(r,2057,i1(t,5,n)),n.bookType=="xla"&&Fe(r,135),Fe(r,225,c?li(1200):null),Fe(r,193,r6(2)),d&&Fe(r,191),d&&Fe(r,192),Fe(r,226),Fe(r,92,h6("SheetJS",n)),Fe(r,66,li(c?1200:1252)),c&&Fe(r,353,li(0)),c&&Fe(r,448),Fe(r,317,P6(t.SheetNames.length)),c&&t.vbaraw&&Fe(r,211),c&&t.vbaraw){var h=l.CodeName||"ThisWorkbook";Fe(r,442,_C(h))}Fe(r,156,li(17)),Fe(r,25,_r(!1)),Fe(r,18,_r(!1)),Fe(r,19,li(0)),c&&Fe(r,431,_r(!1)),c&&Fe(r,444,li(0)),Fe(r,61,m6()),Fe(r,64,_r(!1)),Fe(r,141,li(0)),Fe(r,34,_r(Ok(t)=="true")),Fe(r,14,_r(!0)),c&&Fe(r,439,_r(!1)),Fe(r,218,li(0)),A8(r,t,n),C8(r,t.SSF,n),R8(r,n),c&&Fe(r,352,_r(!1));var m=r.end(),y=Ir();c&&Fe(y,140,D6()),c&&n.Strings&&v8(y,252,p6(n.Strings)),Fe(y,10);var E=y.end(),x=Ir(),R=0,A=0;for(A=0;A<t.SheetNames.length;++A)R+=(c?12:11)+(c?2:1)*t.SheetNames[A].length;var I=m.length+R+E.length;for(A=0;A<t.SheetNames.length;++A){var q=o[A]||{};Fe(x,133,d6({pos:I,hs:q.Hidden||0,dt:0,name:t.SheetNames[A]},n)),I+=e[A].length}var X=x.end();if(R!=X.length)throw new Error("BS8 "+R+" != "+X.length);var G=[];return m.length&&G.push(m),X.length&&G.push(X),E.length&&G.push(E),Jn(G)}function P8(t,e){var n=e||{},r=[];t&&!t.SSF&&(t.SSF=Dr(hn)),t&&t.SSF&&(Kd(),Yd(t.SSF),n.revssf=Wd(t.SSF),n.revssf[t.SSF[65535]]=0,n.ssf=t.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,c1(n),n.cellXfs=[],Va(n.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)r[r.length]=M8(i,n,t);return r.unshift(b8(t,r,n)),Jn(r)}function zC(t,e){for(var n=0;n<=t.SheetNames.length;++n){var r=t.Sheets[t.SheetNames[n]];if(!(!r||!r["!ref"])){var i=Kr(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var o=e||{};switch(o.biff||2){case 8:case 5:return P8(t,e);case 4:case 3:case 2:return S8(t,e)}throw new Error("invalid type "+o.bookType+" for BIFF")}function F8(t,e,n,r){for(var i=t["!merges"]||[],o=[],l=e.s.c;l<=e.e.c;++l){for(var c=0,d=0,h=0;h<i.length;++h)if(!(i[h].s.r>n||i[h].s.c>l)&&!(i[h].e.r<n||i[h].e.c<l)){if(i[h].s.r<n||i[h].s.c<l){c=-1;break}c=i[h].e.r-i[h].s.r+1,d=i[h].e.c-i[h].s.c+1;break}if(!(c<0)){var m=Vt({r:n,c:l}),y=r.dense?(t[n]||[])[l]:t[m],E=y&&y.v!=null&&(y.h||fP(y.w||(Ps(y),y.w)||""))||"",x={};c>1&&(x.rowspan=c),d>1&&(x.colspan=d),r.editable?E='<span contenteditable="true">'+E+"</span>":y&&(x["data-t"]=y&&y.t||"z",y.v!=null&&(x["data-v"]=y.v),y.z!=null&&(x["data-z"]=y.z),y.l&&(y.l.Target||"#").charAt(0)!="#"&&(E='<a href="'+y.l.Target+'">'+E+"</a>")),x.id=(r.id||"sjs")+"-"+m,o.push(Pe("td",E,x))}}var R="<tr>";return R+o.join("")+"</tr>"}var L8='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',k8="</body></html>";function O8(t,e,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function YC(t,e){var n=e||{},r=n.header!=null?n.header:L8,i=n.footer!=null?n.footer:k8,o=[r],l=Kr(t["!ref"]);n.dense=Array.isArray(t),o.push(O8(t,l,n));for(var c=l.s.r;c<=l.e.r;++c)o.push(F8(t,l,c,n));return o.push("</table>"+i),o.join("")}function KC(t,e,n){var r=n||{},i=0,o=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var l=typeof r.origin=="string"?Vn(r.origin):r.origin;i=l.r,o=l.c}var c=e.getElementsByTagName("tr"),d=Math.min(r.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:i,c:o}};if(t["!ref"]){var m=Kr(t["!ref"]);h.s.r=Math.min(h.s.r,m.s.r),h.s.c=Math.min(h.s.c,m.s.c),h.e.r=Math.max(h.e.r,m.e.r),h.e.c=Math.max(h.e.c,m.e.c),i==-1&&(h.e.r=i=m.e.r+1)}var y=[],E=0,x=t["!rows"]||(t["!rows"]=[]),R=0,A=0,I=0,q=0,X=0,G=0;for(t["!cols"]||(t["!cols"]=[]);R<c.length&&A<d;++R){var te=c[R];if(jE(te)){if(r.display)continue;x[A]={hidden:!0}}var he=te.children;for(I=q=0;I<he.length;++I){var me=he[I];if(!(r.display&&jE(me))){var N=me.hasAttribute("data-v")?me.getAttribute("data-v"):me.hasAttribute("v")?me.getAttribute("v"):mP(me.innerHTML),M=me.getAttribute("data-z")||me.getAttribute("z");for(E=0;E<y.length;++E){var D=y[E];D.s.c==q+o&&D.s.r<A+i&&A+i<=D.e.r&&(q=D.e.c+1-o,E=-1)}G=+me.getAttribute("colspan")||1,((X=+me.getAttribute("rowspan")||1)>1||G>1)&&y.push({s:{r:A+i,c:q+o},e:{r:A+i+(X||1)-1,c:q+o+(G||1)-1}});var k={t:"s",v:N},F=me.getAttribute("data-t")||me.getAttribute("t")||"";N!=null&&(N.length==0?k.t=F||"z":r.raw||N.trim().length==0||F=="s"||(N==="TRUE"?k={t:"b",v:!0}:N==="FALSE"?k={t:"b",v:!1}:isNaN(Rs(N))?isNaN(Hc(N).getDate())||(k={t:"d",v:vr(N)},r.cellDates||(k={t:"n",v:Nr(k.v)}),k.z=r.dateNF||hn[14]):k={t:"n",v:Rs(N)})),k.z===void 0&&M!=null&&(k.z=M);var K="",L=me.getElementsByTagName("A");if(L&&L.length)for(var Ye=0;Ye<L.length&&!(L[Ye].hasAttribute("href")&&(K=L[Ye].getAttribute("href"),K.charAt(0)!="#"));++Ye);K&&K.charAt(0)!="#"&&(k.l={Target:K}),r.dense?(t[A+i]||(t[A+i]=[]),t[A+i][q+o]=k):t[Vt({c:q+o,r:A+i})]=k,h.e.c<q+o&&(h.e.c=q+o),q+=G}}++A}return y.length&&(t["!merges"]=(t["!merges"]||[]).concat(y)),h.e.r=Math.max(h.e.r,A-1+i),t["!ref"]=Rn(h),A>=d&&(t["!fullref"]=Rn((h.e.r=c.length-R+A-1+i,h))),t}function WC(t,e){var n=e||{},r=n.dense?[]:{};return KC(r,t,e)}function V8(t,e){return No(WC(t,e),e)}function jE(t){var e="",n=U8(t);return n&&(e=n(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function U8(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var B8=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+qc({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return In+e}})(),ex=(function(){var t=function(o){return Ot(o).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(o,l,c){var d=[];d.push('      <table:table table:name="'+Ot(l.SheetNames[c])+`" table:style-name="ta1">
`);var h=0,m=0,y=Kr(o["!ref"]||"A1"),E=o["!merges"]||[],x=0,R=Array.isArray(o);if(o["!cols"])for(m=0;m<=y.e.c;++m)d.push("        <table:table-column"+(o["!cols"][m]?' table:style-name="co'+o["!cols"][m].ods+'"':"")+`></table:table-column>
`);var A="",I=o["!rows"]||[];for(h=0;h<y.s.r;++h)A=I[h]?' table:style-name="ro'+I[h].ods+'"':"",d.push("        <table:table-row"+A+`></table:table-row>
`);for(;h<=y.e.r;++h){for(A=I[h]?' table:style-name="ro'+I[h].ods+'"':"",d.push("        <table:table-row"+A+`>
`),m=0;m<y.s.c;++m)d.push(e);for(;m<=y.e.c;++m){var q=!1,X={},G="";for(x=0;x!=E.length;++x)if(!(E[x].s.c>m)&&!(E[x].s.r>h)&&!(E[x].e.c<m)&&!(E[x].e.r<h)){(E[x].s.c!=m||E[x].s.r!=h)&&(q=!0),X["table:number-columns-spanned"]=E[x].e.c-E[x].s.c+1,X["table:number-rows-spanned"]=E[x].e.r-E[x].s.r+1;break}if(q){d.push(n);continue}var te=Vt({r:h,c:m}),he=R?(o[h]||[])[m]:o[te];if(he&&he.f&&(X["table:formula"]=Ot(aL(he.f)),he.F&&he.F.slice(0,te.length)==te)){var me=Kr(he.F);X["table:number-matrix-columns-spanned"]=me.e.c-me.s.c+1,X["table:number-matrix-rows-spanned"]=me.e.r-me.s.r+1}if(!he){d.push(e);continue}switch(he.t){case"b":G=he.v?"TRUE":"FALSE",X["office:value-type"]="boolean",X["office:boolean-value"]=he.v?"true":"false";break;case"n":G=he.w||String(he.v||0),X["office:value-type"]="float",X["office:value"]=he.v||0;break;case"s":case"str":G=he.v==null?"":he.v,X["office:value-type"]="string";break;case"d":G=he.w||vr(he.v).toISOString(),X["office:value-type"]="date",X["office:date-value"]=vr(he.v).toISOString(),X["table:style-name"]="ce1";break;default:d.push(e);continue}var N=t(G);if(he.l&&he.l.Target){var M=he.l.Target;M=M.charAt(0)=="#"?"#"+oL(M.slice(1)):M,M.charAt(0)!="#"&&!M.match(/^\w+:/)&&(M="../"+M),N=Pe("text:a",N,{"xlink:href":M.replace(/&/g,"&amp;")})}d.push("          "+Pe("table:table-cell",Pe("text:p",N,{}),X)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},i=function(o,l){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var m=0;m<h["!cols"].length;++m)if(h["!cols"][m]){var y=h["!cols"][m];if(y.width==null&&y.wpx==null&&y.wch==null)continue;s1(y),y.ods=c;var E=h["!cols"][m].wpx+"px";o.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+E+`"/>
`),o.push(`  </style:style>
`),++c}}});var d=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var m=0;m<h["!rows"].length;++m)if(h["!rows"][m]){h["!rows"][m].ods=d;var y=h["!rows"][m].hpx+"px";o.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+y+`"/>
`),o.push(`  </style:style>
`),++d}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(l,c){var d=[In],h=qc({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=qc({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(d.push("<office:document"+h+m+`>
`),d.push(lC().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+h+`>
`),i(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var y=0;y!=l.SheetNames.length;++y)d.push(r(l.Sheets[l.SheetNames[y]],l,y));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),c.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function XC(t,e){if(e.bookType=="fods")return ex(t,e);var n=Xg(),r="",i=[],o=[];return r="mimetype",ut(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",ut(n,r,ex(t,e)),i.push([r,"text/xml"]),o.push([r,"ContentFile"]),r="styles.xml",ut(n,r,B8(t,e)),i.push([r,"text/xml"]),o.push([r,"StylesFile"]),r="meta.xml",ut(n,r,In+lC()),i.push([r,"text/xml"]),o.push([r,"MetadataFile"]),r="manifest.rdf",ut(n,r,ZP(o)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",ut(n,r,$P(i)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ed(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function H8(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):wi(Gc(t))}function G8(t,e){e:for(var n=0;n<=t.length-e.length;++n){for(var r=0;r<e.length;++r)if(t[n+r]!=e[r])continue e;return!0}return!1}function ka(t){var e=t.reduce(function(i,o){return i+o.length},0),n=new Uint8Array(e),r=0;return t.forEach(function(i){n.set(i,r),r+=i.length}),n}function q8(t,e,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);t[e+15]|=r>>7,t[e+14]|=(r&127)<<1;for(var o=0;i>=1;++o,i/=256)t[e+o]=i&255;t[e+15]|=n>=0?0:128}function zc(t,e){var n=e?e[0]:0,r=t[n]&127;e:if(t[n++]>=128&&(r|=(t[n]&127)<<7,t[n++]<128||(r|=(t[n]&127)<<14,t[n++]<128)||(r|=(t[n]&127)<<21,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,28),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,35),++n,t[n++]<128)||(r+=(t[n]&127)*Math.pow(2,42),++n,t[n++]<128)))break e;return e&&(e[0]=n),r}function Lt(t){var e=new Uint8Array(7);e[0]=t&127;var n=1;e:if(t>127){if(e[n-1]|=128,e[n]=t>>7&127,++n,t<=16383||(e[n-1]|=128,e[n]=t>>14&127,++n,t<=2097151)||(e[n-1]|=128,e[n]=t>>21&127,++n,t<=268435455)||(e[n-1]|=128,e[n]=t/256>>>21&127,++n,t<=34359738367)||(e[n-1]|=128,e[n]=t/65536>>>21&127,++n,t<=4398046511103))break e;e[n-1]|=128,e[n]=t/16777216>>>21&127,++n}return e.slice(0,n)}function Ol(t){var e=0,n=t[e]&127;e:if(t[e++]>=128){if(n|=(t[e]&127)<<7,t[e++]<128||(n|=(t[e]&127)<<14,t[e++]<128)||(n|=(t[e]&127)<<21,t[e++]<128))break e;n|=(t[e]&127)<<28}return n}function Dn(t){for(var e=[],n=[0];n[0]<t.length;){var r=n[0],i=zc(t,n),o=i&7;i=Math.floor(i/8);var l=0,c;if(i==0)break;switch(o){case 0:{for(var d=n[0];t[n[0]++]>=128;);c=t.slice(d,n[0])}break;case 5:l=4,c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 1:l=8,c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 2:l=zc(t,n),c=t.slice(n[0],n[0]+l),n[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(r))}var h={data:c,type:o};e[i]==null?e[i]=[h]:e[i].push(h)}return e}function Yn(t){var e=[];return t.forEach(function(n,r){n.forEach(function(i){i.data&&(e.push(Lt(r*8+i.type)),i.type==2&&e.push(Lt(i.data.length)),e.push(i.data))})}),ka(e)}function Ai(t){for(var e,n=[],r=[0];r[0]<t.length;){var i=zc(t,r),o=Dn(t.slice(r[0],r[0]+i));r[0]+=i;var l={id:Ol(o[1][0].data),messages:[]};o[2].forEach(function(c){var d=Dn(c.data),h=Ol(d[3][0].data);l.messages.push({meta:d,data:t.slice(r[0],r[0]+h)}),r[0]+=h}),(e=o[3])!=null&&e[0]&&(l.merge=Ol(o[3][0].data)>>>0>0),n.push(l)}return n}function xl(t){var e=[];return t.forEach(function(n){var r=[];r[1]=[{data:Lt(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Lt(+!!n.merge),type:0}]);var i=[];n.messages.forEach(function(l){i.push(l.data),l.meta[3]=[{type:0,data:Lt(l.data.length)}],r[2].push({data:Yn(l.meta),type:2})});var o=Yn(r);e.push(Lt(o.length)),e.push(o),i.forEach(function(l){return e.push(l)})}),ka(e)}function z8(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var n=[0],r=zc(e,n),i=[];n[0]<e.length;){var o=e[n[0]]&3;if(o==0){var l=e[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=e[n[0]],c>1&&(l|=e[n[0]+1]<<8),c>2&&(l|=e[n[0]+2]<<16),c>3&&(l|=e[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}i.push(e.slice(n[0],n[0]+l)),n[0]+=l;continue}else{var d=0,h=0;if(o==1?(h=(e[n[0]]>>2&7)+4,d=(e[n[0]++]&224)<<3,d|=e[n[0]++]):(h=(e[n[0]++]>>2)+1,o==2?(d=e[n[0]]|e[n[0]+1]<<8,n[0]+=2):(d=(e[n[0]]|e[n[0]+1]<<8|e[n[0]+2]<<16|e[n[0]+3]<<24)>>>0,n[0]+=4)),i=[ka(i)],d==0)throw new Error("Invalid offset 0");if(d>i[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(i.push(i[0].slice(-d)),h-=d;h>=i[i.length-1].length;)i.push(i[i.length-1]),h-=i[i.length-1].length;i.push(i[0].slice(-d,-d+h))}}var m=ka(i);if(m.length!=r)throw new Error("Unexpected length: ".concat(m.length," != ").concat(r));return m}function Ci(t){for(var e=[],n=0;n<t.length;){var r=t[n++],i=t[n]|t[n+1]<<8|t[n+2]<<16;n+=3,e.push(z8(r,t.slice(n,n+i))),n+=i}if(n!==t.length)throw new Error("data is not a valid framed stream!");return ka(e)}function Sl(t){for(var e=[],n=0;n<t.length;){var r=Math.min(t.length-n,268435455),i=new Uint8Array(4);e.push(i);var o=Lt(r),l=o.length;e.push(o),r<=60?(l++,e.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(t.slice(n,n+r)),l+=r,i[0]=0,i[1]=l&255,i[2]=l>>8&255,i[3]=l>>16&255,n+=r}return ka(e)}function Tm(t,e){var n=new Uint8Array(32),r=Ed(n),i=12,o=0;switch(n[0]=5,t.t){case"n":n[1]=2,q8(n,i,t.v),o|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,t.v?1:0,!0),o|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[1]=3,r.setUint32(i,e.indexOf(t.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(8,o,!0),n.slice(0,i)}function Em(t,e){var n=new Uint8Array(32),r=Ed(n),i=12,o=0;switch(n[0]=3,t.t){case"n":n[2]=2,r.setFloat64(i,t.v,!0),o|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,t.v?1:0,!0),o|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));n[2]=3,r.setUint32(i,e.indexOf(t.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return r.setUint32(4,o,!0),n.slice(0,i)}function _a(t){var e=Dn(t);return zc(e[1][0].data)}function Y8(t,e,n){var r,i,o,l;if(!((r=t[6])!=null&&r[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(o=t[8])==null?void 0:o[0])==null?void 0:l.data)&&Ol(t[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var d=0,h=Ed(t[7][0].data),m=0,y=[],E=Ed(t[4][0].data),x=0,R=[],A=0;A<e.length;++A){if(e[A]==null){h.setUint16(A*2,65535,!0),E.setUint16(A*2,65535);continue}h.setUint16(A*2,m,!0),E.setUint16(A*2,x,!0);var I,q;switch(typeof e[A]){case"string":I=Tm({t:"s",v:e[A]},n),q=Em({t:"s",v:e[A]},n);break;case"number":I=Tm({t:"n",v:e[A]},n),q=Em({t:"n",v:e[A]},n);break;case"boolean":I=Tm({t:"b",v:e[A]},n),q=Em({t:"b",v:e[A]},n);break;default:throw new Error("Unsupported value "+e[A])}y.push(I),m+=I.length,R.push(q),x+=q.length,++d}for(t[2][0].data=Lt(d);A<t[7][0].data.length/2;++A)h.setUint16(A*2,65535,!0),E.setUint16(A*2,65535,!0);return t[6][0].data=ka(y),t[3][0].data=ka(R),d}function K8(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Kr(n["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Rn(r)));var o=xd(n,{range:r,header:1}),l=["~Sh33tJ5~"];o.forEach(function(j){return j.forEach(function(J){typeof J=="string"&&l.push(J)})});var c={},d=[],h=zt.read(e.numbers,{type:"base64"});h.FileIndex.map(function(j,J){return[j,h.FullPaths[J]]}).forEach(function(j){var J=j[0],Q=j[1];if(J.type==2&&J.name.match(/\.iwa/)){var pe=J.content,De=Ci(pe),Ue=Ai(De);Ue.forEach(function(be){d.push(be.id),c[be.id]={deps:[],location:Q,type:Ol(be.messages[0].meta[1][0].data)}})}}),d.sort(function(j,J){return j-J});var m=d.filter(function(j){return j>1}).map(function(j){return[j,Lt(j)]});h.FileIndex.map(function(j,J){return[j,h.FullPaths[J]]}).forEach(function(j){var J=j[0];if(j[1],!!J.name.match(/\.iwa/)){var Q=Ai(Ci(J.content));Q.forEach(function(pe){pe.messages.forEach(function(De){m.forEach(function(Ue){pe.messages.some(function(be){return Ol(be.meta[1][0].data)!=11006&&G8(be.data,Ue[1])})&&c[Ue[0]].deps.push(pe.id)})})})}});for(var y=zt.find(h,c[1].location),E=Ai(Ci(y.content)),x,R=0;R<E.length;++R){var A=E[R];A.id==1&&(x=A)}var I=_a(Dn(x.messages[0].data)[1][0].data);for(y=zt.find(h,c[I].location),E=Ai(Ci(y.content)),R=0;R<E.length;++R)A=E[R],A.id==I&&(x=A);for(I=_a(Dn(x.messages[0].data)[2][0].data),y=zt.find(h,c[I].location),E=Ai(Ci(y.content)),R=0;R<E.length;++R)A=E[R],A.id==I&&(x=A);for(I=_a(Dn(x.messages[0].data)[2][0].data),y=zt.find(h,c[I].location),E=Ai(Ci(y.content)),R=0;R<E.length;++R)A=E[R],A.id==I&&(x=A);var q=Dn(x.messages[0].data);{q[6][0].data=Lt(r.e.r+1),q[7][0].data=Lt(r.e.c+1);var X=_a(q[46][0].data),G=zt.find(h,c[X].location),te=Ai(Ci(G.content));{for(var he=0;he<te.length&&te[he].id!=X;++he);if(te[he].id!=X)throw"Bad ColumnRowUIDMapArchive";var me=Dn(te[he].messages[0].data);me[1]=[],me[2]=[],me[3]=[];for(var N=0;N<=r.e.c;++N){var M=[];M[1]=M[2]=[{type:0,data:Lt(N+420690)}],me[1].push({type:2,data:Yn(M)}),me[2].push({type:0,data:Lt(N)}),me[3].push({type:0,data:Lt(N)})}me[4]=[],me[5]=[],me[6]=[];for(var D=0;D<=r.e.r;++D)M=[],M[1]=M[2]=[{type:0,data:Lt(D+726270)}],me[4].push({type:2,data:Yn(M)}),me[5].push({type:0,data:Lt(D)}),me[6].push({type:0,data:Lt(D)});te[he].messages[0].data=Yn(me)}G.content=Sl(xl(te)),G.size=G.content.length,delete q[46];var k=Dn(q[4][0].data);{k[7][0].data=Lt(r.e.r+1);var F=Dn(k[1][0].data),K=_a(F[2][0].data);G=zt.find(h,c[K].location),te=Ai(Ci(G.content));{if(te[0].id!=K)throw"Bad HeaderStorageBucket";var L=Dn(te[0].messages[0].data);for(D=0;D<o.length;++D){var Ye=Dn(L[2][0].data);Ye[1][0].data=Lt(D),Ye[4][0].data=Lt(o[D].length),L[2][D]={type:L[2][0].type,data:Yn(Ye)}}te[0].messages[0].data=Yn(L)}G.content=Sl(xl(te)),G.size=G.content.length;var Ee=_a(k[2][0].data);G=zt.find(h,c[Ee].location),te=Ai(Ci(G.content));{if(te[0].id!=Ee)throw"Bad HeaderStorageBucket";for(L=Dn(te[0].messages[0].data),N=0;N<=r.e.c;++N)Ye=Dn(L[2][0].data),Ye[1][0].data=Lt(N),Ye[4][0].data=Lt(r.e.r+1),L[2][N]={type:L[2][0].type,data:Yn(Ye)};te[0].messages[0].data=Yn(L)}G.content=Sl(xl(te)),G.size=G.content.length;var ie=_a(k[4][0].data);(function(){for(var j=zt.find(h,c[ie].location),J=Ai(Ci(j.content)),Q,pe=0;pe<J.length;++pe){var De=J[pe];De.id==ie&&(Q=De)}var Ue=Dn(Q.messages[0].data);{Ue[3]=[];var be=[];l.forEach(function(lt,on){be[1]=[{type:0,data:Lt(on)}],be[2]=[{type:0,data:Lt(1)}],be[3]=[{type:2,data:H8(lt)}],Ue[3].push({type:2,data:Yn(be)})})}Q.messages[0].data=Yn(Ue);var Oe=xl(J),_t=Sl(Oe);j.content=_t,j.size=j.content.length})();var we=Dn(k[3][0].data);{var Be=we[1][0];delete we[2];var Xe=Dn(Be.data);{var je=_a(Xe[2][0].data);(function(){for(var j=zt.find(h,c[je].location),J=Ai(Ci(j.content)),Q,pe=0;pe<J.length;++pe){var De=J[pe];De.id==je&&(Q=De)}var Ue=Dn(Q.messages[0].data);{delete Ue[6],delete we[7];var be=new Uint8Array(Ue[5][0].data);Ue[5]=[];for(var Oe=0,_t=0;_t<=r.e.r;++_t){var lt=Dn(be);Oe+=Y8(lt,o[_t],l),lt[1][0].data=Lt(_t),Ue[5].push({data:Yn(lt),type:2})}Ue[1]=[{type:0,data:Lt(r.e.c+1)}],Ue[2]=[{type:0,data:Lt(r.e.r+1)}],Ue[3]=[{type:0,data:Lt(Oe)}],Ue[4]=[{type:0,data:Lt(r.e.r+1)}]}Q.messages[0].data=Yn(Ue);var on=xl(J),at=Sl(on);j.content=at,j.size=j.content.length})()}Be.data=Yn(Xe)}k[3][0].data=Yn(we)}q[4][0].data=Yn(k)}x.messages[0].data=Yn(q);var ee=xl(E),O=Sl(ee);return y.content=O,y.size=y.content.length,h}function W8(t){return function(n){for(var r=0;r!=t.length;++r){var i=t[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function c1(t){W8([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function X8(t,e){return e.bookType=="ods"?XC(t,e):e.bookType=="numbers"?K8(t,e):e.bookType=="xlsb"?J8(t,e):$8(t,e)}function J8(t,e){Il=1024,t&&!t.SSF&&(t.SSF=Dr(hn)),t&&t.SSF&&(Kd(),Yd(t.SSF),e.revssf=Wd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Rc?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n=e.bookType=="xlsb"?"bin":"xml",r=DC.indexOf(e.bookType)>-1,i=sC();c1(e=e||{});var o=Xg(),l="",c=0;if(e.cellXfs=[],Va(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",ut(o,l,uC(t.Props,e)),i.coreprops.push(l),kt(e.rels,2,l,xt.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}for(t.Props.Worksheets=t.Props.SheetNames.length,ut(o,l,fC(t.Props)),i.extprops.push(l),kt(e.rels,3,l,xt.EXT_PROPS),t.Custprops!==t.Props&&jn(t.Custprops||{}).length>0&&(l="docProps/custom.xml",ut(o,l,hC(t.Custprops)),i.custprops.push(l),kt(e.rels,4,l,xt.CUST_PROPS)),c=1;c<=t.SheetNames.length;++c){var m={"!id":{}},y=t.Sheets[t.SheetNames[c-1]],E=(y||{})["!type"]||"sheet";switch(E){case"chart":default:l="xl/worksheets/sheet"+c+"."+n,ut(o,l,Zk(c-1,l,e,t,m)),i.sheets.push(l),kt(e.wbrels,-1,"worksheets/sheet"+c+"."+n,xt.WS[0])}if(y){var x=y["!comments"],R=!1,A="";x&&x.length>0&&(A="xl/comments"+c+"."+n,ut(o,A,t8(x,A)),i.comments.push(A),kt(m,-1,"../comments"+c+"."+n,xt.CMNT),R=!0),y["!legacy"]&&R&&ut(o,"xl/drawings/vmlDrawing"+c+".vml",IC(c,y["!comments"])),delete y["!comments"],delete y["!legacy"]}m["!id"].rId1&&ut(o,oC(l),Ll(m))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+n,ut(o,l,e8(e.Strings,l,e)),i.strs.push(l),kt(e.wbrels,-1,"sharedStrings."+n,xt.SST)),l="xl/workbook."+n,ut(o,l,Qk(t,l)),i.workbooks.push(l),kt(e.rels,1,l,xt.WB),l="xl/theme/theme1.xml",ut(o,l,wC(t.Themes,e)),i.themes.push(l),kt(e.wbrels,-1,"theme/theme1.xml",xt.THEME),l="xl/styles."+n,ut(o,l,jk(t,l,e)),i.styles.push(l),kt(e.wbrels,-1,"styles."+n,xt.STY),t.vbaraw&&r&&(l="xl/vbaProject.bin",ut(o,l,t.vbaraw),i.vba.push(l),kt(e.wbrels,-1,"vbaProject.bin",xt.VBA)),l="xl/metadata."+n,ut(o,l,n8(l)),i.metadata.push(l),kt(e.wbrels,-1,"metadata."+n,xt.XLMETA),ut(o,"[Content_Types].xml",aC(i,e)),ut(o,"_rels/.rels",Ll(e.rels)),ut(o,"xl/_rels/workbook."+n+".rels",Ll(e.wbrels)),delete e.revssf,delete e.ssf,o}function $8(t,e){Il=1024,t&&!t.SSF&&(t.SSF=Dr(hn)),t&&t.SSF&&(Kd(),Yd(t.SSF),e.revssf=Wd(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Rc?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var n="xml",r=DC.indexOf(e.bookType)>-1,i=sC();c1(e=e||{});var o=Xg(),l="",c=0;if(e.cellXfs=[],Va(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),l="docProps/core.xml",ut(o,l,uC(t.Props,e)),i.coreprops.push(l),kt(e.rels,2,l,xt.CORE_PROPS),l="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var d=[],h=0;h<t.SheetNames.length;++h)(t.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(t.SheetNames[h]);t.Props.SheetNames=d}t.Props.Worksheets=t.Props.SheetNames.length,ut(o,l,fC(t.Props)),i.extprops.push(l),kt(e.rels,3,l,xt.EXT_PROPS),t.Custprops!==t.Props&&jn(t.Custprops||{}).length>0&&(l="docProps/custom.xml",ut(o,l,hC(t.Custprops)),i.custprops.push(l),kt(e.rels,4,l,xt.CUST_PROPS));var m=["SheetJ5"];for(e.tcid=0,c=1;c<=t.SheetNames.length;++c){var y={"!id":{}},E=t.Sheets[t.SheetNames[c-1]],x=(E||{})["!type"]||"sheet";switch(x){case"chart":default:l="xl/worksheets/sheet"+c+"."+n,ut(o,l,UC(c-1,e,t,y)),i.sheets.push(l),kt(e.wbrels,-1,"worksheets/sheet"+c+"."+n,xt.WS[0])}if(E){var R=E["!comments"],A=!1,I="";if(R&&R.length>0){var q=!1;R.forEach(function(X){X[1].forEach(function(G){G.T==!0&&(q=!0)})}),q&&(I="xl/threadedComments/threadedComment"+c+"."+n,ut(o,I,RF(R,m,e)),i.threadedcomments.push(I),kt(y,-1,"../threadedComments/threadedComment"+c+"."+n,xt.TCMNT)),I="xl/comments"+c+"."+n,ut(o,I,NC(R)),i.comments.push(I),kt(y,-1,"../comments"+c+"."+n,xt.CMNT),A=!0}E["!legacy"]&&A&&ut(o,"xl/drawings/vmlDrawing"+c+".vml",IC(c,E["!comments"])),delete E["!comments"],delete E["!legacy"]}y["!id"].rId1&&ut(o,oC(l),Ll(y))}return e.Strings!=null&&e.Strings.length>0&&(l="xl/sharedStrings."+n,ut(o,l,TC(e.Strings,e)),i.strs.push(l),kt(e.wbrels,-1,"sharedStrings."+n,xt.SST)),l="xl/workbook."+n,ut(o,l,GC(t)),i.workbooks.push(l),kt(e.rels,1,l,xt.WB),l="xl/theme/theme1.xml",ut(o,l,wC(t.Themes,e)),i.themes.push(l),kt(e.wbrels,-1,"theme/theme1.xml",xt.THEME),l="xl/styles."+n,ut(o,l,AC(t,e)),i.styles.push(l),kt(e.wbrels,-1,"styles."+n,xt.STY),t.vbaraw&&r&&(l="xl/vbaProject.bin",ut(o,l,t.vbaraw),i.vba.push(l),kt(e.wbrels,-1,"vbaProject.bin",xt.VBA)),l="xl/metadata."+n,ut(o,l,RC()),i.metadata.push(l),kt(e.wbrels,-1,"metadata."+n,xt.XLMETA),m.length>1&&(l="xl/persons/person.xml",ut(o,l,IF(m)),i.people.push(l),kt(e.wbrels,-1,"persons/person.xml",xt.PEOPLE)),ut(o,"[Content_Types].xml",aC(i,e)),ut(o,"_rels/.rels",Ll(e.rels)),ut(o,"xl/_rels/workbook."+n+".rels",Ll(e.wbrels)),delete e.revssf,delete e.ssf,o}function Q8(t,e){var n="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":n=bs(t.slice(0,12));break;case"binary":n=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function JC(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Zc(e.file,zt.write(t,{type:wt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return zt.write(t,e)}function Z8(t,e){var n=Dr(e||{}),r=X8(t,n);return j8(r,n)}function j8(t,e){var n={},r=wt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(n.compression="DEFLATE"),e.password)n.type=r;else switch(e.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?zt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!e.compression}):t.generate(n);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(zd(i))}return e.password&&typeof encrypt_agile<"u"?JC(encrypt_agile(i,e.password),e):e.type==="file"?Zc(e.file,i):e.type=="string"?Sc(i):i}function eO(t,e){var n=e||{},r=g8(t,n);return JC(r,n)}function zi(t,e,n){n||(n="");var r=n+t;switch(e.type){case"base64":return Bc(Gc(r));case"binary":return Gc(r);case"string":return t;case"file":return Zc(e.file,r,"utf8");case"buffer":return wt?Ls(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):zi(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function tO(t,e){switch(e.type){case"base64":return Bc(t);case"binary":return t;case"string":return t;case"file":return Zc(e.file,t,"binary");case"buffer":return wt?Ls(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function kh(t,e){switch(e.type){case"string":case"base64":case"binary":for(var n="",r=0;r<t.length;++r)n+=String.fromCharCode(t[r]);return e.type=="base64"?Bc(n):e.type=="string"?Sc(n):n;case"file":return Zc(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function $C(t,e){Nb(),Bk(t);var n=Dr(e||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=$C(t,n);return n.type="array",zd(r)}var i=0;if(n.sheet&&(typeof n.sheet=="number"?i=n.sheet:i=t.SheetNames.indexOf(n.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return zi(p8(t,n),n);case"slk":case"sylk":return zi(O6.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"htm":case"html":return zi(YC(t.Sheets[t.SheetNames[i]],n),n);case"txt":return tO(QC(t.Sheets[t.SheetNames[i]],n),n);case"csv":return zi(f1(t.Sheets[t.SheetNames[i]],n),n,"\uFEFF");case"dif":return zi(V6.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"dbf":return kh(k6.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"prn":return zi(U6.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"rtf":return zi(K6.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"eth":return zi(yC.from_sheet(t.Sheets[t.SheetNames[i]],n),n);case"fods":return zi(XC(t,n),n);case"wk1":return kh(WE.sheet_to_wk1(t.Sheets[t.SheetNames[i]],n),n);case"wk3":return kh(WE.book_to_wk3(t,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),kh(zC(t,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),eO(t,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Z8(t,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function nO(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(t.bookType=n.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function tx(t,e,n){var r={};return r.type="file",r.file=e,nO(r),$C(t,r)}function rO(t,e,n,r,i,o,l,c){var d=Qn(n),h=c.defval,m=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),y=!0,E=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(E,"__rowNum__",{value:n,enumerable:!1})}catch{E.__rowNum__=n}else E.__rowNum__=n;if(!l||t[n])for(var x=e.s.c;x<=e.e.c;++x){var R=l?t[n][x]:t[r[x]+d];if(R===void 0||R.t===void 0){if(h===void 0)continue;o[x]!=null&&(E[o[x]]=h);continue}var A=R.v;switch(R.t){case"z":if(A==null)break;continue;case"e":A=A==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+R.t)}if(o[x]!=null){if(A==null)if(R.t=="e"&&A===null)E[o[x]]=null;else if(h!==void 0)E[o[x]]=h;else if(m&&A===null)E[o[x]]=null;else continue;else E[o[x]]=m&&(R.t!=="n"||R.t==="n"&&c.rawNumbers!==!1)?A:Ps(R,A,c);A!=null&&(y=!1)}}return{row:E,isempty:y}}function xd(t,e){if(t==null||t["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,o=[],l=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},m=h.range!=null?h.range:t["!ref"];switch(h.header===1?r=1:h.header==="A"?r=2:Array.isArray(h.header)?r=3:h.header==null&&(r=0),typeof m){case"string":d=en(m);break;case"number":d=en(t["!ref"]),d.s.r=m;break;default:d=m}r>0&&(i=0);var y=Qn(d.s.r),E=[],x=[],R=0,A=0,I=Array.isArray(t),q=d.s.r,X=0,G={};I&&!t[q]&&(t[q]=[]);var te=h.skipHidden&&t["!cols"]||[],he=h.skipHidden&&t["!rows"]||[];for(X=d.s.c;X<=d.e.c;++X)if(!(te[X]||{}).hidden)switch(E[X]=lr(X),n=I?t[q][X]:t[E[X]+y],r){case 1:o[X]=X-d.s.c;break;case 2:o[X]=E[X];break;case 3:o[X]=h.header[X-d.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=l=Ps(n,null,h),A=G[l]||0,!A)G[l]=1;else{do c=l+"_"+A++;while(G[c]);G[l]=A,G[c]=1}o[X]=c}for(q=d.s.r+i;q<=d.e.r;++q)if(!(he[q]||{}).hidden){var me=rO(t,d,q,E,r,o,I,h);(me.isempty===!1||(r===1?h.blankrows!==!1:h.blankrows))&&(x[R++]=me.row)}return x.length=R,x}var nx=/"/g;function iO(t,e,n,r,i,o,l,c){for(var d=!0,h=[],m="",y=Qn(n),E=e.s.c;E<=e.e.c;++E)if(r[E]){var x=c.dense?(t[n]||[])[E]:t[r[E]+y];if(x==null)m="";else if(x.v!=null){d=!1,m=""+(c.rawNumbers&&x.t=="n"?x.v:Ps(x,null,c));for(var R=0,A=0;R!==m.length;++R)if((A=m.charCodeAt(R))===i||A===o||A===34||c.forceQuotes){m='"'+m.replace(nx,'""')+'"';break}m=="ID"&&(m='"ID"')}else x.f!=null&&!x.F?(d=!1,m="="+x.f,m.indexOf(",")>=0&&(m='"'+m.replace(nx,'""')+'"')):m="";h.push(m)}return c.blankrows===!1&&d?null:h.join(l)}function f1(t,e){var n=[],r=e??{};if(t==null||t["!ref"]==null)return"";var i=en(t["!ref"]),o=r.FS!==void 0?r.FS:",",l=o.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,d=c.charCodeAt(0),h=new RegExp((o=="|"?"\\|":o)+"+$"),m="",y=[];r.dense=Array.isArray(t);for(var E=r.skipHidden&&t["!cols"]||[],x=r.skipHidden&&t["!rows"]||[],R=i.s.c;R<=i.e.c;++R)(E[R]||{}).hidden||(y[R]=lr(R));for(var A=0,I=i.s.r;I<=i.e.r;++I)(x[I]||{}).hidden||(m=iO(t,i,I,y,l,d,o,r),m!=null&&(r.strip&&(m=m.replace(h,"")),(m||r.blankrows!==!1)&&n.push((A++?c:"")+m)));return delete r.dense,n.join("")}function QC(t,e){e||(e={}),e.FS="	",e.RS=`
`;var n=f1(t,e);return n}function sO(t){var e="",n,r="";if(t==null||t["!ref"]==null)return[];var i=en(t["!ref"]),o="",l=[],c,d=[],h=Array.isArray(t);for(c=i.s.c;c<=i.e.c;++c)l[c]=lr(c);for(var m=i.s.r;m<=i.e.r;++m)for(o=Qn(m),c=i.s.c;c<=i.e.c;++c)if(e=l[c]+o,n=h?(t[m]||[])[c]:t[e],r="",n!==void 0){if(n.F!=null){if(e=n.F,!n.f)continue;r=n.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}d[d.length]=e+"="+r}return d}function ZC(t,e,n){var r=n||{},i=+!r.skipHeader,o=t||{},l=0,c=0;if(o&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var d=typeof r.origin=="string"?Vn(r.origin):r.origin;l=d.r,c=d.c}var h,m={s:{c:0,r:0},e:{c,r:l+e.length-1+i}};if(o["!ref"]){var y=en(o["!ref"]);m.e.c=Math.max(m.e.c,y.e.c),m.e.r=Math.max(m.e.r,y.e.r),l==-1&&(l=y.e.r+1,m.e.r=l+e.length-1+i)}else l==-1&&(l=0,m.e.r=e.length-1+i);var E=r.header||[],x=0;e.forEach(function(A,I){jn(A).forEach(function(q){(x=E.indexOf(q))==-1&&(E[x=E.length]=q);var X=A[q],G="z",te="",he=Vt({c:c+x,r:l+I+i});h=Yc(o,he),X&&typeof X=="object"&&!(X instanceof Date)?o[he]=X:(typeof X=="number"?G="n":typeof X=="boolean"?G="b":typeof X=="string"?G="s":X instanceof Date?(G="d",r.cellDates||(G="n",X=Nr(X)),te=r.dateNF||hn[14]):X===null&&r.nullError&&(G="e",X=0),h?(h.t=G,h.v=X,delete h.w,delete h.R,te&&(h.z=te)):o[he]=h={t:G,v:X},te&&(h.z=te))})}),m.e.c=Math.max(m.e.c,c+E.length-1);var R=Qn(l);if(i)for(x=0;x<E.length;++x)o[lr(x+c)+R]={t:"s",v:E[x]};return o["!ref"]=Rn(m),o}function aO(t,e){return ZC(null,t,e)}function Yc(t,e,n){if(typeof e=="string"){if(Array.isArray(t)){var r=Vn(e);return t[r.r]||(t[r.r]=[]),t[r.r][r.c]||(t[r.r][r.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Yc(t,Vt(e)):Yc(t,Vt({r:e,c:n||0}))}function oO(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var n=t.SheetNames.indexOf(e);if(n>-1)return n;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function lO(){return{SheetNames:[],Sheets:{}}}function uO(t,e,n,r){var i=1;if(!n)for(;i<=65535&&t.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&t.SheetNames.indexOf(n)>=0){var o=n.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var l=o&&o[1]||n;for(++i;i<=65535&&t.SheetNames.indexOf(n=l+i)!=-1;++i);}if(HC(n),t.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return t.SheetNames.push(n),t.Sheets[n]=e,n}function cO(t,e,n){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var r=oO(t,e);switch(t.Workbook.Sheets[r]||(t.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}t.Workbook.Sheets[r].Hidden=n}function fO(t,e){return t.z=e,t}function jC(t,e,n){return e?(t.l={Target:e},n&&(t.l.Tooltip=n)):delete t.l,t}function hO(t,e,n){return jC(t,"#"+e,n)}function dO(t,e,n){t.c||(t.c=[]),t.c.push({t:e,a:n||"SheetJS"})}function pO(t,e,n,r){for(var i=typeof e!="string"?e:en(e),o=typeof e=="string"?e:Rn(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c){var d=Yc(t,l,c);d.t="n",d.F=o,delete d.v,l==i.s.r&&c==i.s.c&&(d.f=n,r&&(d.D=!0))}return t}var xm={encode_col:lr,encode_row:Qn,encode_cell:Vt,encode_range:Rn,decode_col:e1,decode_row:jg,split_cell:NP,decode_cell:Vn,decode_range:Kr,format_cell:Ps,sheet_add_aoa:j2,sheet_add_json:ZC,sheet_add_dom:KC,aoa_to_sheet:nu,json_to_sheet:aO,table_to_sheet:WC,table_to_book:V8,sheet_to_csv:f1,sheet_to_txt:QC,sheet_to_json:xd,sheet_to_html:YC,sheet_to_formulae:sO,sheet_to_row_object_array:xd,sheet_get_cell:Yc,book_new:lO,book_append_sheet:uO,book_set_sheet_visibility:cO,cell_set_number_format:fO,cell_set_hyperlink:jC,cell_set_internal_link:hO,cell_add_comment:dO,sheet_set_array_formula:pO,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let mO,gO;function _O(){return{geminiUrl:mO,vertexUrl:gO}}function vO(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const l=_O();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(o=l.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ks{}function He(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2);if(!(c in t))if(Array.isArray(n))t[c]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(t[c])){const d=t[c];if(Array.isArray(n))for(let h=0;h<d.length;h++){const m=d[h];g(m,e.slice(o+1),n[h])}else for(const h of d)g(h,e.slice(o+1),n)}return}else if(l.endsWith("[0]")){const c=l.slice(0,-3);c in t||(t[c]=[{}]);const d=t[c];g(d[0],e.slice(o+1),n);return}(!t[l]||typeof t[l]!="object")&&(t[l]={}),t=t[l]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const l=t[o];return Array.isArray(l)?l.map(c=>p(c,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function yO(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),l=new Set;let c=-1;for(let d=0;d<i.length;d++)if(i[d]==="*"){c=d;break}if(c!==-1&&o.length>c)for(let d=c;d<o.length;d++){const h=o[d];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&l.add(h)}Zm(t,i,o,0,l)}}function Zm(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const l=o.slice(0,-2),c=t;if(l in c&&Array.isArray(c[l]))for(const d of c[l])Zm(d,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const l=t,c=Object.keys(l).filter(h=>!h.startsWith("_")&&!i.has(h)),d={};for(const h of c)d[h]=l[h];for(const[h,m]of Object.entries(d)){const y=[];for(const E of n.slice(r))E==="*"?y.push(h):y.push(E);g(l,y,m)}for(const h of c)delete l[h]}}else{const l=t;o in l&&Zm(l[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h1(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TO(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function EO(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response","generateVideoResponse"]);return l!=null&&g(e,["response"],SO(l)),e}function xO(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response"]);return l!=null&&g(e,["response"],AO(l)),e}function SO(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>CO(l))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function AO(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>wO(l))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function CO(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],bO(n)),e}function wO(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],PO(n)),e}function RO(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function IO(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function NO(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response"]);return l!=null&&g(e,["response"],DO(l)),e}function DO(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function ew(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response"]);return l!=null&&g(e,["response"],MO(l)),e}function MO(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function bO(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],h1(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function PO(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],h1(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var rx;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(rx||(rx={}));var ix;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ix||(ix={}));var sx;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(sx||(sx={}));var Sa;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Sa||(Sa={}));var ax;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ax||(ax={}));var ox;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ox||(ox={}));var lx;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(lx||(lx={}));var ux;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ux||(ux={}));var cx;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(cx||(cx={}));var fx;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(fx||(fx={}));var hx;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(hx||(hx={}));var dx;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(dx||(dx={}));var px;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(px||(px={}));var mx;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(mx||(mx={}));var gx;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(gx||(gx={}));var _x;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_x||(_x={}));var vx;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(vx||(vx={}));var yx;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(yx||(yx={}));var Tx;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Tx||(Tx={}));var Sd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Sd||(Sd={}));var Ex;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ex||(Ex={}));var xx;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(xx||(xx={}));var Sx;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Sx||(Sx={}));var jm;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(jm||(jm={}));var Ax;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Ax||(Ax={}));var Cx;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Cx||(Cx={}));var wx;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(wx||(wx={}));var Rx;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Rx||(Rx={}));var Ix;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ix||(Ix={}));var Nx;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Nx||(Nx={}));var Dx;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Dx||(Dx={}));var Mx;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Mx||(Mx={}));var bx;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(bx||(bx={}));var Px;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Px||(Px={}));var Fx;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Fx||(Fx={}));var Lx;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Lx||(Lx={}));var kx;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(kx||(kx={}));var Ox;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ox||(Ox={}));var Vx;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Vx||(Vx={}));var Ux;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Ux||(Ux={}));var Bx;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Bx||(Bx={}));var Hx;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Hx||(Hx={}));var Gx;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Gx||(Gx={}));var qx;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(qx||(qx={}));var zx;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(zx||(zx={}));var Yx;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Yx||(Yx={}));var Kx;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Kx||(Kx={}));var Wx;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Wx||(Wx={}));var Xx;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Xx||(Xx={}));var Jx;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Jx||(Jx={}));var $x;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})($x||($x={}));var Qx;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Qx||(Qx={}));var Zx;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Zx||(Zx={}));var jx;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(jx||(jx={}));var Nl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Nl||(Nl={}));class eg{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ac{get text(){var e,n,r,i,o,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",m=!1;const y=[];for(const E of(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[x,R]of Object.entries(E))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(R!==null||R!==void 0)&&y.push(x);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;m=!0,h+=E.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?h:void 0}get data(){var e,n,r,i,o,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const m=[];for(const y of(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)!==null&&d!==void 0?d:[]){for(const[E,x]of Object.entries(y))E!=="inlineData"&&(x!==null||x!==void 0)&&m.push(E);y.inlineData&&typeof y.inlineData.data=="string"&&(h+=atob(y.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,r,i,o,l,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,r,i,o,l,c,d,h;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return(h=m==null?void 0:m[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,r,i,o,l,c,d,h;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(d=(c=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||c===void 0?void 0:c.parts)===null||d===void 0?void 0:d.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return(h=m==null?void 0:m[0])===null||h===void 0?void 0:h.output}}class eS{}class tS{}class FO{}class LO{}class kO{}class OO{}class nS{}class rS{}class iS{}class VO{}class Ad{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Ad;let i;const o=e;return n?i=xO(o):i=EO(o),Object.assign(r,i),r}}class sS{}class aS{}class oS{}class lS{}class UO{}class BO{}class HO{}class d1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new d1,o=NO(e);return Object.assign(r,o),r}}class GO{}class qO{}class zO{}class uS{}class YO{get text(){var e,n,r;let i="",o=!1;const l=[];for(const c of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[d,h]of Object.entries(c))d!=="text"&&d!=="thought"&&h!==null&&l.push(d);if(typeof c.text=="string"){if(typeof c.thought=="boolean"&&c.thought)continue;o=!0,i+=c.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(l))c!=="inlineData"&&d!==null&&o.push(c);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class KO{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class p1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new p1,o=ew(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function St(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function tw(t,e){const n=St(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function nw(t){return Array.isArray(t)?t.map(e=>Cd(e)):[Cd(t)]}function Cd(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function rw(t){const e=Cd(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function iw(t){const e=Cd(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function cS(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function sw(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>cS(e)):[cS(t)]}function tg(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function fS(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function hS(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function or(t){if(t==null)throw new Error("ContentUnion is required");return tg(t)?t:{role:"user",parts:sw(t)}}function m1(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=or(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=or(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>or(n)):[or(e)]}function fi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(fS(t)||hS(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[or(t)]}const e=[],n=[],r=tg(t[0]);for(const i of t){const o=tg(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(fS(i)||hS(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:sw(n)}),e}function WO(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Sa).includes(n[0].toUpperCase())?n[0].toUpperCase():Sa.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Sa).includes(r.toUpperCase())?r.toUpperCase():Sa.TYPE_UNSPECIFIED})}}function Vl(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&WO(t.type,e);for(const[l,c]of Object.entries(t))if(c!=null)if(l=="type"){if(c==="null")throw new Error("type: null can not be the only possible type for the field.");if(c instanceof Array)continue;e.type=Object.values(Sa).includes(c.toUpperCase())?c.toUpperCase():Sa.TYPE_UNSPECIFIED}else if(n.includes(l))e[l]=Vl(c);else if(r.includes(l)){const d=[];for(const h of c){if(h.type=="null"){e.nullable=!0;continue}d.push(Vl(h))}e[l]=d}else if(i.includes(l)){const d={};for(const[h,m]of Object.entries(c))d[h]=Vl(m);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=c}return e}function g1(t){return Vl(t)}function _1(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function v1(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function su(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Vl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Vl(e.response));return t}function au(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function XO(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Os(t,e){if(typeof e!="string")throw new Error("name must be a string");return XO(t,e,"cachedContents")}function aw(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ua(t){return h1(t)}function JO(t){return t!=null&&typeof t=="object"&&"name"in t}function $O(t){return t!=null&&typeof t=="object"&&"video"in t}function QO(t){return t!=null&&typeof t=="object"&&"uri"in t}function ow(t){var e;let n;if(JO(t)&&(n=t.name),!(QO(t)&&(n=t.uri,n===void 0))&&!($O(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function lw(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function uw(t){for(const e of["models","tunedModels","publisherModels"])if(ZO(t,e))return t[e];return[]}function ZO(t,e){return t!==null&&typeof t=="object"&&e in t}function jO(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function eV(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=jO(i,e);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function cw(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function tV(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function fw(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ou(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function hw(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nV(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>kV(l))),g(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["inlinedEmbedContentResponses"],o)}return e}function rV(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function iV(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function zh(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&g(e,["state"],hw(i));const o=p(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["metadata","endTime"]);l!=null&&g(e,["endTime"],l);const c=p(t,["metadata","updateTime"]);c!=null&&g(e,["updateTime"],c);const d=p(t,["metadata","model"]);d!=null&&g(e,["model"],d);const h=p(t,["metadata","output"]);return h!=null&&g(e,["dest"],nV(fw(h))),e}function ng(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],hw(i));const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["createTime"]);l!=null&&g(e,["createTime"],l);const c=p(t,["startTime"]);c!=null&&g(e,["startTime"],c);const d=p(t,["endTime"]);d!=null&&g(e,["endTime"],d);const h=p(t,["updateTime"]);h!=null&&g(e,["updateTime"],h);const m=p(t,["model"]);m!=null&&g(e,["model"],m);const y=p(t,["inputConfig"]);y!=null&&g(e,["src"],sV(y));const E=p(t,["outputConfig"]);E!=null&&g(e,["dest"],rV(fw(E)));const x=p(t,["completionStats"]);return x!=null&&g(e,["completionStats"],x),e}function sV(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function aV(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>LV(t,l))),g(n,["requests","requests"],o)}return n}function oV(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function lV(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function uV(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],ou(t,r)),n}function cV(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],ou(t,r)),n}function fV(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],hV(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const l=p(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const d=p(t,["index"]);d!=null&&g(e,["index"],d);const h=p(t,["logprobsResult"]);h!=null&&g(e,["logprobsResult"],h);const m=p(t,["safetyRatings"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(x=>x)),g(e,["safetyRatings"],E)}const y=p(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function hV(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function dw(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>qV(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function dV(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function pV(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],iV(tV(i))),n}function dS(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],aV(t,cw(t,i)));const o=p(e,["config"]);return o!=null&&dV(o,n),n}function mV(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],St(t,r));const i=p(e,["src"]);i!=null&&g(n,["inputConfig"],oV(cw(t,i)));const o=p(e,["config"]);return o!=null&&pV(o,n),n}function gV(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function _V(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],AV(t,i));const o=p(e,["config"]);return o!=null&&gV(o,n),n}function vV(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],ou(t,r)),n}function yV(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],ou(t,r)),n}function TV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function EV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function xV(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=m1(t,r);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(g(n,["_self"],SV(i,n)),yO(n,{"requests[].*":"requests[].request.*"})),n}function SV(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function AV(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],xV(t,i)),n}function CV(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function wV(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function RV(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&g(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function IV(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],dw(or(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const l=p(e,["topP"]);l!=null&&g(r,["topP"],l);const c=p(e,["topK"]);c!=null&&g(r,["topK"],c);const d=p(e,["candidateCount"]);d!=null&&g(r,["candidateCount"],d);const h=p(e,["maxOutputTokens"]);h!=null&&g(r,["maxOutputTokens"],h);const m=p(e,["stopSequences"]);m!=null&&g(r,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(r,["responseLogprobs"],y);const E=p(e,["logprobs"]);E!=null&&g(r,["logprobs"],E);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const R=p(e,["frequencyPenalty"]);R!=null&&g(r,["frequencyPenalty"],R);const A=p(e,["seed"]);A!=null&&g(r,["seed"],A);const I=p(e,["responseMimeType"]);I!=null&&g(r,["responseMimeType"],I);const q=p(e,["responseSchema"]);q!=null&&g(r,["responseSchema"],g1(q));const X=p(e,["responseJsonSchema"]);if(X!=null&&g(r,["responseJsonSchema"],X),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=p(e,["safetySettings"]);if(n!==void 0&&G!=null){let L=G;Array.isArray(L)&&(L=L.map(Ye=>zV(Ye))),g(n,["safetySettings"],L)}const te=p(e,["tools"]);if(n!==void 0&&te!=null){let L=au(te);Array.isArray(L)&&(L=L.map(Ye=>KV(su(Ye)))),g(n,["tools"],L)}const he=p(e,["toolConfig"]);if(n!==void 0&&he!=null&&g(n,["toolConfig"],YV(he)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const me=p(e,["cachedContent"]);n!==void 0&&me!=null&&g(n,["cachedContent"],Os(t,me));const N=p(e,["responseModalities"]);N!=null&&g(r,["responseModalities"],N);const M=p(e,["mediaResolution"]);M!=null&&g(r,["mediaResolution"],M);const D=p(e,["speechConfig"]);if(D!=null&&g(r,["speechConfig"],_1(D)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=p(e,["thinkingConfig"]);k!=null&&g(r,["thinkingConfig"],k);const F=p(e,["imageConfig"]);F!=null&&g(r,["imageConfig"],FV(F));const K=p(e,["enableEnhancedCivicAnswers"]);return K!=null&&g(r,["enableEnhancedCivicAnswers"],K),r}function NV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>fV(h))),g(e,["candidates"],d)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function DV(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],ou(t,r)),n}function MV(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],ou(t,r)),n}function bV(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function PV(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function FV(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function LV(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],St(t,r));const i=p(e,["contents"]);if(i!=null){let c=fi(i);Array.isArray(c)&&(c=c.map(d=>dw(d))),g(n,["request","contents"],c)}const o=p(e,["metadata"]);o!=null&&g(n,["metadata"],o);const l=p(e,["config"]);return l!=null&&g(n,["request","generationConfig"],IV(t,l,p(n,["request"],{}))),n}function kV(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],NV(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function OV(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function VV(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function UV(t){const e={},n=p(t,["config"]);return n!=null&&OV(n,e),e}function BV(t){const e={},n=p(t,["config"]);return n!=null&&VV(n,e),e}function HV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>zh(l))),g(e,["batchJobs"],o)}return e}function GV(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>ng(l))),g(e,["batchJobs"],o)}return e}function qV(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],CV(o));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],wV(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&g(e,["inlineData"],lV(d));const h=p(t,["text"]);h!=null&&g(e,["text"],h);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const E=p(t,["videoMetadata"]);return E!=null&&g(e,["videoMetadata"],E),e}function zV(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function YV(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],RV(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],r),e}function KV(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const l=p(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],bV(c));const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],PV(d));const h=p(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fs;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Fs||(Fs={}));class Fo{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WV extends ks{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Fo(Fs.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=dS(this.apiClient,e),r=n._url,i=He("{model}:batchGenerateContent",r),c=n.batch.inputConfig.requests,d=c.requests,h=[];for(const m of d){const y=Object.assign({},m);if(y.systemInstruction){const E=y.systemInstruction;delete y.systemInstruction;const x=y.request;x.systemInstruction=E,y.request=x}h.push(y)}return c.requests=h,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),l=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=mV(this.apiClient,e);return c=He("batchPredictionJobs",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>ng(m))}else{const h=dS(this.apiClient,e);return c=He("{model}:batchGenerateContent",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>zh(m))}}async createEmbeddingsInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=_V(this.apiClient,e);return o=He("{model}:asyncBatchEmbedContent",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>zh(d))}}async get(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=MV(this.apiClient,e);return c=He("batchPredictionJobs/{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>ng(m))}else{const h=DV(this.apiClient,e);return c=He("batches/{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>zh(m))}}async cancel(e){var n,r,i,o;let l="",c={};if(this.apiClient.isVertexAI()){const d=cV(this.apiClient,e);l=He("batchPredictionJobs/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const d=uV(this.apiClient,e);l=He("batches/{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=BV(e);return c=He("batchPredictionJobs",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=GV(m),E=new uS;return Object.assign(E,y),E})}else{const h=UV(e);return c=He("batches",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=HV(m),E=new uS;return Object.assign(E,y),E})}}async delete(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=yV(this.apiClient,e);return c=He("batchPredictionJobs/{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>EV(m))}else{const h=vV(this.apiClient,e);return c=He("batches/{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>TV(m))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XV(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function pS(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>_9(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function JV(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const l=p(t,["contents"]);if(e!==void 0&&l!=null){let m=fi(l);Array.isArray(m)&&(m=m.map(y=>pS(y))),g(e,["contents"],m)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],pS(or(c)));const d=p(t,["tools"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>y9(y))),g(e,["tools"],m)}const h=p(t,["toolConfig"]);if(e!==void 0&&h!=null&&g(e,["toolConfig"],v9(h)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function $V(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const l=p(t,["contents"]);if(e!==void 0&&l!=null){let y=fi(l);Array.isArray(y)&&(y=y.map(E=>E)),g(e,["contents"],y)}const c=p(t,["systemInstruction"]);e!==void 0&&c!=null&&g(e,["systemInstruction"],or(c));const d=p(t,["tools"]);if(e!==void 0&&d!=null){let y=d;Array.isArray(y)&&(y=y.map(E=>T9(E))),g(e,["tools"],y)}const h=p(t,["toolConfig"]);e!==void 0&&h!=null&&g(e,["toolConfig"],h);const m=p(t,["kmsKeyName"]);return e!==void 0&&m!=null&&g(e,["encryption_spec","kmsKeyName"],m),n}function QV(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],tw(t,r));const i=p(e,["config"]);return i!=null&&JV(i,n),n}function ZV(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],tw(t,r));const i=p(e,["config"]);return i!=null&&$V(i,n),n}function jV(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Os(t,r)),n}function e9(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Os(t,r)),n}function t9(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function n9(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function r9(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function i9(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function s9(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&g(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function a9(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function o9(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Os(t,r)),n}function l9(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Os(t,r)),n}function u9(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function c9(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function f9(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function h9(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function d9(t){const e={},n=p(t,["config"]);return n!=null&&f9(n,e),e}function p9(t){const e={},n=p(t,["config"]);return n!=null&&h9(n,e),e}function m9(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["cachedContents"],o)}return e}function g9(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["cachedContents"],o)}return e}function _9(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],r9(o));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],i9(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&g(e,["inlineData"],XV(d));const h=p(t,["text"]);h!=null&&g(e,["text"],h);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const E=p(t,["videoMetadata"]);return E!=null&&g(e,["videoMetadata"],E),e}function v9(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],s9(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],r),e}function y9(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const l=p(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],u9(c));const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],c9(d));const h=p(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}function T9(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>a9(E))),g(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&g(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=p(t,["codeExecution"]);l!=null&&g(e,["codeExecution"],l);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const d=p(t,["googleMaps"]);d!=null&&g(e,["googleMaps"],d);const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],h);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function E9(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function x9(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function S9(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Os(t,r));const i=p(e,["config"]);return i!=null&&E9(i,n),n}function A9(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Os(t,r));const i=p(e,["config"]);return i!=null&&x9(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C9 extends ks{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Fo(Fs.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=ZV(this.apiClient,e);return c=He("cachedContents",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const h=QV(this.apiClient,e);return c=He("cachedContents",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async get(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=l9(this.apiClient,e);return c=He("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const h=o9(this.apiClient,e);return c=He("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async delete(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=e9(this.apiClient,e);return c=He("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=n9(m),E=new oS;return Object.assign(E,y),E})}else{const h=jV(this.apiClient,e);return c=He("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=t9(m),E=new oS;return Object.assign(E,y),E})}}async update(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=A9(this.apiClient,e);return c=He("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>m)}else{const h=S9(this.apiClient,e);return c=He("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>m)}}async listInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=p9(e);return c=He("cachedContents",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=g9(m),E=new lS;return Object.assign(E,y),E})}else{const h=d9(e);return c=He("cachedContents",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=m9(m),E=new lS;return Object.assign(E,y),E})}}}function mS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zt(t){return this instanceof Zt?(this.v=t,this):new Zt(t)}function Ul(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(x){return function(R){return Promise.resolve(R).then(x,y)}}function c(x,R){r[x]&&(i[x]=function(A){return new Promise(function(I,q){o.push([x,A,I,q])>1||d(x,A)})},R&&(i[x]=R(i[x])))}function d(x,R){try{h(r[x](R))}catch(A){E(o[0][3],A)}}function h(x){x.value instanceof Zt?Promise.resolve(x.value.v).then(m,y):E(o[0][2],x)}function m(x){d("next",x)}function y(x){d("throw",x)}function E(x,R){x(R),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Ic(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mS=="function"?mS(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(l){return new Promise(function(c,d){l=t[o](l),i(c,d,l.done,l.value)})}}function i(o,l,c,d){Promise.resolve(d).then(function(h){o({value:h,done:c})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w9(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:pw(n)}function pw(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function R9(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function gS(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!pw(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class I9{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new N9(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class N9{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),R9(o)}async sendMessage(e){var n;await this.sendPromise;const r=or(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,l,c;const d=await i,h=(l=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,m=d.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let E=[];m!=null&&(E=(c=m.slice(y))!==null&&c!==void 0?c:[]);const x=h?[h]:[];this.recordHistory(r,x,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=or(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?gS(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ul(this,arguments,function*(){var i,o,l,c,d,h;const m=[];try{for(var y=!0,E=Ic(e),x;x=yield Zt(E.next()),i=x.done,!i;y=!0){c=x.value,y=!1;const R=c;if(w9(R)){const A=(h=(d=R.candidates)===null||d===void 0?void 0:d[0])===null||h===void 0?void 0:h.content;A!==void 0&&m.push(A)}yield yield Zt(R)}}catch(R){o={error:R}}finally{try{!y&&!i&&(l=E.return)&&(yield Zt(l.call(E)))}finally{if(o)throw o.error}}this.recordHistory(n,m)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...gS(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Zd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D9(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function M9(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function b9(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],ow(n)),e}function P9(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function F9(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],ow(n)),e}function L9(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function k9(t){const e={},n=p(t,["config"]);return n!=null&&L9(n,e),e}function O9(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V9 extends ks{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Fo(Fs.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=k9(e);return o=He("files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const h=O9(d),m=new GO;return Object.assign(m,h),m})}}async createInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=D9(e);return o=He("upload/v1beta/files",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const h=M9(d),m=new qO;return Object.assign(m,h),m})}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=F9(e);return o=He("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=b9(e);return o=He("files/{file}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const h=P9(d),m=new zO;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yh(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function U9(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tU(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function B9(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function H9(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function G9(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function q9(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const l=p(t,["enableAffectiveDialog"]);l!=null&&g(e,["enableAffectiveDialog"],l);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const d=p(t,["logprobs"]);d!=null&&g(e,["logprobs"],d);const h=p(t,["maxOutputTokens"]);h!=null&&g(e,["maxOutputTokens"],h);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=p(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const E=p(t,["responseLogprobs"]);E!=null&&g(e,["responseLogprobs"],E);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const R=p(t,["responseModalities"]);R!=null&&g(e,["responseModalities"],R);const A=p(t,["responseSchema"]);A!=null&&g(e,["responseSchema"],A);const I=p(t,["routingConfig"]);I!=null&&g(e,["routingConfig"],I);const q=p(t,["seed"]);q!=null&&g(e,["seed"],q);const X=p(t,["speechConfig"]);X!=null&&g(e,["speechConfig"],mw(X));const G=p(t,["stopSequences"]);G!=null&&g(e,["stopSequences"],G);const te=p(t,["temperature"]);te!=null&&g(e,["temperature"],te);const he=p(t,["thinkingConfig"]);he!=null&&g(e,["thinkingConfig"],he);const me=p(t,["topK"]);me!=null&&g(e,["topK"],me);const N=p(t,["topP"]);if(N!=null&&g(e,["topP"],N),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function z9(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Y9(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function K9(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const d=p(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","mediaResolution"],h);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],v1(y));const E=p(t,["thinkingConfig"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","thinkingConfig"],E);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const R=p(t,["systemInstruction"]);e!==void 0&&R!=null&&g(e,["setup","systemInstruction"],U9(or(R)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let me=au(A);Array.isArray(me)&&(me=me.map(N=>rU(su(N)))),g(e,["setup","tools"],me)}const I=p(t,["sessionResumption"]);e!==void 0&&I!=null&&g(e,["setup","sessionResumption"],nU(I));const q=p(t,["inputAudioTranscription"]);e!==void 0&&q!=null&&g(e,["setup","inputAudioTranscription"],q);const X=p(t,["outputAudioTranscription"]);e!==void 0&&X!=null&&g(e,["setup","outputAudioTranscription"],X);const G=p(t,["realtimeInputConfig"]);e!==void 0&&G!=null&&g(e,["setup","realtimeInputConfig"],G);const te=p(t,["contextWindowCompression"]);e!==void 0&&te!=null&&g(e,["setup","contextWindowCompression"],te);const he=p(t,["proactivity"]);return e!==void 0&&he!=null&&g(e,["setup","proactivity"],he),n}function W9(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],q9(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const d=p(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","mediaResolution"],h);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],mw(v1(y)));const E=p(t,["thinkingConfig"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","thinkingConfig"],E);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const R=p(t,["systemInstruction"]);e!==void 0&&R!=null&&g(e,["setup","systemInstruction"],or(R));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let me=au(A);Array.isArray(me)&&(me=me.map(N=>iU(su(N)))),g(e,["setup","tools"],me)}const I=p(t,["sessionResumption"]);e!==void 0&&I!=null&&g(e,["setup","sessionResumption"],I);const q=p(t,["inputAudioTranscription"]);e!==void 0&&q!=null&&g(e,["setup","inputAudioTranscription"],q);const X=p(t,["outputAudioTranscription"]);e!==void 0&&X!=null&&g(e,["setup","outputAudioTranscription"],X);const G=p(t,["realtimeInputConfig"]);e!==void 0&&G!=null&&g(e,["setup","realtimeInputConfig"],G);const te=p(t,["contextWindowCompression"]);e!==void 0&&te!=null&&g(e,["setup","contextWindowCompression"],te);const he=p(t,["proactivity"]);return e!==void 0&&he!=null&&g(e,["setup","proactivity"],he),n}function X9(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],St(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],K9(i,n)),n}function J9(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],St(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],W9(i,n)),n}function $9(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function Q9(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function Z9(t){const e={},n=p(t,["media"]);if(n!=null){let h=nw(n);Array.isArray(h)&&(h=h.map(m=>Yh(m))),g(e,["mediaChunks"],h)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],Yh(iw(r)));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],Yh(rw(o)));const l=p(t,["text"]);l!=null&&g(e,["text"],l);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const d=p(t,["activityEnd"]);return d!=null&&g(e,["activityEnd"],d),e}function j9(t){const e={},n=p(t,["media"]);if(n!=null){let h=nw(n);Array.isArray(h)&&(h=h.map(m=>m)),g(e,["mediaChunks"],h)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],iw(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],rw(o));const l=p(t,["text"]);l!=null&&g(e,["text"],l);const c=p(t,["activityStart"]);c!=null&&g(e,["activityStart"],c);const d=p(t,["activityEnd"]);return d!=null&&g(e,["activityEnd"],d),e}function eU(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const l=p(t,["usageMetadata"]);l!=null&&g(e,["usageMetadata"],sU(l));const c=p(t,["goAway"]);c!=null&&g(e,["goAway"],c);const d=p(t,["sessionResumptionUpdate"]);return d!=null&&g(e,["sessionResumptionUpdate"],d),e}function tU(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],B9(o));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],H9(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&g(e,["inlineData"],Yh(d));const h=p(t,["text"]);h!=null&&g(e,["text"],h);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const E=p(t,["videoMetadata"]);return E!=null&&g(e,["videoMetadata"],E),e}function nU(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function mw(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const r=p(t,["languageCode"]);if(r!=null&&g(e,["languageCode"],r),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function rU(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const l=p(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],z9(c));const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],Y9(d));const h=p(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}function iU(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>G9(E))),g(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&g(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=p(t,["codeExecution"]);l!=null&&g(e,["codeExecution"],l);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const d=p(t,["googleMaps"]);d!=null&&g(e,["googleMaps"],d);const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],h);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function sU(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const l=p(t,["thoughtsTokenCount"]);l!=null&&g(e,["thoughtsTokenCount"],l);const c=p(t,["totalTokenCount"]);c!=null&&g(e,["totalTokenCount"],c);const d=p(t,["promptTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(R=>R)),g(e,["promptTokensDetails"],x)}const h=p(t,["cacheTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(R=>R)),g(e,["cacheTokensDetails"],x)}const m=p(t,["candidatesTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(R=>R)),g(e,["responseTokensDetails"],x)}const y=p(t,["toolUsePromptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(R=>R)),g(e,["toolUsePromptTokensDetails"],x)}const E=p(t,["trafficType"]);return E!=null&&g(e,["trafficType"],E),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aU(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function oU(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],lU(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const l=p(t,["avgLogprobs"]);l!=null&&g(e,["avgLogprobs"],l);const c=p(t,["groundingMetadata"]);c!=null&&g(e,["groundingMetadata"],c);const d=p(t,["index"]);d!=null&&g(e,["index"],d);const h=p(t,["logprobsResult"]);h!=null&&g(e,["logprobsResult"],h);const m=p(t,["safetyRatings"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(x=>x)),g(e,["safetyRatings"],E)}const y=p(t,["urlContextMetadata"]);return y!=null&&g(e,["urlContextMetadata"],y),e}function lU(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function uU(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["contents"]);if(i!=null){let o=fi(i);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}return n}function cU(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function fU(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],hU(r)),e}function hU(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function jd(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>EB(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function dU(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function pU(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function mU(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],or(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>Tw(c))),g(e,["tools"],l)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],aB(o)),n}function gU(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["contents"]);if(i!=null){let l=fi(i);Array.isArray(l)&&(l=l.map(c=>jd(c))),g(n,["contents"],l)}const o=p(e,["config"]);return o!=null&&pU(o),n}function _U(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["contents"]);if(i!=null){let l=fi(i);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["contents"],l)}const o=p(e,["config"]);return o!=null&&mU(o,n),n}function vU(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function yU(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function TU(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],St(t,r)),n}function EU(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],St(t,r)),n}function xU(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function SU(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function AU(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["parameters","seed"],d);const h=p(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&g(e,["parameters","safetySetting"],h);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const E=p(t,["includeRaiReason"]);e!==void 0&&E!=null&&g(e,["parameters","includeRaiReason"],E);const x=p(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const R=p(t,["outputMimeType"]);e!==void 0&&R!=null&&g(e,["parameters","outputOptions","mimeType"],R);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const I=p(t,["addWatermark"]);e!==void 0&&I!=null&&g(e,["parameters","addWatermark"],I);const q=p(t,["labels"]);e!==void 0&&q!=null&&g(e,["labels"],q);const X=p(t,["editMode"]);e!==void 0&&X!=null&&g(e,["parameters","editMode"],X);const G=p(t,["baseSteps"]);return e!==void 0&&G!=null&&g(e,["parameters","editConfig","baseSteps"],G),n}function CU(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>RB(d))),g(n,["instances[0]","referenceImages"],c)}const l=p(e,["config"]);return l!=null&&AU(l,n),n}function wU(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>e0(o))),g(e,["generatedImages"],i)}return e}function RU(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function IU(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const l=p(t,["mimeType"]);e!==void 0&&l!=null&&g(e,["instances[]","mimeType"],l);const c=p(t,["autoTruncate"]);return e!==void 0&&c!=null&&g(e,["parameters","autoTruncate"],c),n}function NU(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["contents"]);if(i!=null){let c=m1(t,i);Array.isArray(c)&&(c=c.map(d=>d)),g(n,["requests[]","content"],c)}const o=p(e,["config"]);o!=null&&RU(o,n);const l=p(e,["model"]);return l!==void 0&&g(n,["requests[]","model"],St(t,l)),n}function DU(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["contents"]);if(i!=null){let l=m1(t,i);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["instances[]","content"],l)}const o=p(e,["config"]);return o!=null&&IU(o,n),n}function MU(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function bU(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>fU(l))),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function PU(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function FU(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function LU(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kU(t){const e={},n=p(t,["mode"]);n!=null&&g(e,["mode"],n);const r=p(t,["allowedFunctionNames"]);if(r!=null&&g(e,["allowedFunctionNames"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function OU(t){const e={};if(p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const l=p(t,["response"]);l!=null&&g(e,["response"],l);const c=p(t,["responseJsonSchema"]);return c!=null&&g(e,["responseJsonSchema"],c),e}function VU(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],jd(or(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const l=p(e,["topP"]);l!=null&&g(r,["topP"],l);const c=p(e,["topK"]);c!=null&&g(r,["topK"],c);const d=p(e,["candidateCount"]);d!=null&&g(r,["candidateCount"],d);const h=p(e,["maxOutputTokens"]);h!=null&&g(r,["maxOutputTokens"],h);const m=p(e,["stopSequences"]);m!=null&&g(r,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(r,["responseLogprobs"],y);const E=p(e,["logprobs"]);E!=null&&g(r,["logprobs"],E);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const R=p(e,["frequencyPenalty"]);R!=null&&g(r,["frequencyPenalty"],R);const A=p(e,["seed"]);A!=null&&g(r,["seed"],A);const I=p(e,["responseMimeType"]);I!=null&&g(r,["responseMimeType"],I);const q=p(e,["responseSchema"]);q!=null&&g(r,["responseSchema"],g1(q));const X=p(e,["responseJsonSchema"]);if(X!=null&&g(r,["responseJsonSchema"],X),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const G=p(e,["safetySettings"]);if(n!==void 0&&G!=null){let L=G;Array.isArray(L)&&(L=L.map(Ye=>IB(Ye))),g(n,["safetySettings"],L)}const te=p(e,["tools"]);if(n!==void 0&&te!=null){let L=au(te);Array.isArray(L)&&(L=L.map(Ye=>LB(su(Ye)))),g(n,["tools"],L)}const he=p(e,["toolConfig"]);if(n!==void 0&&he!=null&&g(n,["toolConfig"],FB(he)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const me=p(e,["cachedContent"]);n!==void 0&&me!=null&&g(n,["cachedContent"],Os(t,me));const N=p(e,["responseModalities"]);N!=null&&g(r,["responseModalities"],N);const M=p(e,["mediaResolution"]);M!=null&&g(r,["mediaResolution"],M);const D=p(e,["speechConfig"]);if(D!=null&&g(r,["speechConfig"],_1(D)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=p(e,["thinkingConfig"]);k!=null&&g(r,["thinkingConfig"],k);const F=p(e,["imageConfig"]);F!=null&&g(r,["imageConfig"],fB(F));const K=p(e,["enableEnhancedCivicAnswers"]);return K!=null&&g(r,["enableEnhancedCivicAnswers"],K),r}function UU(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],or(i));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const l=p(e,["topP"]);l!=null&&g(r,["topP"],l);const c=p(e,["topK"]);c!=null&&g(r,["topK"],c);const d=p(e,["candidateCount"]);d!=null&&g(r,["candidateCount"],d);const h=p(e,["maxOutputTokens"]);h!=null&&g(r,["maxOutputTokens"],h);const m=p(e,["stopSequences"]);m!=null&&g(r,["stopSequences"],m);const y=p(e,["responseLogprobs"]);y!=null&&g(r,["responseLogprobs"],y);const E=p(e,["logprobs"]);E!=null&&g(r,["logprobs"],E);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const R=p(e,["frequencyPenalty"]);R!=null&&g(r,["frequencyPenalty"],R);const A=p(e,["seed"]);A!=null&&g(r,["seed"],A);const I=p(e,["responseMimeType"]);I!=null&&g(r,["responseMimeType"],I);const q=p(e,["responseSchema"]);q!=null&&g(r,["responseSchema"],g1(q));const X=p(e,["responseJsonSchema"]);X!=null&&g(r,["responseJsonSchema"],X);const G=p(e,["routingConfig"]);G!=null&&g(r,["routingConfig"],G);const te=p(e,["modelSelectionConfig"]);te!=null&&g(r,["modelConfig"],te);const he=p(e,["safetySettings"]);if(n!==void 0&&he!=null){let ie=he;Array.isArray(ie)&&(ie=ie.map(we=>we)),g(n,["safetySettings"],ie)}const me=p(e,["tools"]);if(n!==void 0&&me!=null){let ie=au(me);Array.isArray(ie)&&(ie=ie.map(we=>Tw(su(we)))),g(n,["tools"],ie)}const N=p(e,["toolConfig"]);n!==void 0&&N!=null&&g(n,["toolConfig"],N);const M=p(e,["labels"]);n!==void 0&&M!=null&&g(n,["labels"],M);const D=p(e,["cachedContent"]);n!==void 0&&D!=null&&g(n,["cachedContent"],Os(t,D));const k=p(e,["responseModalities"]);k!=null&&g(r,["responseModalities"],k);const F=p(e,["mediaResolution"]);F!=null&&g(r,["mediaResolution"],F);const K=p(e,["speechConfig"]);K!=null&&g(r,["speechConfig"],yw(_1(K)));const L=p(e,["audioTimestamp"]);L!=null&&g(r,["audioTimestamp"],L);const Ye=p(e,["thinkingConfig"]);Ye!=null&&g(r,["thinkingConfig"],Ye);const Ee=p(e,["imageConfig"]);if(Ee!=null&&g(r,["imageConfig"],hB(Ee)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function _S(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["contents"]);if(i!=null){let l=fi(i);Array.isArray(l)&&(l=l.map(c=>jd(c))),g(n,["contents"],l)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],VU(t,o,n)),n}function vS(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["contents"]);if(i!=null){let l=fi(i);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["contents"],l)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],UU(t,o,n)),n}function yS(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>oU(h))),g(e,["candidates"],d)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function TS(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(m=>m)),g(e,["candidates"],h)}const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const l=p(t,["promptFeedback"]);l!=null&&g(e,["promptFeedback"],l);const c=p(t,["responseId"]);c!=null&&g(e,["responseId"],c);const d=p(t,["usageMetadata"]);return d!=null&&g(e,["usageMetadata"],d),e}function BU(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=p(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&g(e,["parameters","safetySetting"],l);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=p(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const m=p(t,["language"]);e!==void 0&&m!=null&&g(e,["parameters","language"],m);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const E=p(t,["outputCompressionQuality"]);if(e!==void 0&&E!=null&&g(e,["parameters","outputOptions","compressionQuality"],E),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=p(t,["imageSize"]);if(e!==void 0&&x!=null&&g(e,["parameters","sampleImageSize"],x),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function HU(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const c=p(t,["guidanceScale"]);e!==void 0&&c!=null&&g(e,["parameters","guidanceScale"],c);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["parameters","seed"],d);const h=p(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&g(e,["parameters","safetySetting"],h);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&g(e,["parameters","includeSafetyAttributes"],y);const E=p(t,["includeRaiReason"]);e!==void 0&&E!=null&&g(e,["parameters","includeRaiReason"],E);const x=p(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const R=p(t,["outputMimeType"]);e!==void 0&&R!=null&&g(e,["parameters","outputOptions","mimeType"],R);const A=p(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&g(e,["parameters","outputOptions","compressionQuality"],A);const I=p(t,["addWatermark"]);e!==void 0&&I!=null&&g(e,["parameters","addWatermark"],I);const q=p(t,["labels"]);e!==void 0&&q!=null&&g(e,["labels"],q);const X=p(t,["imageSize"]);e!==void 0&&X!=null&&g(e,["parameters","sampleImageSize"],X);const G=p(t,["enhancePrompt"]);return e!==void 0&&G!=null&&g(e,["parameters","enhancePrompt"],G),n}function GU(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&BU(o,n),n}function qU(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&HU(o,n),n}function zU(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>nB(l))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],_w(i)),e}function YU(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>e0(l))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],vw(i)),e}function KU(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["resolution"]);e!==void 0&&l!=null&&g(e,["parameters","resolution"],l);const c=p(t,["personGeneration"]);if(e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=p(t,["negativePrompt"]);e!==void 0&&d!=null&&g(e,["parameters","negativePrompt"],d);const h=p(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=p(t,["lastFrame"]);e!==void 0&&m!=null&&g(e,["instances[0]","lastFrame"],t0(m));const y=p(t,["referenceImages"]);if(e!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(x=>XB(x))),g(e,["instances[0]","referenceImages"],E)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function WU(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const l=p(t,["durationSeconds"]);e!==void 0&&l!=null&&g(e,["parameters","durationSeconds"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const d=p(t,["aspectRatio"]);e!==void 0&&d!=null&&g(e,["parameters","aspectRatio"],d);const h=p(t,["resolution"]);e!==void 0&&h!=null&&g(e,["parameters","resolution"],h);const m=p(t,["personGeneration"]);e!==void 0&&m!=null&&g(e,["parameters","personGeneration"],m);const y=p(t,["pubsubTopic"]);e!==void 0&&y!=null&&g(e,["parameters","pubsubTopic"],y);const E=p(t,["negativePrompt"]);e!==void 0&&E!=null&&g(e,["parameters","negativePrompt"],E);const x=p(t,["enhancePrompt"]);e!==void 0&&x!=null&&g(e,["parameters","enhancePrompt"],x);const R=p(t,["generateAudio"]);e!==void 0&&R!=null&&g(e,["parameters","generateAudio"],R);const A=p(t,["lastFrame"]);e!==void 0&&A!=null&&g(e,["instances[0]","lastFrame"],Mi(A));const I=p(t,["referenceImages"]);if(e!==void 0&&I!=null){let G=I;Array.isArray(G)&&(G=G.map(te=>JB(te))),g(e,["instances[0]","referenceImages"],G)}const q=p(t,["mask"]);e!==void 0&&q!=null&&g(e,["instances[0]","mask"],WB(q));const X=p(t,["compressionQuality"]);return e!==void 0&&X!=null&&g(e,["parameters","compressionQuality"],X),n}function XU(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response","generateVideoResponse"]);return l!=null&&g(e,["response"],ZU(l)),e}function JU(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response"]);return l!=null&&g(e,["response"],jU(l)),e}function $U(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],t0(o));const l=p(e,["video"]);l!=null&&g(n,["instances[0]","video"],Ew(l));const c=p(e,["source"]);c!=null&&eB(c,n);const d=p(e,["config"]);return d!=null&&KU(d,n),n}function QU(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],Mi(o));const l=p(e,["video"]);l!=null&&g(n,["instances[0]","video"],xw(l));const c=p(e,["source"]);c!=null&&tB(c,n);const d=p(e,["config"]);return d!=null&&WU(d,n),n}function ZU(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>iB(l))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function jU(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>sB(l))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function eB(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],t0(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],Ew(o)),n}function tB(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Mi(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],xw(o)),n}function nB(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],dB(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],_w(i)),e}function e0(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],gw(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&g(e,["safetyAttributes"],vw(i));const o=p(t,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function rB(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],gw(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function iB(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],YB(n)),e}function sB(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],KB(n)),e}function aB(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const l=p(t,["enableAffectiveDialog"]);l!=null&&g(e,["enableAffectiveDialog"],l);const c=p(t,["frequencyPenalty"]);c!=null&&g(e,["frequencyPenalty"],c);const d=p(t,["logprobs"]);d!=null&&g(e,["logprobs"],d);const h=p(t,["maxOutputTokens"]);h!=null&&g(e,["maxOutputTokens"],h);const m=p(t,["mediaResolution"]);m!=null&&g(e,["mediaResolution"],m);const y=p(t,["presencePenalty"]);y!=null&&g(e,["presencePenalty"],y);const E=p(t,["responseLogprobs"]);E!=null&&g(e,["responseLogprobs"],E);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const R=p(t,["responseModalities"]);R!=null&&g(e,["responseModalities"],R);const A=p(t,["responseSchema"]);A!=null&&g(e,["responseSchema"],A);const I=p(t,["routingConfig"]);I!=null&&g(e,["routingConfig"],I);const q=p(t,["seed"]);q!=null&&g(e,["seed"],q);const X=p(t,["speechConfig"]);X!=null&&g(e,["speechConfig"],yw(X));const G=p(t,["stopSequences"]);G!=null&&g(e,["stopSequences"],G);const te=p(t,["temperature"]);te!=null&&g(e,["temperature"],te);const he=p(t,["thinkingConfig"]);he!=null&&g(e,["thinkingConfig"],he);const me=p(t,["topK"]);me!=null&&g(e,["topK"],me);const N=p(t,["topP"]);if(N!=null&&g(e,["topP"],N),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function oB(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],St(t,r)),n}function lB(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],St(t,r)),n}function uB(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function cB(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function fB(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function hB(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=p(t,["outputMimeType"]);i!=null&&g(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&g(e,["imageOutputOptions","compressionQuality"],o),e}function dB(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],Ua(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function gw(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],Ua(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function t0(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],Ua(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Mi(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Ua(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function pB(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const l=p(e,["filter"]);n!==void 0&&l!=null&&g(n,["_query","filter"],l);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],lw(t,c)),r}function mB(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const l=p(e,["filter"]);n!==void 0&&l!=null&&g(n,["_query","filter"],l);const c=p(e,["queryBase"]);return n!==void 0&&c!=null&&g(n,["_url","models_url"],lw(t,c)),r}function gB(t,e){const n={},r=p(e,["config"]);return r!=null&&pB(t,r,n),n}function _B(t,e){const n={},r=p(e,["config"]);return r!=null&&mB(t,r,n),n}function vB(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=uw(i);Array.isArray(o)&&(o=o.map(l=>rg(l))),g(e,["models"],o)}return e}function yB(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=uw(i);Array.isArray(o)&&(o=o.map(l=>ig(l))),g(e,["models"],o)}return e}function TB(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function rg(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["version"]);o!=null&&g(e,["version"],o);const l=p(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],kB(l));const c=p(t,["inputTokenLimit"]);c!=null&&g(e,["inputTokenLimit"],c);const d=p(t,["outputTokenLimit"]);d!=null&&g(e,["outputTokenLimit"],d);const h=p(t,["supportedGenerationMethods"]);h!=null&&g(e,["supportedActions"],h);const m=p(t,["temperature"]);m!=null&&g(e,["temperature"],m);const y=p(t,["maxTemperature"]);y!=null&&g(e,["maxTemperature"],y);const E=p(t,["topP"]);E!=null&&g(e,["topP"],E);const x=p(t,["topK"]);x!=null&&g(e,["topK"],x);const R=p(t,["thinking"]);return R!=null&&g(e,["thinking"],R),e}function ig(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["versionId"]);o!=null&&g(e,["version"],o);const l=p(t,["deployedModels"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(E=>PU(E))),g(e,["endpoints"],y)}const c=p(t,["labels"]);c!=null&&g(e,["labels"],c);const d=p(t,["_self"]);d!=null&&g(e,["tunedModelInfo"],OB(d));const h=p(t,["defaultCheckpointId"]);h!=null&&g(e,["defaultCheckpointId"],h);const m=p(t,["checkpoints"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(E=>E)),g(e,["checkpoints"],y)}return e}function EB(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],FU(o));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],LU(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&g(e,["inlineData"],aU(d));const h=p(t,["text"]);h!=null&&g(e,["text"],h);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const E=p(t,["videoMetadata"]);return E!=null&&g(e,["videoMetadata"],E),e}function xB(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],Mi(n)),e}function SB(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&g(e,["parameters","safetySetting"],c);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const h=p(t,["addWatermark"]);e!==void 0&&h!=null&&g(e,["parameters","addWatermark"],h);const m=p(t,["outputMimeType"]);e!==void 0&&m!=null&&g(e,["parameters","outputOptions","mimeType"],m);const y=p(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","compressionQuality"],y);const E=p(t,["enhancePrompt"]);e!==void 0&&E!=null&&g(e,["parameters","enhancePrompt"],E);const x=p(t,["labels"]);return e!==void 0&&x!=null&&g(e,["labels"],x),n}function AB(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["source"]);i!=null&&wB(i,n);const o=p(e,["config"]);return o!=null&&SB(o,n),n}function CB(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>e0(i))),g(e,["generatedImages"],r)}return e}function wB(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],Mi(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>xB(c))),g(e,["instances[0]","productImages"],l)}return n}function RB(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Mi(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],TB(o));const l=p(t,["controlImageConfig"]);l!=null&&g(e,["controlImageConfig"],dU(l));const c=p(t,["styleImageConfig"]);c!=null&&g(e,["styleImageConfig"],c);const d=p(t,["subjectImageConfig"]);return d!=null&&g(e,["subjectImageConfig"],d),e}function _w(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function vw(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function IB(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function NB(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],Mi(n)),e}function DB(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const l=p(t,["maskDilation"]);e!==void 0&&l!=null&&g(e,["parameters","maskDilation"],l);const c=p(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&g(e,["parameters","binaryColorThreshold"],c);const d=p(t,["labels"]);return e!==void 0&&d!=null&&g(e,["labels"],d),n}function MB(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["source"]);i!=null&&PB(i,n);const o=p(e,["config"]);return o!=null&&DB(o,n),n}function bB(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>rB(i))),g(e,["generatedMasks"],r)}return e}function PB(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Mi(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],NB(o)),n}function yw(t){const e={},n=p(t,["voiceConfig"]);n!=null&&g(e,["voiceConfig"],n);const r=p(t,["languageCode"]);if(r!=null&&g(e,["languageCode"],r),p(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function FB(t){const e={},n=p(t,["functionCallingConfig"]);n!=null&&g(e,["functionCallingConfig"],kU(n));const r=p(t,["retrievalConfig"]);return r!=null&&g(e,["retrievalConfig"],r),e}function LB(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const l=p(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],uB(c));const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],cB(d));const h=p(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}function Tw(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>OU(E))),g(e,["functionDeclarations"],y)}const r=p(t,["retrieval"]);r!=null&&g(e,["retrieval"],r);const i=p(t,["googleSearchRetrieval"]);i!=null&&g(e,["googleSearchRetrieval"],i);const o=p(t,["computerUse"]);if(o!=null&&g(e,["computerUse"],o),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=p(t,["codeExecution"]);l!=null&&g(e,["codeExecution"],l);const c=p(t,["enterpriseWebSearch"]);c!=null&&g(e,["enterpriseWebSearch"],c);const d=p(t,["googleMaps"]);d!=null&&g(e,["googleMaps"],d);const h=p(t,["googleSearch"]);h!=null&&g(e,["googleSearch"],h);const m=p(t,["urlContext"]);return m!=null&&g(e,["urlContext"],m),e}function kB(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function OB(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function VB(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function UB(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function BB(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],St(t,r));const i=p(e,["config"]);return i!=null&&VB(i,n),n}function HB(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["config"]);return i!=null&&UB(i,n),n}function GB(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const l=p(t,["includeRaiReason"]);e!==void 0&&l!=null&&g(e,["parameters","includeRaiReason"],l);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const d=p(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","compressionQuality"],d);const h=p(t,["enhanceInputImage"]);e!==void 0&&h!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],h);const m=p(t,["imagePreservationFactor"]);e!==void 0&&m!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],m);const y=p(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const E=p(t,["numberOfImages"]);e!==void 0&&E!=null&&g(e,["parameters","sampleCount"],E);const x=p(t,["mode"]);return e!==void 0&&x!=null&&g(e,["parameters","mode"],x),n}function qB(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],St(t,r));const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],Mi(i));const o=p(e,["upscaleFactor"]);o!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],o);const l=p(e,["config"]);return l!=null&&GB(l,n),n}function zB(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>e0(o))),g(e,["generatedImages"],i)}return e}function YB(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],Ua(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function KB(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],Ua(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function WB(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],Mi(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function XB(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],t0(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function JB(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],Mi(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function Ew(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],Ua(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function xw(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],Ua(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $B(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function QB(t){const e={},n=p(t,["config"]);return n!=null&&$B(n,e),e}function ZB(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function jB(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&ZB(r,e),e}function e7(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function t7(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function n7(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const l=p(t,["response"]);return l!=null&&g(e,["response"],i7(l)),e}function r7(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&t7(i,e),e}function i7(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function s7(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function a7(t){const e={},n=p(t,["config"]);return n!=null&&s7(n,e),e}function o7(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["fileSearchStores"],o)}return e}function Sw(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["customMetadata"],c)}const l=p(t,["chunkingConfig"]);return e!==void 0&&l!=null&&g(e,["chunkingConfig"],l),n}function l7(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&Sw(r,e),e}function u7(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c7="Content-Type",f7="X-Server-Timeout",h7="User-Agent",sg="x-goog-api-client",d7="1.32.0",p7=`google-genai-sdk/${d7}`,m7="v1beta1",g7="v1beta";class _7{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:m7,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:g7,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[l,c]of Object.entries(e.queryParams))i.searchParams.append(l,String(c));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,l=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const c=setTimeout(()=>o.abort(),n.timeout);c&&typeof c.unref=="function"&&c.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=l}return n&&n.extraBody!==null&&v7(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ES(i),new eg(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await ES(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Ul(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const c="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:m}=yield Zt(i.read());if(h){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const y=o.decode(m,{stream:!0});try{const R=JSON.parse(y);if("error"in R){const A=JSON.parse(JSON.stringify(R.error)),I=A.status,q=A.code,X=`got status: ${I}. ${JSON.stringify(R)}`;if(q>=400&&q<600)throw new Zd({message:X,status:q})}}catch(R){if(R.name==="ApiError")throw R}l+=y;let E=-1,x=0;for(;;){E=-1,x=0;for(const I of d){const q=l.indexOf(I);q!==-1&&(E===-1||q<E)&&(E=q,x=I.length)}if(E===-1)break;const R=l.substring(0,E);l=l.substring(E+x);const A=R.trim();if(A.startsWith(c)){const I=A.substring(c.length).trim();try{const q=new Response(I,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Zt(new eg(q))}catch(q){throw new Error(`exception parsing stream chunk ${I}. ${q}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=p7+" "+this.clientOptions.userAgentExtra;return e[h7]=n,e[sg]=n,e[c7]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(f7,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,l=await o.stat(e);i.sizeBytes=String(l.size);const c=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=c;const d={file:i},h=this.getFileName(e),m=He("upload/v1beta/files",d._url),y=await this.fetchUploadUrl(m,i.sizeBytes,i.mimeType,h,d,n==null?void 0:n.httpOptions);return o.upload(e,y,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,l=await o.stat(n),c=String(l.size),d=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,m=this.getFileName(n),y={};r!=null&&Sw(r,y);const E=await this.fetchUploadUrl(h,c,d,m,y,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,E,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,l){var c;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const h=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:d});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(c=h==null?void 0:h.headers)===null||c===void 0?void 0:c["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function ES(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Zd({message:i,status:n}):new Error(i)}}function v7(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,l){const c=Object.assign({},o);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const h=l[d],m=c[d];h&&typeof h=="object"&&!Array.isArray(h)&&m&&typeof m=="object"&&!Array.isArray(m)?c[d]=r(m,h):(m&&h&&typeof m!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof m}, New type: ${typeof h}. Overwriting.`),c[d]=h)}return c}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const y7="mcp_used/unknown";let T7=!1;function Aw(t){for(const e of t)if(E7(e)||typeof e=="object"&&"inputSchema"in e)return!0;return T7}function Cw(t){var e;const n=(e=t[sg])!==null&&e!==void 0?e:"";t[sg]=(n+` ${y7}`).trimStart()}function E7(t){return t!==null&&typeof t=="object"&&t instanceof y1}function x7(t){return Ul(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const l=yield Zt(n.listTools({cursor:i}));for(const c of l.tools)yield yield Zt(c),o++;if(!l.nextCursor)break;i=l.nextCursor}})}class y1{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new y1(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},l=[];for(const m of this.mcpClients)try{for(var c=!0,d=(n=void 0,Ic(x7(m))),h;h=await d.next(),e=h.done,!e;c=!0){i=h.value,c=!1;const y=i;l.push(y);const E=y.name;if(o[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);o[E]=m}}catch(y){n={error:y}}finally{try{!c&&!e&&(r=d.return)&&await r.call(d)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),eV(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function S7(t,e,n){const r=new KO;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class A7{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=R7(this.apiClient.getDefaultHeaders()),c=this.apiClient.getApiKey(),d=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${c}`;let h=()=>{};const m=new Promise(G=>{h=G}),y=e.callbacks,E=function(){h({})},x=this.apiClient,R={onopen:E,onmessage:G=>{S7(x,y.onmessage,G)},onerror:(n=y==null?void 0:y.onerror)!==null&&n!==void 0?n:function(G){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(G){}},A=this.webSocketFactory.create(d,w7(l),R);A.connect(),await m;const X={setup:{model:St(this.apiClient,e.model)}};return A.send(JSON.stringify(X)),new C7(A,this.apiClient)}}class C7{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Q9(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=$9(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Nl.PLAY)}pause(){this.sendPlaybackControl(Nl.PAUSE)}stop(){this.sendPlaybackControl(Nl.STOP)}resetContext(){this.sendPlaybackControl(Nl.RESET_CONTEXT)}close(){this.conn.close()}}function w7(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function R7(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const I7="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function N7(t,e,n){const r=new YO;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const l=eU(o);Object.assign(r,l)}else Object.assign(r,o);e(r)}class D7{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new A7(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,l,c;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let m;const y=this.apiClient.getHeaders();e.config&&e.config.tools&&Aw(e.config.tools)&&Cw(y);const E=F7(y);if(this.apiClient.isVertexAI())m=`${d}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,m);else{const D=this.apiClient.getApiKey();let k="BidiGenerateContent",F="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",F="access_token"),m=`${d}/ws/google.ai.generativelanguage.${h}.GenerativeService.${k}?${F}=${D}`}let x=()=>{};const R=new Promise(D=>{x=D}),A=e.callbacks,I=function(){var D;(D=A==null?void 0:A.onopen)===null||D===void 0||D.call(A),x({})},q=this.apiClient,X={onopen:I,onmessage:D=>{N7(q,A.onmessage,D)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(D){}},G=this.webSocketFactory.create(m,P7(E),X);G.connect(),await R;let te=St(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&te.startsWith("publishers/")){const D=this.apiClient.getProject(),k=this.apiClient.getLocation();te=`projects/${D}/locations/${k}/`+te}let he={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Sd.AUDIO]}:e.config.responseModalities=[Sd.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const me=(c=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[],N=[];for(const D of me)if(this.isCallableTool(D)){const k=D;N.push(await k.tool())}else N.push(D);N.length>0&&(e.config.tools=N);const M={model:te,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?he=J9(this.apiClient,M):he=X9(this.apiClient,M),delete he.config,G.send(JSON.stringify(he)),new b7(G,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const M7={turnComplete:!0};class b7{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=fi(n.turns),e.isVertexAI()||(r=r.map(i=>jd(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(I7)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},M7),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:j9(e)}:n={realtimeInput:Z9(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function P7(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function F7(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xS=10;function SS(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Bl(l)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Bl(t){return"callTool"in t&&typeof t.callTool=="function"}function L7(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Bl(i)))!==null&&r!==void 0?r:!1}function AS(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Bl(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function CS(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class k7 extends ks{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,l,c;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!L7(n)||SS(n.config))return await this.generateContentInternal(d);const h=AS(n);if(h.length>0){const A=h.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let m,y;const E=fi(d.contents),x=(o=(i=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:xS;let R=0;for(;R<x&&(m=await this.generateContentInternal(d),!(!m.functionCalls||m.functionCalls.length===0));){const A=m.candidates[0].content,I=[];for(const q of(c=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&c!==void 0?c:[])if(Bl(q)){const G=await q.callTool(m.functionCalls);I.push(...G)}R++,y={role:"user",parts:I},d.contents=fi(d.contents),d.contents.push(A),d.contents.push(y),CS(d.config)&&(E.push(A),E.push(y))}return CS(d.config)&&(m.automaticFunctionCallingHistory=E),m},this.generateContentStream=async n=>{var r,i,o,l,c;if(this.maybeMoveToResponseJsonSchem(n),SS(n.config)){const y=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(y)}const d=AS(n);if(d.length>0){const y=d.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${y}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,m=(c=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||c===void 0?void 0:c.disable;if(h&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((i=d==null?void 0:d.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:l.push(d);let c;return o?c={generatedImages:l,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:c={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},c}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Fo(Fs.PAGED_ITEM_MODELS,c=>this.listInternal(c),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,l,c,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.uri&&(!((d=(c=n.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const l=await Promise.all(o.map(async d=>Bl(d)?await d.tool():d)),c={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(c.config.tools=l,e.config&&e.config.tools&&Aw(e.config.tools)){const d=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let h=Object.assign({},d);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Cw(h),c.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return c}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const l of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Bl(l)){const c=l,d=await c.tool();for(const h of(i=d.functionDeclarations)!==null&&i!==void 0?i:[]){if(!h.name)throw new Error("Function declaration name is required.");if(o.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);o.set(h.name,c)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:xS;let l=!1,c=0;const d=await this.initAfcToolsMap(e);return(function(h,m,y){return Ul(this,arguments,function*(){for(var E,x,R,A,I,q;c<o;){l&&(c++,l=!1);const he=yield Zt(h.processParamsMaybeAddMcpUsage(y)),me=yield Zt(h.generateContentStreamInternal(he)),N=[],M=[];try{for(var X=!0,G=(x=void 0,Ic(me)),te;te=yield Zt(G.next()),E=te.done,!E;X=!0){A=te.value,X=!1;const D=A;if(yield yield Zt(D),D.candidates&&(!((I=D.candidates[0])===null||I===void 0)&&I.content)){M.push(D.candidates[0].content);for(const k of(q=D.candidates[0].content.parts)!==null&&q!==void 0?q:[])if(c<o&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(k.functionCall.name)){const F=yield Zt(m.get(k.functionCall.name).callTool([k.functionCall]));N.push(...F)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(D){x={error:D}}finally{try{!X&&!E&&(R=G.return)&&(yield Zt(R.call(G)))}finally{if(x)throw x.error}}if(N.length>0){l=!0;const D=new ac;D.candidates=[{content:{role:"user",parts:N}}],yield yield Zt(D);const k=[];k.push(...M),k.push({role:"user",parts:N});const F=fi(y.contents).concat(k);y.contents=F}else break}})})(this,d,e)}async generateContentInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=vS(this.apiClient,e);return c=He("{model}:generateContent",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=TS(m),E=new ac;return Object.assign(E,y),E})}else{const h=_S(this.apiClient,e);return c=He("{model}:generateContent",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=yS(m),E=new ac;return Object.assign(E,y),E})}}async generateContentStreamInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=vS(this.apiClient,e);return c=He("{model}:streamGenerateContent?alt=sse",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(y){return Ul(this,arguments,function*(){var E,x,R,A;try{for(var I=!0,q=Ic(y),X;X=yield Zt(q.next()),E=X.done,!E;I=!0){A=X.value,I=!1;const G=A,te=TS(yield Zt(G.json()));te.sdkHttpResponse={headers:G.headers};const he=new ac;Object.assign(he,te),yield yield Zt(he)}}catch(G){x={error:G}}finally{try{!I&&!E&&(R=q.return)&&(yield Zt(R.call(q)))}finally{if(x)throw x.error}}})})}else{const h=_S(this.apiClient,e);return c=He("{model}:streamGenerateContent?alt=sse",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.requestStream({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(y){return Ul(this,arguments,function*(){var E,x,R,A;try{for(var I=!0,q=Ic(y),X;X=yield Zt(q.next()),E=X.done,!E;I=!0){A=X.value,I=!1;const G=A,te=yS(yield Zt(G.json()));te.sdkHttpResponse={headers:G.headers};const he=new ac;Object.assign(he,te),yield yield Zt(he)}}catch(G){x={error:G}}finally{try{!I&&!E&&(R=q.return)&&(yield Zt(R.call(q)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=DU(this.apiClient,e);return c=He("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=bU(m),E=new eS;return Object.assign(E,y),E})}else{const h=NU(this.apiClient,e);return c=He("{model}:batchEmbedContents",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=MU(m),E=new eS;return Object.assign(E,y),E})}}async generateImagesInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=qU(this.apiClient,e);return c=He("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=YU(m),E=new tS;return Object.assign(E,y),E})}else{const h=GU(this.apiClient,e);return c=He("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=zU(m),E=new tS;return Object.assign(E,y),E})}}async editImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=CU(this.apiClient,e);return o=He("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const h=wU(d),m=new FO;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=qB(this.apiClient,e);return o=He("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const h=zB(d),m=new LO;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=AB(this.apiClient,e);return o=He("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const h=CB(d),m=new kO;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=MB(this.apiClient,e);return o=He("{model}:predict",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const h=bB(d),m=new OO;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=lB(this.apiClient,e);return c=He("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>ig(m))}else{const h=oB(this.apiClient,e);return c=He("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>rg(m))}}async listInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=_B(this.apiClient,e);return c=He("{models_url}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=yB(m),E=new nS;return Object.assign(E,y),E})}else{const h=gB(this.apiClient,e);return c=He("{models_url}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=vB(m),E=new nS;return Object.assign(E,y),E})}}async update(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=HB(this.apiClient,e);return c=He("{model}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>ig(m))}else{const h=BB(this.apiClient,e);return c=He("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>rg(m))}}async delete(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=EU(this.apiClient,e);return c=He("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=SU(m),E=new rS;return Object.assign(E,y),E})}else{const h=TU(this.apiClient,e);return c=He("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=xU(m),E=new rS;return Object.assign(E,y),E})}}async countTokens(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=_U(this.apiClient,e);return c=He("{model}:countTokens",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=yU(m),E=new iS;return Object.assign(E,y),E})}else{const h=gU(this.apiClient,e);return c=He("{model}:countTokens",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=vU(m),E=new iS;return Object.assign(E,y),E})}}async computeTokens(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=uU(this.apiClient,e);return o=He("{model}:computeTokens",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>{const h=cU(d),m=new VO;return Object.assign(m,h),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=QU(this.apiClient,e);return c=He("{model}:predictLongRunning",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l.then(m=>{const y=JU(m),E=new Ad;return Object.assign(E,y),E})}else{const h=$U(this.apiClient,e);return c=He("{model}:predictLongRunning",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>{const y=XU(m),E=new Ad;return Object.assign(E,y),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class O7 extends ks{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=IO(e);return c=He("{operationName}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),l}else{const h=RO(e);return c=He("{operationName}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=TO(e);return o=He("{resourceName}:fetchPredictOperation",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V7(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function U7(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>X7(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function B7(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const l=p(e,["uses"]);n!==void 0&&l!=null&&g(n,["uses"],l);const c=p(e,["liveConnectConstraints"]);n!==void 0&&c!=null&&g(n,["bidiGenerateContentSetup"],W7(t,c));const d=p(e,["lockAdditionalFields"]);return n!==void 0&&d!=null&&g(n,["fieldMask"],d),r}function H7(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],B7(t,r,n)),n}function G7(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function q7(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function z7(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Y7(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function K7(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const l=p(t,["topP"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topP"],l);const c=p(t,["topK"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","topK"],c);const d=p(t,["maxOutputTokens"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","maxOutputTokens"],d);const h=p(t,["mediaResolution"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","mediaResolution"],h);const m=p(t,["seed"]);e!==void 0&&m!=null&&g(e,["setup","generationConfig","seed"],m);const y=p(t,["speechConfig"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","speechConfig"],v1(y));const E=p(t,["thinkingConfig"]);e!==void 0&&E!=null&&g(e,["setup","generationConfig","thinkingConfig"],E);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const R=p(t,["systemInstruction"]);e!==void 0&&R!=null&&g(e,["setup","systemInstruction"],U7(or(R)));const A=p(t,["tools"]);if(e!==void 0&&A!=null){let me=au(A);Array.isArray(me)&&(me=me.map(N=>$7(su(N)))),g(e,["setup","tools"],me)}const I=p(t,["sessionResumption"]);e!==void 0&&I!=null&&g(e,["setup","sessionResumption"],J7(I));const q=p(t,["inputAudioTranscription"]);e!==void 0&&q!=null&&g(e,["setup","inputAudioTranscription"],q);const X=p(t,["outputAudioTranscription"]);e!==void 0&&X!=null&&g(e,["setup","outputAudioTranscription"],X);const G=p(t,["realtimeInputConfig"]);e!==void 0&&G!=null&&g(e,["setup","realtimeInputConfig"],G);const te=p(t,["contextWindowCompression"]);e!==void 0&&te!=null&&g(e,["setup","contextWindowCompression"],te);const he=p(t,["proactivity"]);return e!==void 0&&he!=null&&g(e,["setup","proactivity"],he),n}function W7(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],St(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],K7(i,n)),n}function X7(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],G7(o));const l=p(t,["functionCall"]);l!=null&&g(e,["functionCall"],q7(l));const c=p(t,["functionResponse"]);c!=null&&g(e,["functionResponse"],c);const d=p(t,["inlineData"]);d!=null&&g(e,["inlineData"],V7(d));const h=p(t,["text"]);h!=null&&g(e,["text"],h);const m=p(t,["thought"]);m!=null&&g(e,["thought"],m);const y=p(t,["thoughtSignature"]);y!=null&&g(e,["thoughtSignature"],y);const E=p(t,["videoMetadata"]);return E!=null&&g(e,["videoMetadata"],E),e}function J7(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $7(t){const e={},n=p(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(y=>y)),g(e,["functionDeclarations"],m)}if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=p(t,["googleSearchRetrieval"]);r!=null&&g(e,["googleSearchRetrieval"],r);const i=p(t,["computerUse"]);i!=null&&g(e,["computerUse"],i);const o=p(t,["fileSearch"]);o!=null&&g(e,["fileSearch"],o);const l=p(t,["codeExecution"]);if(l!=null&&g(e,["codeExecution"],l),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=p(t,["googleMaps"]);c!=null&&g(e,["googleMaps"],z7(c));const d=p(t,["googleSearch"]);d!=null&&g(e,["googleSearch"],Y7(d));const h=p(t,["urlContext"]);return h!=null&&g(e,["urlContext"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q7(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Z7(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Q7(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let c=[];i.length>0&&(c=i.map(h=>l.includes(h)?`generationConfig.${h}`:h));const d=[];o&&d.push(o),c.length>0&&d.push(...c),d.length>0?t.fieldMask=d.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class j7 extends ks{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const c=H7(this.apiClient,e);o=He("auth_tokens",c._url),l=c._query,delete c.config,delete c._url,delete c._query;const d=Z7(c,e.config);return i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),i.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eH(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function tH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&eH(r,e),e}function nH(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function rH(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function iH(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&rH(r,e),e}function sH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aH extends ks{constructor(e){super(),this.apiClient=e,this.list=async n=>new Fo(Fs.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nH(e);return o=He("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=tH(e);i=He("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=iH(e);return o=He("{parent}/documents",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const h=sH(d),m=new UO;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oH extends ks{constructor(e,n=new aH(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Fo(Fs.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=QB(e);return o=He("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async get(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=e7(e);return o=He("{name}",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=jB(e);i=He("{name}",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=a7(e);return o=He("fileSearchStores",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const h=o7(d),m=new BO;return Object.assign(m,h),m})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=l7(e);return o=He("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const h=u7(d),m=new HO;return Object.assign(m,h),m})}}async importFile(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=r7(e);return o=He("{file_search_store_name}:importFile",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>{const h=n7(d),m=new d1;return Object.assign(m,h),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lH(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function uH(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function cH(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function fH(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function hH(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const l=p(t,["learningRateMultiplier"]);if(l!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const c=p(t,["batchSize"]);e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","batchSize"],c);const d=p(t,["learningRate"]);if(e!==void 0&&d!=null&&g(e,["tuningTask","hyperparameters","learningRate"],d),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function dH(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec"],wS(x))}else if(i==="PREFERENCE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec"],wS(x))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const l=p(t,["description"]);e!==void 0&&l!=null&&g(e,["description"],l);let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(c==="PREFERENCE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(d==="PREFERENCE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let h=p(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(h==="PREFERENCE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let m=p(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(m==="PREFERENCE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const y=p(t,["labels"]);e!==void 0&&y!=null&&g(e,["labels"],y);const E=p(t,["beta"]);return e!==void 0&&E!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],E),r}function pH(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&CH(o);const l=p(t,["config"]);return l!=null&&hH(l,n),n}function mH(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&wH(o,n,e);const l=p(t,["config"]);return l!=null&&dH(l,n,e),n}function gH(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function _H(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function vH(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const l=p(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),r}function yH(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const l=p(t,["filter"]);return e!==void 0&&l!=null&&g(e,["_query","filter"],l),r}function TH(t,e){const n={},r=p(t,["config"]);return r!=null&&vH(r,n),n}function EH(t,e){const n={},r=p(t,["config"]);return r!=null&&yH(r,n),n}function xH(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>ww(c))),g(n,["tuningJobs"],l)}return n}function SH(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>ag(c))),g(n,["tuningJobs"],l)}return n}function AH(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const i=p(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function CH(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(n,["examples","examples"],i)}return n}function wH(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=p(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=p(t,["gcsUri"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const l=p(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(o==="PREFERENCE_TUNING"){const l=p(t,["vertexDatasetResource"]);e!==void 0&&l!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function ww(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],aw(o));const l=p(t,["createTime"]);l!=null&&g(n,["createTime"],l);const c=p(t,["tuningTask","startTime"]);c!=null&&g(n,["startTime"],c);const d=p(t,["tuningTask","completeTime"]);d!=null&&g(n,["endTime"],d);const h=p(t,["updateTime"]);h!=null&&g(n,["updateTime"],h);const m=p(t,["description"]);m!=null&&g(n,["description"],m);const y=p(t,["baseModel"]);y!=null&&g(n,["baseModel"],y);const E=p(t,["_self"]);return E!=null&&g(n,["tunedModel"],AH(E)),n}function ag(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],aw(o));const l=p(t,["createTime"]);l!=null&&g(n,["createTime"],l);const c=p(t,["startTime"]);c!=null&&g(n,["startTime"],c);const d=p(t,["endTime"]);d!=null&&g(n,["endTime"],d);const h=p(t,["updateTime"]);h!=null&&g(n,["updateTime"],h);const m=p(t,["error"]);m!=null&&g(n,["error"],m);const y=p(t,["description"]);y!=null&&g(n,["description"],y);const E=p(t,["baseModel"]);E!=null&&g(n,["baseModel"],E);const x=p(t,["tunedModel"]);x!=null&&g(n,["tunedModel"],x);const R=p(t,["preTunedModel"]);R!=null&&g(n,["preTunedModel"],R);const A=p(t,["supervisedTuningSpec"]);A!=null&&g(n,["supervisedTuningSpec"],A);const I=p(t,["preferenceOptimizationSpec"]);I!=null&&g(n,["preferenceOptimizationSpec"],I);const q=p(t,["tuningDataStats"]);q!=null&&g(n,["tuningDataStats"],q);const X=p(t,["encryptionSpec"]);X!=null&&g(n,["encryptionSpec"],X);const G=p(t,["partnerModelTuningSpec"]);G!=null&&g(n,["partnerModelTuningSpec"],G);const te=p(t,["customBaseModel"]);te!=null&&g(n,["customBaseModel"],te);const he=p(t,["experiment"]);he!=null&&g(n,["experiment"],he);const me=p(t,["labels"]);me!=null&&g(n,["labels"],me);const N=p(t,["outputUri"]);N!=null&&g(n,["outputUri"],N);const M=p(t,["pipelineJob"]);M!=null&&g(n,["pipelineJob"],M);const D=p(t,["serviceAccount"]);D!=null&&g(n,["serviceAccount"],D);const k=p(t,["tunedModelDisplayName"]);k!=null&&g(n,["tunedModelDisplayName"],k);const F=p(t,["veoTuningSpec"]);return F!=null&&g(n,["veoTuningSpec"],F),n}function RH(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const l=p(t,["done"]);l!=null&&g(n,["done"],l);const c=p(t,["error"]);return c!=null&&g(n,["error"],c),n}function wS(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IH extends ks{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Fo(Fs.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let l="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?l=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(l=o.name.split("/operations/")[0]),{name:l,state:jm.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=_H(e);return c=He("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>ag(m))}else{const h=gH(e);return c=He("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>ww(m))}}async listInternal(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=EH(e);return c=He("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=SH(m),E=new sS;return Object.assign(E,y),E})}else{const h=TH(e);return c=He("tunedModels",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=xH(m),E=new sS;return Object.assign(E,y),E})}}async cancel(e){var n,r,i,o;let l,c="",d={};if(this.apiClient.isVertexAI()){const h=uH(e);return c=He("{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=fH(m),E=new aS;return Object.assign(E,y),E})}else{const h=lH(e);return c=He("{name}:cancel",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json().then(y=>{const E=y;return E.sdkHttpResponse={headers:m.headers},E})),l.then(m=>{const y=cH(m),E=new aS;return Object.assign(E,y),E})}}async tuneInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI()){const c=mH(e,e);return o=He("tuningJobs",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>ag(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=pH(e);return o=He("tunedModels",c._url),l=c._query,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(h=>{const m=h;return m.sdkHttpResponse={headers:d.headers},m})),i.then(d=>RH(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NH{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const DH=1024*1024*8,MH=3,bH=1e3,PH=2,wd="x-goog-upload-status";async function FH(t,e,n){var r;const i=await Rw(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[wd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function LH(t,e,n){var r;const i=await Rw(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[wd])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=ew(o),c=new p1;return Object.assign(c,l),c}async function Rw(t,e,n){var r,i;let o=0,l=0,c=new eg(new Response),d="upload";for(o=t.size;l<o;){const h=Math.min(DH,o-l),m=t.slice(l,l+h);l+h>=o&&(d+=", finalize");let y=0,E=bH;for(;y<MH&&(c=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(h)}}}),!(!((r=c==null?void 0:c.headers)===null||r===void 0)&&r[wd]));)y++,await OH(E),E=E*PH;if(l+=h,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[wd])!=="active")break;if(o<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return c}async function kH(t){return{size:t.size,type:t.type}}function OH(t){return new Promise(e=>setTimeout(e,t))}class VH{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FH(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await LH(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kH(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UH{create(e,n,r){return new BH(e,n,r)}}class BH{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RS="x-goog-api-key";class HH{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(RS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(RS,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GH="gl-node/";class qH{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=vO(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new HH(this.apiKey);this.apiClient=new _7({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:GH+"web",uploader:new VH,downloader:new NH}),this.models=new k7(this.apiClient),this.live=new D7(this.apiClient,i,new UH),this.batches=new WV(this.apiClient),this.chats=new I9(this.models,this.apiClient),this.caches=new C9(this.apiClient),this.files=new V9(this.apiClient),this.operations=new O7(this.apiClient),this.authTokens=new j7(this.apiClient),this.tunings=new IH(this.apiClient),this.fileSearchStores=new oH(this.apiClient)}}const zH=()=>{const[t,e]=qt.useState(!1),[n,r]=qt.useState(!1),[i,o]=qt.useState(""),[l,c]=qt.useState(""),[d,h]=qt.useState(""),[m,y]=qt.useState("general"),{config:E,updateConfig:x,resetConfig:R}=Rd(),[A,I]=qt.useState(""),[q,X]=qt.useState(null),[G,te]=qt.useState(null),[he,me]=qt.useState(!1),[N,M]=qt.useState(null),D=Ee=>{Ee.preventDefault(),i.trim()==="jorge"&&l.trim()==="79710214"?(r(!0),h("")):h("Credenciales incorrectas. Intente nuevamente.")},k=Ee=>{const ie=dm();if(ie.length===0){alert("No hay registros para exportar.");return}const we=ie.map(ee=>({"Nombre Completo":ee.fullName,"No. Invitacin":ee.inviteNumber,WhatsApp:ee.whatsapp,"Cantidad Nios":ee.childCount,Gnero:ee.genderSelection,Departamento:ee.department,Municipio:ee.municipality,Distrito:ee.district||"N/A","Direccin Detallada":ee.addressDetails||"N/A","Fecha Registro":new Date(ee.timestamp).toLocaleString("es-SV")})),Be=xm.json_to_sheet(we),Xe=xm.book_new();xm.book_append_sheet(Xe,Be,"Registros");const je=`EntregaJuguetes_Registros_${new Date().toISOString().split("T")[0]}`;Ee==="xlsx"?tx(Xe,`${je}.xlsx`):tx(Xe,`${je}.csv`)},F=(Ee,ie)=>{x({[Ee]:ie})},K=Ee=>{var we;const ie=(we=Ee.target.files)==null?void 0:we[0];if(ie){const Be=new FileReader;Be.onloadend=()=>{X(Be.result),te(null)},Be.readAsDataURL(ie)}},L=async()=>{var Ee,ie,we,Be;if(!A.trim()){M("Por favor ingresa una descripcin para la IA.");return}me(!0),M(null);try{const Xe=new qH({apiKey:"PLACEHOLDER_API_KEY"}),je=[];if(q){const J=q.split(",")[1],Q=((Ee=q.match(/[^:]\w+\/[\w-+\d.]+(?=;|,)/))==null?void 0:Ee[0])||"image/png";je.push({inlineData:{mimeType:Q,data:J}})}je.push({text:A});const ee=await Xe.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:je}});let O=!1;const j=ee.candidates;if(j&&j[0].content&&j[0].content.parts){for(const J of j[0].content.parts)if(J.inlineData){const Q=`data:${J.inlineData.mimeType};base64,${J.inlineData.data}`;te(Q),O=!0;break}}if(!O){const J=(Be=(we=(ie=j==null?void 0:j[0])==null?void 0:ie.content)==null?void 0:we.parts)==null?void 0:Be.find(Q=>Q.text);M(J?`El modelo respondi solo con texto: ${J.text}`:"No se pudo generar la imagen. Intenta con otro prompt.")}}catch(Xe){console.error("AI Generation Error",Xe),M(`Error al generar imagen: ${Xe.message}`)}finally{me(!1)}},Ye=()=>{G&&(F("heroBackgroundImage",G),alert("Imagen aplicada al fondo exitosamente."))};return t?H.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:H.jsxs("div",{className:"bg-white w-full max-w-4xl h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[H.jsxs("div",{className:"bg-slate-800 text-white px-6 py-4 flex justify-between items-center flex-shrink-0",children:[H.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[H.jsx(xh,{className:"w-5 h-5"}),"Panel Administrativo"]}),H.jsx("button",{onClick:()=>e(!1),className:"text-slate-400 hover:text-white transition-colors",children:H.jsx(rT,{className:"w-6 h-6"})})]}),n?H.jsxs("div",{className:"flex flex-grow overflow-hidden",children:[H.jsxs("div",{className:"w-64 bg-slate-100 border-r border-slate-200 overflow-y-auto hidden md:block",children:[H.jsxs("div",{className:"p-4 space-y-2",children:[H.jsx(oc,{active:m==="general",onClick:()=>y("general"),icon:H.jsx(xh,{size:18}),label:"General"}),H.jsx(oc,{active:m==="hero",onClick:()=>y("hero"),icon:H.jsx(jy,{size:18}),label:"Hero & Estilo"}),H.jsx(oc,{active:m==="content",onClick:()=>y("content"),icon:H.jsx(nT,{size:18}),label:"Contenido"}),H.jsx(oc,{active:m==="whatsapp",onClick:()=>y("whatsapp"),icon:H.jsx(eT,{size:18}),label:"WhatsApp & Ubicacin"}),H.jsx(oc,{active:m==="data",onClick:()=>y("data"),icon:H.jsx(tm,{size:18}),label:"Base de Datos"})]}),H.jsxs("div",{className:"p-4 mt-auto border-t border-slate-200 space-y-2",children:[H.jsxs("button",{onClick:()=>r(!1),className:"flex items-center gap-2 text-xs text-slate-600 hover:text-slate-800 w-full px-4 py-2 hover:bg-slate-200 rounded",children:[H.jsx(Am,{size:14})," Cerrar Sesin"]}),H.jsxs("button",{onClick:()=>{confirm("Restaurar toda la configuracin de fbrica?")&&R()},className:"flex items-center gap-2 text-xs text-red-600 hover:text-red-800 w-full px-4 py-2 hover:bg-red-50 rounded",children:[H.jsx(WI,{size:14})," Restaurar Defaults"]})]})]}),H.jsxs("div",{className:"md:hidden w-full overflow-x-auto flex border-b border-slate-200 bg-slate-50 flex-shrink-0",children:[H.jsx(lc,{active:m==="general",onClick:()=>y("general"),icon:H.jsx(xh,{size:18})}),H.jsx(lc,{active:m==="hero",onClick:()=>y("hero"),icon:H.jsx(jy,{size:18})}),H.jsx(lc,{active:m==="content",onClick:()=>y("content"),icon:H.jsx(nT,{size:18})}),H.jsx(lc,{active:m==="whatsapp",onClick:()=>y("whatsapp"),icon:H.jsx(eT,{size:18})}),H.jsx(lc,{active:m==="data",onClick:()=>y("data"),icon:H.jsx(tm,{size:18})})]}),H.jsxs("div",{className:"flex-grow p-6 overflow-y-auto bg-slate-50",children:[m==="general"&&H.jsxs("div",{className:"space-y-6 animate-fade-in",children:[H.jsx(uc,{title:"Configuracin General",description:"Controla el estado principal del evento."}),H.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm space-y-4",children:[H.jsxs("div",{className:"flex items-center justify-between",children:[H.jsxs("div",{children:[H.jsx("label",{className:"font-semibold text-slate-700",children:"Estado del Registro"}),H.jsx("p",{className:"text-xs text-slate-500",children:"Activa o desactiva el formulario manualmente."})]}),H.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[H.jsx("input",{type:"checkbox",checked:E.isRegistrationOpen,onChange:Ee=>F("isRegistrationOpen",Ee.target.checked),className:"sr-only peer"}),H.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),H.jsx("hr",{className:"border-slate-100"}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Lmite Mximo de Registros"}),H.jsx("input",{type:"number",value:E.maxRegistrations,onChange:Ee=>F("maxRegistrations",Number(Ee.target.value)),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"}),H.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Actualmente hay ",dm().length," registros. Si bajas el lmite por debajo de este nmero, se cerrar el registro."]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Fecha del Evento (Texto)"}),H.jsx("input",{type:"text",value:E.eventDate,onChange:Ee=>F("eventDate",Ee.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]})]})]}),m==="hero"&&H.jsxs("div",{className:"space-y-6 animate-fade-in",children:[H.jsx(uc,{title:"Seccin Hero & Estilos",description:"Personaliza la primera impresin de la pgina."}),H.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm space-y-4",children:[H.jsx(va,{label:"Ttulo Principal",value:E.heroTitle,onChange:Ee=>F("heroTitle",Ee)}),H.jsx(va,{label:"Subttulo",value:E.heroSubtitle,onChange:Ee=>F("heroSubtitle",Ee)}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"URL Imagen de Fondo (Manual)"}),H.jsx("input",{type:"text",value:E.heroBackgroundImage,onChange:Ee=>F("heroBackgroundImage",Ee.target.value),placeholder:"https://ejemplo.com/imagen.jpg",className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]})]}),H.jsxs("div",{className:"bg-gradient-to-r from-violet-50 to-blue-50 p-6 rounded-xl border border-violet-100 shadow-sm",children:[H.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[H.jsx("div",{className:"bg-gradient-to-br from-violet-500 to-fuchsia-500 text-white p-2 rounded-lg",children:H.jsx(tT,{size:20})}),H.jsxs("div",{children:[H.jsx("h4",{className:"font-bold text-slate-800",children:"Editor de Fondo con IA"}),H.jsx("p",{className:"text-xs text-slate-500",children:"Impulsado por Gemini 2.5 Flash Image"})]})]}),H.jsxs("div",{className:"space-y-4",children:[H.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"1. Imagen Base (Opcional)"}),H.jsx("div",{className:"flex items-center gap-2",children:H.jsxs("label",{className:"cursor-pointer flex items-center justify-center gap-2 bg-white border border-slate-300 hover:bg-slate-50 text-slate-600 px-4 py-2 rounded-lg text-sm w-full transition-colors",children:[H.jsx(e4,{size:16}),"Subir Imagen",H.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:K})]})}),q&&H.jsxs("div",{className:"mt-2 relative group rounded-lg overflow-hidden border border-slate-200 h-32 bg-slate-100",children:[H.jsx("img",{src:q,alt:"Source",className:"w-full h-full object-cover"}),H.jsx("button",{onClick:()=>X(null),className:"absolute top-1 right-1 bg-black/50 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:H.jsx(rT,{size:14})})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"2. Instruccin (Prompt)"}),H.jsx("textarea",{value:A,onChange:Ee=>I(Ee.target.value),placeholder:"Ej: Aade decoraciones navideas y luces clidas.",className:"w-full h-[88px] px-3 py-2 border border-slate-300 rounded-lg text-sm resize-none"})]})]}),H.jsx("button",{onClick:L,disabled:he||!A,className:`w-full py-3 rounded-lg text-white font-medium flex items-center justify-center gap-2 transition-all ${he||!A?"bg-slate-300 cursor-not-allowed":"bg-violet-600 hover:bg-violet-700 shadow-md hover:shadow-lg"}`,children:he?H.jsxs(H.Fragment,{children:[H.jsx(DS,{className:"animate-spin w-5 h-5"}),"Generando..."]}):H.jsxs(H.Fragment,{children:[H.jsx(tT,{className:"w-5 h-5"}),"Generar Imagen"]})}),N&&H.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-sm rounded-lg border border-red-200",children:N}),G&&H.jsxs("div",{className:"mt-6 border-t border-violet-200 pt-4 animate-fade-in",children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Resultado"}),H.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-lg border border-slate-200 mb-4 bg-slate-900",children:H.jsx("img",{src:G,alt:"Generated",className:"w-full h-48 md:h-64 object-contain mx-auto"})}),H.jsxs("button",{onClick:Ye,className:"w-full py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium flex items-center justify-center gap-2 shadow-sm transition-colors",children:[H.jsx(SI,{className:"w-4 h-4"}),"Usar como Fondo del Hero"]})]})]})]})]}),m==="content"&&H.jsxs("div",{className:"space-y-6 animate-fade-in",children:[H.jsx(uc,{title:"Contenido Informativo",description:"Edita los textos de las tarjetas de informacin."}),H.jsxs("div",{className:"grid gap-6",children:[H.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm space-y-4",children:[H.jsx("h4",{className:"font-semibold text-blue-800",children:"Tarjeta 1: Para quin es?"}),H.jsx(va,{label:"Ttulo",value:E.infoTargetTitle,onChange:Ee=>F("infoTargetTitle",Ee)}),H.jsx(Sm,{label:"Descripcin",value:E.infoTargetDescription,onChange:Ee=>F("infoTargetDescription",Ee)})]}),H.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm space-y-4",children:[H.jsx("h4",{className:"font-semibold text-blue-800",children:"Tarjeta 2: Requisitos"}),H.jsx(va,{label:"Ttulo",value:E.infoRequirementsTitle,onChange:Ee=>F("infoRequirementsTitle",Ee)}),H.jsx(Sm,{label:"Descripcin",value:E.infoRequirementsDescription,onChange:Ee=>F("infoRequirementsDescription",Ee)})]}),H.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm space-y-4",children:[H.jsx("h4",{className:"font-semibold text-blue-800",children:"Tarjeta 3: Ubicacin"}),H.jsx(va,{label:"Ttulo",value:E.infoLocationTitle,onChange:Ee=>F("infoLocationTitle",Ee)}),H.jsx(Sm,{label:"Descripcin",value:E.infoLocationDescription,onChange:Ee=>F("infoLocationDescription",Ee)})]})]})]}),m==="whatsapp"&&H.jsxs("div",{className:"space-y-6 animate-fade-in",children:[H.jsx(uc,{title:"WhatsApp y Ubicacin",description:"Configura el contacto y los valores por defecto."}),H.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm space-y-4",children:[H.jsx("h4",{className:"font-semibold text-green-700 mb-2",children:"Configuracin WhatsApp"}),H.jsx(va,{label:"Nmero de Organizacin",value:E.orgPhoneNumber,onChange:Ee=>F("orgPhoneNumber",Ee)}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Plantilla del Mensaje"}),H.jsx("textarea",{value:E.whatsappTemplate,onChange:Ee=>F("whatsappTemplate",Ee.target.value),rows:6,className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-sm font-mono"}),H.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Variables disponibles: ","{name}, {count}, {gender}, {date}"]})]})]}),H.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm space-y-4",children:[H.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"Valores por Defecto (Ubicacin)"}),H.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Departamento"}),H.jsx("select",{value:E.defaultDepartment,onChange:Ee=>F("defaultDepartment",Ee.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg",children:a4.map(Ee=>H.jsx("option",{value:Ee,children:Ee},Ee))})]}),H.jsx(va,{label:"Municipio",value:E.defaultMunicipality,onChange:Ee=>F("defaultMunicipality",Ee)}),H.jsx(va,{label:"Distrito",value:E.defaultDistrict,onChange:Ee=>F("defaultDistrict",Ee)})]})]})]}),m==="data"&&H.jsxs("div",{className:"space-y-6 animate-fade-in",children:[H.jsx(uc,{title:"Base de Datos",description:"Descarga los registros obtenidos."}),H.jsxs("div",{className:"bg-white p-8 rounded-xl border border-slate-200 shadow-sm flex flex-col items-center justify-center text-center space-y-6",children:[H.jsx("div",{className:"bg-blue-50 p-4 rounded-full",children:H.jsx(tm,{className:"w-12 h-12 text-blue-600"})}),H.jsxs("div",{children:[H.jsx("div",{className:"text-4xl font-bold text-slate-800",children:dm().length}),H.jsx("div",{className:"text-slate-500",children:"Registros Totales"})]}),H.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-md",children:[H.jsxs("button",{onClick:()=>k("csv"),className:"flex-1 flex items-center justify-center gap-2 bg-slate-600 hover:bg-slate-700 text-white py-3 px-4 rounded-lg transition-colors font-medium",children:[H.jsx(Zy,{className:"w-4 h-4"})," Exportar CSV"]}),H.jsxs("button",{onClick:()=>k("xlsx"),className:"flex-1 flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg transition-colors font-medium",children:[H.jsx(Zy,{className:"w-4 h-4"})," Exportar Excel"]})]})]})]})]})]}):H.jsx("div",{className:"flex-grow flex flex-col items-center justify-center bg-slate-50 p-4",children:H.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg border border-slate-200 w-full max-w-md",children:[H.jsx("div",{className:"flex justify-center mb-6",children:H.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:H.jsx(Am,{className:"w-8 h-8 text-blue-600"})})}),H.jsx("h3",{className:"text-2xl font-bold text-center text-slate-800 mb-2",children:"Acceso Restringido"}),H.jsx("p",{className:"text-center text-slate-500 mb-6",children:"Ingresa tus credenciales para administrar el sistema."}),H.jsxs("form",{onSubmit:D,className:"space-y-4",children:[d&&H.jsx("div",{className:"bg-red-50 text-red-600 text-sm p-3 rounded border border-red-200 text-center",children:d}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Usuario"}),H.jsxs("div",{className:"relative",children:[H.jsx(n4,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),H.jsx("input",{type:"text",value:i,onChange:Ee=>o(Ee.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Usuario"})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Contrasea"}),H.jsxs("div",{className:"relative",children:[H.jsx(UI,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),H.jsx("input",{type:"password",value:l,onChange:Ee=>c(Ee.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Contrasea"})]})]}),H.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors mt-2",children:"Ingresar"})]})]})})]})}):H.jsx("button",{onClick:()=>e(!0),className:"fixed bottom-6 left-6 z-50 bg-slate-800 text-white p-3 rounded-full shadow-lg hover:bg-slate-700 transition-all opacity-50 hover:opacity-100",title:"Panel Administrativo",children:H.jsx(xh,{className:"w-6 h-6"})})},oc=({active:t,onClick:e,icon:n,label:r})=>H.jsxs("button",{onClick:e,className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${t?"bg-white text-blue-600 shadow-sm":"text-slate-600 hover:bg-slate-200/50"}`,children:[n,r]}),lc=({active:t,onClick:e,icon:n})=>H.jsx("button",{onClick:e,className:`flex-1 flex items-center justify-center p-4 border-b-2 transition-colors ${t?"border-blue-600 text-blue-600 bg-white":"border-transparent text-slate-500"}`,children:n}),uc=({title:t,description:e})=>H.jsxs("div",{className:"mb-2",children:[H.jsx("h3",{className:"text-lg font-bold text-slate-800",children:t}),H.jsx("p",{className:"text-sm text-slate-500",children:e})]}),va=({label:t,value:e,onChange:n})=>H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:t}),H.jsx("input",{type:"text",value:e,onChange:r=>n(r.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),Sm=({label:t,value:e,onChange:n})=>H.jsxs("div",{children:[H.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:t}),H.jsx("textarea",{value:e,onChange:r=>n(r.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-lg"})]}),YH=()=>H.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col",children:[H.jsx(l4,{}),H.jsxs("main",{className:"flex-grow",children:[H.jsx(u4,{}),H.jsx(wb,{})]}),H.jsx(zH,{})]}),Iw=document.getElementById("root");if(!Iw)throw new Error("Could not find root element to mount to");const KH=gI.createRoot(Iw);KH.render(H.jsx(lI.StrictMode,{children:H.jsx(o4,{children:H.jsx(YH,{})})}));
